(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/index","common/base"],{"2e97":function(t,n,e){"use strict";e.r(n);var o=e("7b9a"),a=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);n["default"]=a.a},4954:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})},"7b9a":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=!1,o={data:function(){return{loading:{show:!1,loading:{show:!1},error:{show:!1,icon:"http://open.woyaou.com/static/uimage/mall/error/icon_none_network@2x.png",title:"网络异常, 请稍后重试"}},token:"",skin:"",bgColor:"",mainColor:"",topHeight:0,footers:[{title:"首页",link:"/pages/index/index",icon:"icontabbar",sel_icon:"icontabbar_pre3"},{title:"分类",link:"/pages/classify/index",icon:"icontabbar2",sel_icon:"icontabbar_pre2"},{title:"发布",link:"/pages/publish/index",icon:"icontabbar1",sel_icon:"icontabbar_pre1"},{title:"好店",link:"/pages/shop/index",icon:"icontabbar3",sel_icon:"icontabbar_pre4"},{title:"我的",link:"/pages/mine/index",icon:"icontabbar4",sel_icon:"icontabbar_pre"}],baseUrl:""}},onLoad:function(n){console.log(e?"Debug模式":"发布模式");var o=this;void 0!=n.app_id&&(o.config.app_id=n.app_id),o.$data.topHeight="h5"==o.config.device?44:0,o.$data.baseUrl=o.config.baseUrl+"/wanneng",console.log("topHeight:"+o.$data.topHeight),o.showLoading(),o.$request.post("/website/api.initialization/Init",{app_id:o.config.app_id,device:o.config.device,scene_id:o.config.scene_id}).then(function(e){o.hideLoading(),o.printf(e.data.token),t.setStorageSync("token",e.data.token),o.$data.token=e.data.token,"toutiao"!=o.config.device&&t.setNavigationBarColor({backgroundColor:e.data.skin.theme.navigationBarBackgroundColor,frontColor:e.data.skin.theme.navigationBarFrontColor}),o.$data.skin=e.data.skin,o.$data.bgColor=e.data.skin.theme.bgColor,o.$data.mainColor=e.data.skin.theme.mainColor,o._Init(n)}).catch(function(t){o.printf(t),o.showErrorView(o.config.errorNodata,t.msg)})},methods:{setBaiduPageInfo:function(t){console.log("百度SEO配置"),console.log(t),"baidu"==this.config.device&&swan.setPageInfo&&swan.setPageInfo({title:t.title?"":t.title,keywords:t.keywords?"":t.keywords,description:t.description?"":t.description,releaseDate:t.releaseDate?"":t.releaseDate,image:t.image?"":t.image,success:function(){console.log("页面基础信息设置完成")}})},_Init:function(t){},printf:function(t){e&&console.log(t)},showLoading:function(){var t=this.$data.loading;t.show=!0,t.loading.show=!0,t.error.show=!1},hideLoading:function(){var t=this.$data.loading;t.show=!1,this.$data.loading=t},showErrorView:function(t,n){var e=this.$data.loading;e.show=!0,e.loading.show=!1,e.loading.show=!1,e.error.show=!0,e.error.icon=t,e.error.title=n,this.$data.loading=e}}};n.default=o}).call(this,e("543d")["default"])},"85c9":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("9751"));function a(t){return t&&t.__esModule?t:{default:t}}var i={extends:o.default,data:function(){return{tabIndex:1,categoryList:[],page:1,list:[],more:0,selectColor:"#00B5DE",footers:[{icon:"",sel_icon:"",name:"首页",link:"/pages/index/index",action:"link"},{icon:"",sel_icon:"",name:"产品",link:"/pages/product/index",action:"link"},{icon:"",sel_icon:"",name:"关于",link:"/pages/about/index",action:"link"},{icon:"",sel_icon:"",name:"联系",link:"",action:"phone"}]}},methods:{_Init:function(t){var n=this;n.$data.footers=n.$data.skin.footer.list,n.$data.selectColor=n.$data.skin.footer.selectColor,n.$data.tabIndex=n.config.getCurrPageIndex("/pages/product/index",n.$data.footers)-0,n.getCats()},getCats:function(){var n=this;n.$request.post("/website/api.product/getCats",{token:t.getStorageSync("token")}).then(function(t){var e=t.data;console.log(e.list),n.categoryList=e.list,n.getProductList(e.list[0].category_id)})},getProductList:function(n){var e=this,o=this,a=o.$data.list;o.$data.page<=1&&(a=[]),o.$request.post("/website/api.product/index",{token:t.getStorageSync("token"),category_id:n,page:o.$data.page}).then(function(t){o.hideLoading();var n=t.data;for(var i in e.setBaiduPageInfo(t.data.seo),n.list)a.push(n.list[i]);o.$data.list=a,o.$data.more=n.isMore,o.$data.page=o.$data.page+1})},tabListener:function(t){this.$data.page=1,this.getProductList(t)}}};n.default=i}).call(this,e("543d")["default"])},"8fd8":function(t,n,e){"use strict";e.r(n);var o=e("4954"),a=e("9446");for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);var r=e("2877"),s=Object(r["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=s.exports},9446:function(t,n,e){"use strict";e.r(n);var o=e("85c9"),a=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);n["default"]=a.a},9751:function(t,n,e){"use strict";e.r(n);var o=e("a1af"),a=e("2e97");for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);var r=e("2877"),s=Object(r["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=s.exports},a1af:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})}},[["fd47","common/runtime","common/vendor"]]]);