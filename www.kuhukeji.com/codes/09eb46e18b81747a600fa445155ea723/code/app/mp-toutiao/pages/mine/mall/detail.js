(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mall/detail"],{"2a7a":function(t,i,e){"use strict";e.r(i);var a=e("868e"),s=e("47d9f");for(var o in s)"default"!==o&&function(t){e.d(i,t,function(){return s[t]})}(o);e("b1e8");var d=e("2877"),r=Object(d["a"])(s["default"],a["a"],a["b"],!1,null,null,null);i["default"]=r.exports},"47d9f":function(t,i,e){"use strict";e.r(i);var a=e("d06f"),s=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=s.a},"868e":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("view",{staticClass:"goods-detail-box",attrs:{_hid:0}},[t._ri(!(0!=t.index),1)?e("block",{attrs:{_hid:1}},[e("view",{staticClass:"goods-video-box",attrs:{_hid:2}},[e("swiper",{staticStyle:{height:"100%"},attrs:{circular:"true",interval:"3000",duration:"500",autoplay:"true",_hid:3},on:{change:t.bannerChangeListener}},t._l(t.detail.photos,function(t,i,a){var s=void 0!==a?a:i;return e("swiper-item",{key:i,attrs:{_hid:4,_fid:s,_fk:"index"}},[e("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t,_hid:5,_fid:s,_batrs:"src"}})])},4,t._self)),e("view",{staticClass:"share-box",attrs:{_hid:6},on:{click:t.shareListener}},[e("text",{staticClass:"iconfont icon-btn_share",staticStyle:{color:"#fff"},attrs:{_hid:7}})]),e("button",{staticClass:"share-box",staticStyle:{background:"rgba(0,0,0,0)"},attrs:{"open-type":"share",_hid:8}}),t._ri(!!(t.detail&&t.detail.photos&&t.detail.photos.length>0),9)?e("view",{staticClass:"dot-bg",attrs:{_hid:9}},[t._v(t._s(t.currIndex)+"/"+t._s(t.detail.photos?t.detail.photos.length:0),10)]):t._e()],1),e("view",{staticClass:"goods-info",attrs:{_hid:11}},[e("view",{staticClass:"goods-name",attrs:{_hid:12}},[t._v(t._s(t.detail.goods_name),13)]),e("view",{staticClass:"goods-price",attrs:{_hid:14}},[e("text",{staticStyle:{color:"#ED3005","font-size":"16px"},attrs:{_hid:15}},[]),e("text",{staticStyle:{color:"#ED3005","font-size":"32px"},attrs:{_hid:17}},[t._v(t._s(t.detail.shop_price),18)]),e("text",{staticClass:"added-price",attrs:{_hid:19}},[t._v("+"+t._s(t.detail.integral),20)])]),e("view",{staticClass:"goods-desc",attrs:{_hid:21}},[e("view",{staticClass:"item-desc",attrs:{_hid:22}},[e("text",{staticStyle:{color:"#666666"},attrs:{_hid:23}},[]),e("text",{attrs:{_hid:25}},[t._v(t._s(t.detail&&0==t.detail.is_free_shipping?t.detail.shipping_price+"元":"包邮"),26)])]),e("view",{staticClass:"item-desc",attrs:{_hid:27}},[e("text",{staticStyle:{color:"#666666"},attrs:{_hid:28}},[]),e("text",{attrs:{_hid:30}},[t._v(t._s(t.detail&&t.detail.goods_num>=0?t.detail.goods_num:0),31)])]),e("view",{staticClass:"item-desc",attrs:{_hid:32}},[e("text",{staticStyle:{color:"#666666"},attrs:{_hid:33}},[]),e("text",{attrs:{_hid:35}},[t._v(t._s(t.detail.sales_sum),36)])])])]),e("view",{staticClass:"rule-box",attrs:{_hid:37}},[e("view",{staticClass:"rule-tit",attrs:{_hid:38}},[]),e("view",{staticClass:"rule-cont",attrs:{_hid:40}},[e("rich-view",{attrs:{iDatas:t.detail.rule,_hid:41,_batrs:"iDatas",_cid:0}})],1)]),t._ri(!1,1043)?e("view",{staticStyle:{width:"100%",height:"12px",background:"#f8f8f8"},attrs:{_hid:1043}}):t._e(),t._ri(!1,1044)?e("view",{staticClass:"goods-server-info",attrs:{_hid:1044}},[e("view",{staticClass:"item-server",attrs:{_hid:1045}},[e("text",{staticStyle:{width:"50px"},attrs:{_hid:1046}},[]),e("text",{attrs:{_hid:1048}},[])]),e("view",{staticClass:"item-server",attrs:{_hid:1050}},[e("text",{staticStyle:{width:"50px"},attrs:{_hid:1051}},[]),e("text",{attrs:{_hid:1053}},[])]),e("view",{staticClass:"item-server-desc",attrs:{_hid:1055}},[e("text",{staticStyle:{width:"50px","line-height":"50px"},attrs:{_hid:1056}},[]),e("view",{staticClass:"server-info",attrs:{_hid:1058}},[e("view",{staticClass:"sinfo-item",attrs:{_hid:1059}},[e("text",{staticClass:"iconfont icon-icon_success",attrs:{_hid:1060}}),e("text",{staticStyle:{"margin-left":"4px"},attrs:{_hid:1061}},[])]),e("view",{staticClass:"sinfo-item",attrs:{_hid:1063}},[e("text",{staticClass:"iconfont icon-icon_success",attrs:{_hid:1064}}),e("text",{staticStyle:{"margin-left":"4px"},attrs:{_hid:1065}},[])]),e("view",{staticClass:"sinfo-item",attrs:{_hid:1067}},[e("text",{staticClass:"iconfont icon-icon_success",attrs:{_hid:1068}}),e("text",{staticStyle:{"margin-left":"4px"},attrs:{_hid:1069}},[])])])])]):t._e(),e("goodsDescribe",{attrs:{attr:t.detail.goods_attr,content:t.detail.goods_content,_hid:1071,_batrs:"attr,content",_cid:1}}),e("view",{staticStyle:{width:"100%",height:"60px"},attrs:{_hid:2073}}),e("view",{staticClass:"bottom-info",attrs:{_hid:2074}},[e("view",{staticClass:"item-bottom-menu",attrs:{_hid:2075}},[e("view",{staticClass:"ib-menu",attrs:{_hid:2076},on:{click:t.toHomeListener}},[e("text",{staticClass:"iconfont icon-tabbar",staticStyle:{"font-size":"22px"},attrs:{_hid:2077}}),e("view",{staticStyle:{"font-size":"12px","margin-top":"5px"},attrs:{_hid:2078}},[])]),e("view",{staticClass:"ib-menu",attrs:{_hid:2080},on:{click:t.toCallPhone}},[e("text",{staticClass:"iconfont icon-btn_call",staticStyle:{"font-size":"22px"},attrs:{_hid:2081}}),e("view",{staticStyle:{"font-size":"12px","margin-top":"5px"},attrs:{_hid:2082}},[])])]),t._ri(!!(t.detail.goods_num>0),2084)?e("navigator",{staticClass:"item-bottom-menu",staticStyle:{color:"#fff","font-size":"18px",background:"#ED3005",flex:"1.5"},attrs:{url:"buy?goods_id="+t.goods_id,_hid:2084,_batrs:"url"}},[]):t._e(),t._ri(!(0!=t.detail.goods_num),2086)?e("view",{staticClass:"item-bottom-menu",staticStyle:{color:"#fff","font-size":"18px",background:"#999999",flex:"1.5"},attrs:{_hid:2086}},[]):t._e()],1)],1):t._e(),e("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",_hid:2088,_batrs:"img",_cid:2}}),e("ToastView",{attrs:{_hid:3090,_cid:3}})],1)},s=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return s})},"8cd7":function(t,i,e){},b1e8:function(t,i,e){"use strict";var a=e("8cd7"),s=e.n(a);s.a},d06f:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("8972"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{userid:0,index:0,tabBars:[{name:"商品",id:"0"},{name:"评价",id:"1"},{name:"推荐",id:"2"}],tData:{type:1,pbottom:0,ptop:22,mtop:0,data:{icon:"icon_quan",title:"领取优惠券"}},goods_id:"",detail:{},currIndex:1,imgBaseUrl:"",customerNum:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},components:{goodsDescribe:a.default},onLoad:function(i){var e=this,a=t.getStorageSync("user_id");void 0!=a&&""!=a&&(e.$data.userid=a),void 0!=i.pid&&""!=i.pid&&t.setStorageSync("pid",i.pid),e.wxb.printLog("=============onLoad================"),e.wxb.addPage(this),e.wxb.Init(i,function(t){e.$data.customerNum=t.info.tel,void 0!=i.id&&(e.$data.goods_id=i.id,e.getGoodsDetail())})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:""==t.$data.companyName?"积分商城":t.$data.companyName,path:"/pages/mine/mall/detail?pid="+t.$data.userid+"&id="+t.$data.id}},methods:{toCallPhone:function(i){var e=this,a=e.$data.customerNum;""!=a?t.makePhoneCall({phoneNumber:a}):t.showToast({title:"请先配置"})},toHomeListener:function(i){t.reLaunch({url:"/pages/index/index"})},bannerChangeListener:function(t){this.$data.currIndex=t.detail.current+1},tapTab:function(t){this.$data.index=t,console.log("==========")},catchTouchMove:function(t){},getGoodsDetail:function(t){var i=this;i.wxb.Post("/shop/api.integral/detail",{goods_id:i.$data.goods_id},function(t){"baidu"==i.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:t.seo.title?"":t.seo.title,keywords:t.seo.keywords?"":t.seo.keywords,description:t.seo.description?"":t.seo.description,releaseDate:t.seo.releaseDate?"":t.seo.releaseDate,image:t.seo.image?"":t.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),i.$data.detail=t.detail})}}};i.default=o}).call(this,e("f266")["default"])},f3e1:function(t,i,e){"use strict";e("2346");var a=o(e("2a7a")),s=o(e("3a53"));function o(t){return t&&t.__esModule?t:{default:t}}a.default.mpType="page";var d=new s.default(a.default);d.$mount()}},[["f3e1","common/runtime","common/vendor"]]]);