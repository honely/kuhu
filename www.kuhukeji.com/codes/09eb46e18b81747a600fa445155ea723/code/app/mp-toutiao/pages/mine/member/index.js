(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/member/index"],{"086b":function(t,i,s){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={data:function(){return{userid:0,current:0,member:"",paymentFlag:!1,stateIndex:0,imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(i){var s=this,a=t.getStorageSync("user_id");void 0!=a&&""!=a&&(s.$data.userid=a),void 0!=i.pid&&""!=i.pid&&t.setStorageSync("pid",i.pid),s.wxb.printLog(i),i.tabIndex&&(s.$data.tindex=i.tabIndex-0,s.$data.type=i.tabIndex-0),s.wxb.addPage(this),s.wxb.Init(i,function(t){s.getMemberInfo()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:""==t.$data.companyName?"会员中心":t.$data.companyName,path:"/pages/mine/member/index?pid="+t.$data.userid}},methods:{showPaymentWay:function(i){if(this.member.vip_price<.01)return t.showToast({title:"最低0.01元哦"}),!1;"h5"==this.wxb.device?this.$data.paymentFlag=!0:this.openMemberListener(0)},hidePaymentWay:function(t){this.$data.paymentFlag=!1},openMemberListener:function(t){var i=this,s="";2==t?s="ali":3==t&&(s="weixin"),i.$data.stateIndex=t,i.hidePaymentWay(),i.wxb.Post("/shop/api.vip/payForVip",{is_usermoney:1==t?1:0,pay_type:"h5"==i.wxb.device?s:""},function(t){if(0==t.is_pay)i.getMemberInfo();else if("h5"==i.wxb.device)if("weixin"==s)console.log("h5端支付跳转超链接"),window.location.href=t.order_info;else{var a=window.document.createElement("div");a.innerHTML=t.order_info,window.document.body.appendChild(a),window.document.forms.alipaysubmit.submit()}else i.wxb.paymentOrder(t,function(t){i.getMemberInfo()})})},onSwiperChangeListener:function(t){console.log(t),this.$data.current=t.detail.current},getMemberInfo:function(){var t=this;t.wxb.Post("/shop/api.vip/index",{},function(i){t.$data.member=i,"baidu"==t.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:i.seo.title?"":i.seo.title,keywords:i.seo.keywords?"":i.seo.keywords,description:i.seo.description?"":i.seo.description,releaseDate:i.seo.releaseDate?"":i.seo.releaseDate,image:i.seo.image?"":i.seo.image,success:function(){console.log("百度SEO信息设置完成")}})})},selectCoupon:function(i){console.log(i),t.reLaunch({url:"../../classify/index"})}}};i.default=s}).call(this,s("f266")["default"])},"3e9b":function(t,i,s){"use strict";s("2346");var a=r(s("50e9")),e=r(s("3a53"));function r(t){return t&&t.__esModule?t:{default:t}}a.default.mpType="page";var c=new e.default(a.default);c.$mount()},"50e9":function(t,i,s){"use strict";s.r(i);var a=s("ece6"),e=s("ea08");for(var r in e)"default"!==r&&function(t){s.d(i,t,function(){return e[t]})}(r);s("84bd");var c=s("2877"),n=Object(c["a"])(e["default"],a["a"],a["b"],!1,null,null,null);i["default"]=n.exports},"84bd":function(t,i,s){"use strict";var a=s("d5f7"),e=s.n(a);e.a},d5f7:function(t,i,s){},ea08:function(t,i,s){"use strict";s.r(i);var a=s("086b"),e=s.n(a);for(var r in a)"default"!==r&&function(t){s.d(i,t,function(){return a[t]})}(r);i["default"]=e.a},ece6:function(t,i,s){"use strict";var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("view",{staticClass:"member-box",attrs:{_hid:0}},[t._ri(!!t.member,1)?s("block",{attrs:{_hid:1}},[s("view",{staticClass:"member-base",attrs:{_hid:2}},[s("image",{staticClass:"img-bg",attrs:{src:t.imgBaseUrl+"/mine/bg_vip01@3x.png",_hid:3,_batrs:"src"}}),s("view",{staticClass:"m-grade-desc",attrs:{_hid:4}},[s("text",{staticClass:"mg-text",attrs:{_hid:5}},[]),s("text",{staticClass:"mg-line",attrs:{_hid:7}}),s("text",{staticClass:"mg-text",attrs:{_hid:8}},[])]),s("view",{staticClass:"m-grade-name",attrs:{_hid:10}},[])]),s("view",{staticClass:"member-menu",attrs:{_hid:12}},[s("swiper",{staticClass:"swiper-box",attrs:{circular:"true",_hid:13},on:{change:t.onSwiperChangeListener}},[s("swiper-item",{attrs:{_hid:14}},[s("view",{staticClass:"item-menu",attrs:{_hid:15}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights01@3x.png",_hid:16,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:17}},[])]),s("view",{staticClass:"item-menu",attrs:{_hid:19}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights02@3x.png",_hid:20,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:21}},[])]),s("view",{staticClass:"item-menu",attrs:{_hid:23}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights03@3x.png",_hid:24,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:25}},[])]),s("view",{staticClass:"item-menu",attrs:{_hid:27}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights04@3x.png",_hid:28,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:29}},[])])]),s("swiper-item",{attrs:{_hid:31}},[s("view",{staticClass:"item-menu",attrs:{_hid:32}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights05@3x.png",_hid:33,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:34}},[])]),s("view",{staticClass:"item-menu",attrs:{_hid:36}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights06@3x.png",_hid:37,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:38}},[])]),s("view",{staticClass:"item-menu",attrs:{_hid:40}},[s("image",{staticClass:"m-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_rights07@3x.png",_hid:41,_batrs:"src"}}),s("view",{staticClass:"m-name",attrs:{_hid:42}},[])])])],1),s("view",{staticClass:"dot-box",attrs:{_hid:44}},[s("text",{staticClass:"item-dot",class:0==t.current?"active":"",attrs:{_hid:45}}),s("text",{staticClass:"item-dot",class:1==t.current?"active":"",attrs:{_hid:46}})])],1),s("view",{staticClass:"manjian-box",attrs:{_hid:47}},[s("view",{staticClass:"mj-tit",attrs:{_hid:48}},[s("view",{staticClass:"t-lt",attrs:{_hid:49}},[s("text",{attrs:{_hid:50}},[])]),s("navigator",{staticClass:"t-rt",attrs:{url:"../../index/manjian/list",_hid:52}},[s("text",{staticStyle:{"margin-right":"10px"},attrs:{_hid:53}},[]),s("text",{staticClass:"iconfont icon-btn_arrowr",attrs:{_hid:55}})])],1),s("view",{staticClass:"mj-cont scroll-box",attrs:{"scroll-x":"true",_hid:56}},[s("scroll-view",{staticClass:"scroll-module",attrs:{"scroll-x":"true",_hid:57}},t._l(t.member.manjian,function(i,a,e){var r=void 0!==e?e:a;return s("navigator",{key:a,staticClass:"item-goods",attrs:{url:"../../index/goods/detail?goods_id="+i.goods_id,_hid:58,_fid:r,_batrs:"url",_fk:"i"}},[s("view",{staticClass:"g-img",attrs:{_hid:59,_fid:r}},[s("image",{staticClass:"img",attrs:{src:i.photo,_hid:60,_fid:r,_batrs:"src"}}),s("text",{staticClass:"tag",attrs:{_hid:61,_fid:r}},[t._v("满"+t._s(i.vip_man_price)+"减"+t._s(i.vip_jian_price),62,r)])]),s("view",{staticClass:"g-name",attrs:{_hid:63,_fid:r}},[t._v(t._s(i.goods_name),64,r)]),s("view",{staticClass:"g-price",attrs:{_hid:65,_fid:r}},[s("view",{staticClass:"shop-price",attrs:{_hid:66,_fid:r}},[s("text",{staticClass:"mark",attrs:{_hid:67,_fid:r}},[]),s("text",{staticClass:"value",attrs:{_hid:69,_fid:r}},[t._v(t._s(i.plus_vip_price),70,r)])]),s("view",{staticClass:"market-price",attrs:{_hid:71,_fid:r}},[s("text",{staticClass:"mark",attrs:{_hid:72,_fid:r}},[]),s("text",{staticClass:"value",attrs:{_hid:74,_fid:r}},[t._v("¥"+t._s(i.shop_price),75,r)])])])])},58,t._self))],1)]),s("view",{staticClass:"discount-box",attrs:{_hid:76}},[s("view",{staticClass:"db-tit",attrs:{_hid:77}},[s("view",{staticClass:"t-lt",attrs:{_hid:78}},[s("text",{attrs:{_hid:79}},[])]),s("navigator",{staticClass:"t-rt",attrs:{url:"../../index/discount/list",_hid:81}},[s("text",{staticStyle:{"margin-right":"10px"},attrs:{_hid:82}},[]),s("text",{staticClass:"iconfont icon-btn_arrowr",attrs:{_hid:84}})])],1),s("view",{staticClass:"db-cont scroll-box",attrs:{"scroll-x":"true",_hid:85}},[s("scroll-view",{staticClass:"scroll-module",attrs:{"scroll-x":"true",_hid:86}},t._l(t.member.manjian,function(i,a,e){var r=void 0!==e?e:a;return s("navigator",{key:a,staticClass:"item-discount",attrs:{url:"../../index/goods/detail?goods_id="+i.goods_id,_hid:87,_fid:r,_batrs:"url",_fk:"i"}},[s("view",{staticClass:"d-img",attrs:{_hid:88,_fid:r}},[s("image",{staticClass:"img",attrs:{src:i.photo,_hid:89,_fid:r,_batrs:"src"}}),s("text",{staticClass:"tag",attrs:{_hid:90,_fid:r}},[t._v(t._s(i.vip_discount)+"折",91,r)])]),s("view",{staticClass:"d-name",attrs:{_hid:92,_fid:r}},[t._v(t._s(i.goods_name),93,r)]),s("view",{staticClass:"m-price",attrs:{_hid:94,_fid:r}},[s("text",{attrs:{_hid:95,_fid:r}},[]),s("text",{attrs:{_hid:97,_fid:r}},[]),s("text",{staticStyle:{"font-size":"18px"},attrs:{_hid:99,_fid:r}},[t._v(t._s(i.plus_vip_price),100,r)])]),s("view",{staticClass:"d-price",attrs:{_hid:101,_fid:r}},[s("text",{attrs:{_hid:102,_fid:r}},[]),s("text",{staticStyle:{"text-decoration":"line-through"},attrs:{_hid:104,_fid:r}},[t._v("¥"+t._s(i.shop_price),105,r)])])])},87,t._self))],1)]),s("view",{staticClass:"coupon-box",attrs:{_hid:106}},[s("view",{staticClass:"cb-tit",attrs:{_hid:107}},[s("view",{staticClass:"t-lt",attrs:{_hid:108}},[s("text",{attrs:{_hid:109}},[])]),s("view",{staticClass:"t-rt",attrs:{_hid:111}})]),s("view",{staticClass:"cb-cont",attrs:{_hid:112}},[s("uni-couponView",{attrs:{type:4,iData:t.member.coupon,_hid:113,_batrs:"type,iData",_cid:0},on:{selectCoupon:t.selectCoupon}})],1)]),s("view",{staticClass:"coupon-box",attrs:{_hid:1115}},[s("view",{staticClass:"cb-tit",attrs:{_hid:1116}},[s("view",{staticClass:"t-lt",attrs:{_hid:1117}},[s("text",{attrs:{_hid:1118}},[])])]),s("view",{staticClass:"cb-cont",staticStyle:{width:"92%",margin:"16px 4% 20px 4%",border:"1px solid #F2F4F7",padding:"0 15px",display:"inline-block"},attrs:{_hid:1120}},[s("view",{staticClass:"header",attrs:{_hid:1121}},[s("text",{attrs:{_hid:1122}},[]),s("text",{attrs:{_hid:1124}},[]),s("text",{attrs:{_hid:1126}},[])]),s("view",{staticClass:"detail-cont",attrs:{_hid:1128}},[s("view",{staticClass:"item-upgrade",attrs:{_hid:1129}},[s("view",{staticClass:"ig-tit",attrs:{_hid:1130}},[]),s("view",{staticClass:"ig-cont",attrs:{_hid:1132}},[s("image",{staticClass:"icon-coin",attrs:{src:t.imgBaseUrl+"/mine/icon_coin@2x.png",_hid:1133,_batrs:"src"}}),s("text",{staticClass:"num",attrs:{_hid:1134}},[])])]),s("image",{staticClass:"upgrade-arrow",attrs:{src:t.imgBaseUrl+"/mine/icon_arrowr_gray@2x.png",_hid:1136,_batrs:"src"}}),s("view",{staticClass:"item-upgrade",attrs:{_hid:1137}},[s("view",{staticClass:"ig-tit",attrs:{_hid:1138}},[]),s("view",{staticClass:"ig-cont",attrs:{_hid:1140}},[s("image",{staticClass:"icon-coin",attrs:{src:t.imgBaseUrl+"/mine/icon_coin@2x.png",_hid:1141,_batrs:"src"}}),s("text",{staticClass:"num",attrs:{_hid:1142}},[])])])]),s("view",{staticClass:"notice-box",attrs:{_hid:1144}},[s("image",{staticClass:"icon-notice",attrs:{src:t.imgBaseUrl+"/mine/icon_notice@2x.png",_hid:1145,_batrs:"src"}}),s("view",{staticClass:"notice-list",attrs:{_hid:1146}},[s("swiper",{staticStyle:{height:"50rpx"},attrs:{circular:"true",vertical:"true",interval:"3000",duration:"500",autoplay:"true",_hid:1147}},t._l(t.member.vip_order,function(i,a,e){var r=void 0!==e?e:a;return s("swiper-item",{key:a,attrs:{catchtouchmove:"catchTouchMove",_hid:1148,_fid:r,_fk:"i"}},[s("view",{staticClass:"item-notice",attrs:{_hid:1149,_fid:r}},[s("text",{attrs:{_hid:1150,_fid:r}},[]),s("text",{staticClass:"phone",attrs:{_hid:1152,_fid:r}},[t._v(t._s(i),1153,r)]),s("text",{attrs:{_hid:1154,_fid:r}},[t._v("获得"+t._s(t.member.vip_combo)+"倍游币暴击！",1155,r)])])])},1148,t._self))],1)])])]),s("view",{staticStyle:{width:"100%",height:"60px"},attrs:{_hid:1156}}),s("view",{staticClass:"bottom-box",attrs:{_hid:1157}},[t._ri(!!t.member.is_vip,1158)?s("view",{staticClass:"item-bottom",staticStyle:{background:"#fff"},attrs:{_hid:1158}},[s("view",{staticStyle:{"margin-top":"10px",color:"#333333","font-size":"14px"},attrs:{_hid:1159}},[]),s("view",{staticStyle:{"margin-top":"4px"},attrs:{_hid:1161}},[s("text",{staticStyle:{color:"#ED3005","margin-right":"4px"},attrs:{_hid:1162}},[t._v(t._s(t.member.plus_expire_time),1163)]),s("text",{staticStyle:{color:"#999999"},attrs:{_hid:1164}},[])])]):t._e(),t._ri(!!t.member.is_vip,1166)?s("view",{staticClass:"item-bottom",staticStyle:{"text-align":"center",color:"#fff"},attrs:{_hid:1166},on:{click:t.showPaymentWay}},[s("view",{staticStyle:{"font-size":"18px","margin-top":"8px"},attrs:{_hid:1167}},[]),s("view",{staticStyle:{"font-size":"12px","margin-top":"2px"},attrs:{_hid:1169}},[t._v("¥"+t._s(t.member.vip_price)+"/年",1170)])]):t._e(),t._ri(!t.member.is_vip,1171)?s("view",{staticClass:"item-bottom",staticStyle:{background:"#fff","align-items":"center",display:"flex"},attrs:{_hid:1171}},[s("text",{staticStyle:{"font-size":"14px",color:"#ED3005"},attrs:{_hid:1172}},[]),s("text",{staticStyle:{"font-size":"18px",color:"#ED3005"},attrs:{_hid:1174}},[t._v(t._s(t.member.vip_price)+"/年",1175)]),s("text",{staticStyle:{"text-decoration":"line-through",color:"#999999","font-size":"14px","margin-left":"8px"},attrs:{_hid:1176}},[t._v("¥"+t._s(t.member.vip_huaxian_price),1177)])]):t._e(),t._ri(!t.member.is_vip,1178)?s("view",{staticClass:"item-bottom",staticStyle:{"text-align":"center",color:"#fff","align-items":"center",display:"flex","justify-content":"center"},attrs:{_hid:1178},on:{click:t.showPaymentWay}},[s("view",{staticStyle:{"font-size":"18px"},attrs:{_hid:1179}},[])]):t._e()])]):t._e(),s("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",_hid:1181,_batrs:"img",_cid:1}}),s("ToastView",{attrs:{_hid:2183,_cid:2}}),t._ri(!!t.paymentFlag,3185)?s("view",{staticClass:"mask",attrs:{_hid:3185}},[s("view",{staticClass:"dialog-payment-box",attrs:{_hid:3186}},[s("view",{staticClass:"db-header",attrs:{_hid:3187}},[s("view",{staticClass:"h-lt",attrs:{_hid:3188}},[]),s("view",{staticClass:"h-rt iconfont icon-btn_close_black",attrs:{_hid:3190},on:{click:t.hidePaymentWay}})]),s("view",{staticClass:"db-cont",attrs:{_hid:3191}},[s("view",{staticClass:"item-options",attrs:{_hid:3192}},[s("view",{staticClass:"io-lt",attrs:{_hid:3193}},[]),s("view",{staticClass:"io-rt iconfont",class:1==t.stateIndex?"icon-selector_enable":"icon-selector_disable",style:"color:"+(1==t.stateIndex?"#ED3005;":"#CCCCCC;"),attrs:{_hid:3195},on:{click:function(i){t.openMemberListener(1)}}})]),s("view",{staticClass:"item-options",attrs:{_hid:3196}},[s("view",{staticClass:"io-lt",attrs:{_hid:3197}},[]),s("view",{staticClass:"io-rt iconfont",class:2==t.stateIndex?"icon-selector_enable":"icon-selector_disable",style:"color:"+(2==t.stateIndex?"#ED3005;":"#CCCCCC;"),attrs:{_hid:3199},on:{click:function(i){t.openMemberListener(2)}}})]),s("view",{staticClass:"item-options",attrs:{_hid:3200}},[s("view",{staticClass:"io-lt",attrs:{_hid:3201}},[]),s("view",{staticClass:"io-rt iconfont",class:3==t.stateIndex?"icon-selector_enable":"icon-selector_disable",style:"color:"+(3==t.stateIndex?"#ED3005;":"#CCCCCC;"),attrs:{_hid:3203},on:{click:function(i){t.openMemberListener(3)}}})])])])]):t._e()],1)},e=[];s.d(i,"a",function(){return a}),s.d(i,"b",function(){return e})}},[["3e9b","common/runtime","common/vendor"]]]);