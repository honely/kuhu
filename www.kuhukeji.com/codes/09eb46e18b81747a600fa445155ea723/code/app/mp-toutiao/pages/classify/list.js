(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/classify/list"],{"1de6":function(t,i,s){"use strict";s("2346");var e=r(s("cea1")),a=r(s("3a53"));function r(t){return t&&t.__esModule?t:{default:t}}e.default.mpType="page";var o=new a.default(e.default);o.$mount()},"496e":function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("view",{staticClass:"list-cont",attrs:{_hid:0}},[s("view",{staticStyle:{width:"100%",display:"inline-block",background:"#fff"},attrs:{_hid:1}},[s("view",{staticStyle:{background:"#fff",padding:"10px 0"},attrs:{_hid:2}},[s("view",{staticClass:"search-cont",attrs:{_hid:3}},[s("text",{staticClass:"iconfont icon-icon_search icon-search",attrs:{_hid:4}}),s("input",{staticClass:"sinput-cont",attrs:{placeholder:"请输入搜索内容",_hid:5},on:{input:t.inputChangeListener,confirm:t.searchGoodsListener}})])]),s("view",{staticClass:"list-type",attrs:{_hid:6}},[s("view",{staticClass:"type-cont",attrs:{_hid:7}},[s("view",{staticClass:"item-type",attrs:{_hid:8},on:{click:t.screenListener}},[s("text",{staticClass:"t-name",attrs:{_hid:9}},[t._v(t._s(t.orderDesc),10)]),s("text",{staticClass:"iconfont t-icon",class:1==t.is_screen?"icon-icon_arrowup1":"icon-icon_arrowdown1",attrs:{_hid:11}})]),s("view",{staticClass:"item-type",attrs:{_hid:12},on:{click:t.salesClickListener}},[s("text",{staticClass:"t-name",attrs:{_hid:13}},[]),s("view",{staticClass:"t-duicon",attrs:{_hid:15}},[s("text",{staticClass:"iconfont icon-icon_arrowup1 du-icon",style:"color:"+(1==t.sales_order?"#f00;":"#999"),attrs:{_hid:16}}),s("text",{staticClass:"iconfont icon-icon_arrowdown1 du-icon",style:"color:"+(2==t.sales_order?"#f00;":"#999"),attrs:{_hid:17}})])]),s("view",{staticClass:"item-type",attrs:{_hid:18},on:{click:t.priceClickListener}},[s("text",{staticClass:"t-name",attrs:{_hid:19}},[]),s("view",{staticClass:"t-duicon",attrs:{_hid:21}},[s("text",{staticClass:"iconfont icon-icon_arrowup1 du-icon",style:"color:"+(1==t.price_order?"#f00;":"#999"),attrs:{_hid:22}}),s("text",{staticClass:"iconfont icon-icon_arrowdown1 du-icon",style:"color:"+(2==t.price_order?"#f00;":"#999"),attrs:{_hid:23}})])])]),s("view",{staticClass:"type-menu",attrs:{_hid:24}},[s("text",{staticClass:"iconfont",class:1==t.switchIndex?"icon-btn_toggle_one":"icon-btn_toggle_two",attrs:{_hid:25},on:{click:t.onSwitchListener}})])])]),t._ri(!(1!=t.switchIndex),26)?s("view",{staticClass:"goods-list",attrs:{_hid:26}},t._l(t.goods,function(i,e,a){var r=void 0!==a?a:e;return s("view",{key:e,staticClass:"item-goods",style:"padding-right:"+(e%2==1?0:2)+"px;padding-left:"+(e%2==0?0:2)+"px;",attrs:{_hid:27,_fid:r,_fk:"index"},on:{click:function(s){t.$linkListener("../index/goods/detail?goods_id="+i.goods_id)}}},[s("view",{staticClass:"img-box",attrs:{_hid:28,_fid:r}},[s("image",{staticClass:"goods-img",attrs:{src:i.photosales_sum,_hid:29,_fid:r,_batrs:"src"}}),s("view",{directives:[{name:"show",rawName:"v-show",value:i.is_plus_vip,expression:"item.is_plus_vip"}],staticClass:"plus-price",attrs:{_hid:30,_fid:r}},[t._v("PLUS会员：¥"+t._s(i.plus_vip_price),31,r)])]),s("view",{staticClass:"goods-name",attrs:{_hid:32,_fid:r}},[s("text",{staticClass:"ellipsis-02",staticStyle:{height:"44px","line-height":"22px"},attrs:{_hid:33,_fid:r}},[t._v(t._s(i.goods_name),34,r)])]),s("view",{staticClass:"goods-desc",attrs:{_hid:35,_fid:r}},[s("view",{staticClass:"price",staticStyle:{"margin-top":"0"},attrs:{_hid:36,_fid:r}},[s("text",{staticStyle:{"font-size":"14px"},attrs:{_hid:37,_fid:r}},[]),s("text",{staticStyle:{"font-size":"18px","margin-left":"3px"},attrs:{_hid:39,_fid:r}},[t._v(t._s(i.shop_price),40,r)])]),s("view",{staticClass:"cost-price",attrs:{_hid:41,_fid:r}},[s("text",{attrs:{_hid:42,_fid:r}},[]),s("text",{staticClass:"cost",attrs:{_hid:44,_fid:r}},[t._v(t._s(i.market_price),45,r)])]),s("text",{staticClass:"iconfont icon-btn_cart icon-cart",attrs:{_hid:46,_fid:r}})])])},27,t._self)):t._e(),t._ri(!(2!=t.switchIndex),47)?s("view",{staticClass:"goods-list",attrs:{_hid:47}},t._l(t.goods,function(i,e,a){var r=void 0!==a?a:e;return s("view",{key:e,staticClass:"item-goods-list",attrs:{_hid:48,_fid:r,_fk:"index"},on:{click:function(s){t.$linkListener("../index/goods/detail?goods_id="+i.goods_id)}}},[s("view",{staticClass:"img-box",attrs:{_hid:49,_fid:r}},[s("image",{staticClass:"g-img",attrs:{src:i.photosales_sum,_hid:50,_fid:r,_batrs:"src"}}),s("view",{directives:[{name:"show",rawName:"v-show",value:i.is_plus_vip,expression:"item.is_plus_vip"}],staticClass:"plus-price",attrs:{_hid:51,_fid:r}},[t._v("PLUS会员：¥"+t._s(i.plus_vip_price),52,r)])]),s("view",{staticClass:"g-cont",attrs:{_hid:53,_fid:r}},[s("view",{staticClass:"gname ellipsis-02",attrs:{_hid:54,_fid:r}},[t._v(t._s(i.goods_name),55,r)]),s("view",{staticClass:"gdesc",attrs:{_hid:56,_fid:r}},[s("text",{staticClass:"iconfont icon-Star_c",staticStyle:{color:"#FFAE19","font-size":"14px"},attrs:{_hid:57,_fid:r}}),s("text",{staticStyle:{"margin-left":"4px"},attrs:{_hid:58,_fid:r}},[t._v(t._s(i.score?i.score:"5.0"),59,r)]),s("text",{staticStyle:{color:"#666666"},attrs:{_hid:60,_fid:r}},[]),s("text",{staticStyle:{margin:"0 6px"},attrs:{_hid:62,_fid:r}},[]),s("text",{attrs:{_hid:64,_fid:r}},[t._v(t._s(i.sales_sum),65,r)]),s("text",{staticStyle:{color:"#666666"},attrs:{_hid:66,_fid:r}},[])]),s("view",{staticClass:"gprice",attrs:{_hid:68,_fid:r}},[s("text",{staticStyle:{color:"#ED3005","font-size":"14px"},attrs:{_hid:69,_fid:r}},[]),s("text",{staticStyle:{color:"#ED3005","font-size":"18px","margin-left":"3px"},attrs:{_hid:71,_fid:r}},[]),s("text",{staticStyle:{"margin-left":"8px"},attrs:{_hid:73,_fid:r}},[]),s("text",{staticStyle:{"text-decoration":"line-through"},attrs:{_hid:75,_fid:r}},[t._v("¥"+t._s(i.market_price),76,r)]),s("text",{staticClass:"iconfont icon-btn_cart",staticStyle:{position:"absolute",right:"0",color:"#ED3005","font-size":"24px"},attrs:{_hid:77,_fid:r}})])])])},48,t._self)):t._e(),t._ri(!!t.more,78)?s("view",{staticClass:"more",attrs:{_hid:78},on:{click:t.getMallGoodsList}},[]):t._e(),t._ri(!t.more,80)?s("view",{staticClass:"nodata",attrs:{_hid:80}},[]):t._e(),t._ri(!!t.is_screen,82)?s("view",{staticClass:"screen-box",style:"top:"+t.screenTopHeight+"px;",attrs:{_hid:82}},[s("view",{staticClass:"item-screen",attrs:{_hid:83},on:{click:function(i){t.screenClickListener(0,"综合")}}},[s("text",{attrs:{_hid:84}},[]),s("text",{attrs:{_hid:86}})]),s("view",{staticClass:"item-screen",attrs:{_hid:87},on:{click:function(i){t.screenClickListener(1,"最新上架")}}},[s("text",{attrs:{_hid:88}},[]),s("text",{attrs:{_hid:90}})]),s("view",{staticClass:"item-screen",attrs:{_hid:91},on:{click:function(i){t.screenClickListener(2,"价格最低")}}},[s("text",{attrs:{_hid:92}},[]),s("text",{attrs:{_hid:94}})]),s("view",{staticClass:"item-screen",attrs:{_hid:95},on:{click:function(i){t.screenClickListener(3,"价格最高")}}},[s("text",{attrs:{_hid:96}},[]),s("text",{attrs:{_hid:98}})]),s("view",{staticClass:"item-screen",attrs:{_hid:99},on:{click:function(i){t.screenClickListener(4,"评价最多")}}},[s("text",{attrs:{_hid:100}},[]),s("text",{attrs:{_hid:102}})])]):t._e(),s("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",_hid:103,_batrs:"img",_cid:0}}),s("ToastView",{attrs:{_hid:1105,_cid:1}})],1)},a=[];s.d(i,"a",function(){return e}),s.d(i,"b",function(){return a})},"7d98":function(t,i,s){},b459:function(t,i,s){"use strict";var e=s("7d98"),a=s.n(e);a.a},bcb4:function(t,i,s){"use strict";s.r(i);var e=s("e436"),a=s.n(e);for(var r in e)"default"!==r&&function(t){s.d(i,t,function(){return e[t]})}(r);i["default"]=a.a},cea1:function(t,i,s){"use strict";s.r(i);var e=s("496e"),a=s("bcb4");for(var r in a)"default"!==r&&function(t){s.d(i,t,function(){return a[t]})}(r);s("b459");var o=s("2877"),d=Object(o["a"])(a["default"],e["a"],e["b"],!1,null,null,null);i["default"]=d.exports},e436:function(t,i,s){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={data:function(){return{userid:0,is_screen:!1,goods:[],switchIndex:1,page:1,more:0,keywords:"",price_order:0,sales_order:0,order:0,orderDesc:"综合",screenTopHeight:"154",imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(i){var s=this,e=t.getStorageSync("user_id");void 0!=e&&""!=e&&(s.$data.userid=e),void 0!=i.pid&&""!=i.pid&&t.setStorageSync("pid",i.pid),"h5"==s.wxb.device?s.$data.screenTopHeight="154":s.$data.screenTopHeight="110",s.wxb.addPage(this),s.wxb.Init(i,function(t){void 0!=i.p_cat_id||void 0!=i.cat_id?(s.$data.p_cat_id=i.p_cat_id-0,s.$data.cat_id=i.cat_id-0,s.getMallGoodsList()):s.getMallGoodsList()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:t.$data.shareTitle?t.$data.shareTitle:"营销电商",path:"/pages/index/index?pid="+t.$data.userid+"&p_cat_id="+t.$data.p_cat_id+"&cat_id="+t.$data.cat_id}},methods:{salesClickListener:function(t){this.screenListener();var i=this.$data.sales_order;2==i?i=0:i+=1,this.$data.is_screen=!1,this.$data.sales_order=i,this.$data.page=1,this.getMallGoodsList()},priceClickListener:function(t){var i=this.$data.price_order;2==i?i=0:i+=1,this.$data.is_screen=!1,this.$data.price_order=i,this.$data.page=1,this.getMallGoodsList()},inputChangeListener:function(t){this.$data.keywords=t.detail.value},searchGoodsListener:function(t){this.$data.page=1,this.getMallGoodsList()},onSwitchListener:function(){var t=this.$data.switchIndex;this.$data.switchIndex=1==t?2:1,console.log("index->"+this.$data.switchIndex)},screenListener:function(t){var i=this.$data.is_screen;this.$data.is_screen=!i},screenClickListener:function(t,i){this.screenListener(),this.$data.orderDesc=i,this.$data.order=t,this.$data.page=1,this.getMallGoodsList()},getMallGoodsList:function(i){t.showLoading({title:"加载中...."});var s=this,e=s.$data.goods,a=s.$data.page;1==a&&(e=[]),s.wxb.Post("/shop/api.goods/index",{cat_id:s.$data.cat_id,p_cat_id:s.$data.p_cat_id,keywords:s.$data.keywords,price_order:s.$data.price_order,sales_order:s.$data.sales_order,order:s.$data.order,page:s.$data.page},function(i){for(var a in"baidu"==s.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:i.seo.title?"":i.seo.title,keywords:i.seo.keywords?"":i.seo.keywords,description:i.seo.description?"":i.seo.description,releaseDate:i.seo.releaseDate?"":i.seo.releaseDate,image:i.seo.image?"":i.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),t.hideLoading(),i.list)e.push(i.list[a]);s.$data.page+=1,s.$data.goods=e,s.$data.more=i.isMore})}}};i.default=s}).call(this,s("f266")["default"])}},[["1de6","common/runtime","common/vendor"]]]);