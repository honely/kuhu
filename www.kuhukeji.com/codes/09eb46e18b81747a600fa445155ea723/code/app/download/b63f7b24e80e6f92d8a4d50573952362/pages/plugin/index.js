(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugin/index"],{"0903":function(t,a,o){"use strict";o.r(a);var e=o("de7c"),i=o("fdbd");for(var n in i)"default"!==n&&function(t){o.d(a,t,function(){return i[t]})}(n);var s=o("2877"),r=Object(s["a"])(i["default"],e["a"],e["b"],!1,null,null,null);a["default"]=r.exports},"36b2":function(t,a,o){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){return{bgColor:"",plugins:[],cData:{type:1,pbottom:0,data:{icon:"icon_quan",title:"领取优惠券"}},tData:{type:1,pbottom:0,data:{icon:"icon_pintuan",title:"拼团速购"}},mDatas:[{icon:"",name:"9.8包邮"},{icon:"",name:"免单"},{icon:"",name:"每日推荐"},{icon:"",name:"淘抢购"},{icon:"",name:"男装"},{icon:"",name:"女装"},{icon:"",name:"鞋帽"},{icon:"",name:"爱包包"}],tabIndex:0,footers:[],selectColor:"#ED3005",tIndex:0,tmp_id:"",imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(t){var a=this;a.wxb.addPage(this),a.wxb.Init(t,function(o){a.$data.footers=a.wxb.skin.footer.list,a.$data.tabIndex=a.wxb.getCurrPageIndex("/pages/plugin/index",a.$data.footers)-0,a.$data.selectColor=a.wxb.skin.footer.selectColor,console.log("tabIndex=>"+a.$data.tabIndex),void 0!=t.tmp_id&&(a.$data.tmp_id=t.tmp_id,a.getTemplateInfo())},0)},onUnload:function(){this.wxb.removePage()},methods:{receiveCoupon:function(t){console.log(t);var a=this;a.wxb.Post("/shop/api.coupon/receiveCoupon",{coupon_id:t},function(t){})},goodsTabListener:function(t){var a=this;a.$data.tIndex=t;var o=a.$data.plugins,e="";for(var i in o)"plugin-product"==o[i].plug&&(e=o[i]);a.wxb.Post("/shop/api.page/goods",{cat_id:e.show_data.cats[a.$data.tIndex].cat_id,num:e.datas.num,orerby:e.datas.orerby},function(t){for(var e in o)"plugin-product"==o[e].plug&&(o[e].show_data.list=t.list);a.$data.plugins=o})},getTemplateInfo:function(){var a=this;this.wxb.Post("/shop/api.page/getTmpDetail",{tmp_id:a.$data.tmp_id},function(o){a.$data.data=o;var e=o.plugins;for(var i in e)if("plugin-product"==e[i].plug){console.log(o.plugins[i]);var n=e[i].show_data.cats,s={name:"推荐",cat_id:"0"};n.splice(0,0,s),e[i].cats=n}a.$data.plugins=e,t.setNavigationBarTitle({title:o.title}),1==o.is_theme?(t.setNavigationBarColor({frontColor:o.theme.navigationBarFrontColor,backgroundColor:o.theme.navigationBarBackgroundColor}),a.$data.bgColor=o.theme.bgColor):0==o.is_theme&&(t.setNavigationBarColor({frontColor:a.wxb.skin.theme.navigationBarFrontColor,backgroundColor:a.wxb.skin.theme.navigationBarBackgroundColor}),a.$data.bgColor=a.wxb.skin.theme.bgColor),0==o.footer_type?a.$data.footers=[]:1==o.footer_type?(a.$data.footers=a.wxb.skin.footer.list,a.$data.selectColor=a.wxb.skin.footer.selectColor):2==o.footer_type&&(a.$data.footers=o.footer.list,a.$data.selectColor=o.selectColor)})}}};a.default=o}).call(this,o("543d")["default"])},de7c:function(t,a,o){"use strict";var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("view",{staticClass:"main"},[o("scroll-view",{attrs:{"scroll-y":""}},[o("view",{staticClass:"page-box",style:"background:"+t.bgColor},t._l(t.plugins,function(a,e){return o("block",{key:e},["plugin-title"==a.plug?o("title-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-0-"+e}}):t._e(),"plugin-txt"==a.plug?o("text-view",{attrs:{tData:a.datas,mpcomid:"b6bb504c-1-"+e}}):t._e(),"plugin-photo"==a.plug?o("image-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-2-"+e}}):t._e(),"plugin-gongge"==a.plug?o("lattice-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-3-"+e}}):t._e(),"plugin-lunbo"==a.plug?o("banner-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-4-"+e}}):t._e(),"plugin-tuwen"==a.plug?o("imgText-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-5-"+e}}):t._e(),"plugin-gonggejiu"==a.plug?o("pic-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-6-"+e}}):t._e(),"plugin-search"==a.plug?o("search-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-7-"+e}}):t._e(),"plugin-iconlist"==a.plug?o("grid-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-8-"+e}}):t._e(),"plugin-tab"==a.plug?o("tabBar-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-9-"+e}}):t._e(),"plugin-gonggao"==a.plug?o("notice-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-10-"+e}}):t._e(),"plugin-button"==a.plug?o("button-view",{attrs:{iData:a.datas,mpcomid:"b6bb504c-11-"+e}}):t._e(),"plugin-pintuan"==a.plug&&a.show_data?o("assemble-view",{attrs:{iData:a.datas,showData:a.show_data,mpcomid:"b6bb504c-12-"+e}}):t._e(),"plugin-coupon"==a.plug&&a.show_data?o("coupon-view",{attrs:{iData:a.datas,showData:a.show_data,eventid:"b6bb504c-0-"+e,mpcomid:"b6bb504c-13-"+e},on:{receiveCoupon:t.receiveCoupon}}):t._e(),"plugin-product"==a.plug&&a.show_data?o("goods-view",{attrs:{iData:a.datas,showData:a.show_data,tIndex:t.tIndex,eventid:"b6bb504c-1-"+e,mpcomid:"b6bb504c-14-"+e},on:{tapTab:t.goodsTabListener}}):t._e(),"plugin-kanjia"==a.plug&&a.show_data?o("bargain-view",{attrs:{iData:a.datas,showData:a.show_data,mpcomid:"b6bb504c-15-"+e}}):t._e(),"plugin-miaosha"==a.plug&&a.show_data?o("rush-view",{attrs:{iData:a.datas,showData:a.show_data,mpcomid:"b6bb504c-16-"+e}}):t._e()],1)}))]),o("view",{staticClass:"temp-view-50"}),o("page-footer",{attrs:{footer:t.footers,length:t.footers.length,tabIndex:t.tabIndex,color:t.selectColor,mpcomid:"b6bb504c-17"}}),o("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"b6bb504c-18"}}),o("ToastView",{attrs:{mpcomid:"b6bb504c-19"}})],1)},i=[];o.d(a,"a",function(){return e}),o.d(a,"b",function(){return i})},fa11:function(t,a,o){"use strict";o("2346");var e=n(o("b0ce")),i=n(o("0903"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(i.default))},fdbd:function(t,a,o){"use strict";o.r(a);var e=o("36b2"),i=o.n(e);for(var n in e)"default"!==n&&function(t){o.d(a,t,function(){return e[t]})}(n);a["default"]=i.a}},[["fa11","common/runtime","common/vendor"]]]);