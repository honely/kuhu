(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/promoters/score"],{"020e":function(t,a,e){"use strict";e.r(a);var s=e("8c23"),i=e("4fae");for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);e("a258");var r=e("2877"),o=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);a["default"]=o.exports},1860:function(t,a,e){"use strict";e("2346");var s=n(e("b0ce")),i=n(e("020e"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},3086:function(t,a,e){"use strict";function s(t,a){return r(t)||n(t,a)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(t,a){var e=[],s=!0,i=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done);s=!0)if(e.push(r.value),a&&e.length===a)break}catch(c){i=!0,n=c}finally{try{s||null==o["return"]||o["return"]()}finally{if(i)throw n}}return e}function r(t){if(Array.isArray(t))return t}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){for(var t=new Date,a=[],e=[],s=[],i=2016;i<=t.getFullYear();i++)a.push(i);for(var n=1;n<=12;n++)e.push(n);for(var r=1;r<=31;r++)s.push(r);return{years:a,months:e,days:s,tabBars:[{name:"昨日",id:"0"},{name:"近7日",id:"1"},{name:"全部",id:"3"}],dateType:"0",msgType:0,msg:"",startDate:"",endDate:"",type:0,data:{},screenDateFlag:!1,dateValue:[9999,t.getMonth(),t.getDate()-2],imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(t){var a=this;a.wxb.addPage(this),a.wxb.Init(t,function(t){a.getUserScoreInfo()})},onUnload:function(){this.wxb.removePage()},methods:{tapTabListener:function(t){this.$data.type=t,t<3&&(this.$data.startDate="",this.$data.endDate=""),this.getUserScoreInfo()},onSureDateListener:function(){var t=this.$data.startDate,a=this.$data.endDate;return this.$data.type=3,console.log(new Date(a).getTime()-new Date(t).getTime()),new Date(a)<=new Date(t)?(this.$data.msgType=1,void(this.$data.msg="开始日期必须小于结束日期")):new Date(a).getTime()-new Date(t).getTime()>31536e6?(this.$data.msgType=1,void(this.$data.msg="仅支持查找12个月跨度以内的数据")):(this.$data.selectMsg=t+"至"+a,this.hideScreenDateDialog(),void this.getUserScoreInfo())},bindChangeListener:function(t){console.log(t);var a=new Date,e=this.$data.years,i=this.$data.months,n=this.$data.days,r=s(t.detail.value,3),o=r[0],c=r[1],d=r[2],l=e[o],v=i[c];if(a.getFullYear()==l){i=[];for(var u=1;u<=a.getMonth()+1;u++)i.push(u);if(n=[],a.getFullYear()==l&&a.getMonth()+1==v)for(var h=1;h<=a.getDate();h++)n.push(h);else for(var g=new Date(l,v,0).getDate(),w=1;w<=g;w++)n.push(w)}else{i=[];for(var m=1;m<=12;m++)i.push(m);n=[];g=new Date(l,v,0).getDate();for(var f=1;f<=g;f++)n.push(f)}this.$data.years=e,this.$data.months=i,this.$data.days=n,this.$data.msgType=0;var _=this.$data.dateType,D=e[o]+"-"+(i[c]>9?i[c]:"0"+i[c])+"-"+(n[d]>9?n[d]:"0"+n[d]);console.log("选择的日期："+D),0==_?this.$data.startDate=D:1==_&&(this.$data.endDate=D)},showScreenDateDialog:function(t){var a=this;""!=a.$data.startDate&&""!=a.$data.endDate||(a.$data.startDate=a.getDateFormat(-1),a.$data.endDate=a.getDateFormat(0),console.log("startDate=>"+a.$data.startDate),console.log("endDate=>"+a.$data.endDate)),a.$data.screenDateFlag=!0},hideScreenDateDialog:function(t){this.$data.screenDateFlag=!1},getDateFormat:function(t){var a=new Date;a.setDate(a.getDate()+t);var e=a.getFullYear(),s=a.getMonth()+1;t=a.getDate();return s>=1&&s<=9&&(s="0"+s),t>=0&&t<=9&&(t="0"+t),e+"-"+s+"-"+t},onClickStartListener:function(t){var a=new Date(this.$data.startDate),e=a.getFullYear(),s=a.getMonth()+1,i=a.getDate();this.$data.dateType=0,this.$data.dateValue=this.getDateIndex(e,s,i),console.log("选择开始日期=>"+this.$data.dateValue)},getDateIndex:function(t,a,e){console.log(t),console.log(a),console.log(e);var s=this.$data.years,i=this.$data.months,n=this.$data.days,r=this.$data.dateValue;for(var o in s)if(s[o]==t&&r){r[0]=o-0;break}for(var o in i)if(i[o]==a&&r){r[1]=o-0;break}for(var o in n)if(n[o]==e&&r){r[2]=o-0;break}return console.log(r),r},onClickEndListener:function(t){console.log(this.$data.endDate);var a=new Date(this.$data.endDate),e=a.getFullYear(),s=a.getMonth()+1,i=a.getDate(),n=this.getDateIndex(e,s,i);this.$data.dateType=1,this.$data.dateValue=n},getUserScoreInfo:function(t){var a=this;a.wxb.Post("/shop/api.Agent/getMyScore",{date_type:a.$data.type,date_area_start:a.$data.startDate,date_area_end:a.$data.endDate},function(t){a.$data.data=t.data})}}};a.default=o},"4fae":function(t,a,e){"use strict";e.r(a);var s=e("3086"),i=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);a["default"]=i.a},"8c23":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"score-box"},[e("view",{staticClass:"base-info"},[e("view",{staticClass:"b-hint"},[t._v("可用提现佣金(元)")]),e("view",{staticClass:"b-num"},[t._v(t._s(t.data.agent_money?t.data.agent_money:"0"))]),e("navigator",{staticClass:"btn-withdraw",attrs:{url:"withdraw"}},[t._v("提现")])],1),e("view",{staticClass:"type-box"},[e("view",{staticClass:"tab-box"},[e("tab-view",{attrs:{type:2,tabBars:t.tabBars,eventid:"5d9265a0-0",mpcomid:"5d9265a0-0"},on:{tapTab:t.tapTabListener}})],1),e("view",{staticClass:"time-box",attrs:{eventid:"5d9265a0-1"},on:{click:t.showScreenDateDialog}},[e("text",{staticClass:"iconfont icon-btn_filter"}),e("text",{staticStyle:{"margin-left":"7px"}},[t._v("自定义时间")])])]),e("view",{staticClass:"score-cont"},[e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"}},[e("view",{staticClass:"cont"},[e("view",{staticClass:"sc-hint"},[t._v("拉新(人)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.new_agent?t.data.new_agent:"0"))])])]),e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"}},[e("view",{staticClass:"cont"},[e("view",{staticClass:"sc-hint"},[t._v("PLUS(人)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.vip_num?t.data.vip_num:"0"))])])]),e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"}},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"}},[e("view",{staticClass:"sc-hint"},[t._v("PLUS奖励(元)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.vip_money?t.data.vip_money:"0"))])])]),e("view",{staticClass:"item-score"},[e("view",{staticClass:"cont"},[e("view",{staticClass:"sc-hint"},[t._v("客户(人)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.new_reg?t.data.new_reg:"0"))])])]),e("view",{staticClass:"item-score"},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"}},[e("view",{staticClass:"sc-hint"},[t._v("商品佣金(元)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.order_money?t.data.order_money:"0"))])])]),e("view",{staticClass:"item-score",staticStyle:{"border-bottom-width":"0"}},[e("view",{staticClass:"cont"},[e("view",{staticClass:"sc-hint"},[t._v("成交(单)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.order_num?t.data.order_num:"0"))])])]),e("view",{staticClass:"item-score",staticStyle:{"border-bottom-width":"0"}},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"}},[e("view",{staticClass:"sc-hint"},[t._v("累计收益(元)")]),e("view",{staticClass:"sc-num"},[t._v(t._s(t.data.amount_res?t.data.amount_res:"0"))])])])]),t._m(0),t.screenDateFlag?e("view",{staticClass:"mask"},[e("view",{staticClass:"time-listBox"},[e("view",{staticClass:"item-time"},[e("view",{staticClass:"date-cancel",attrs:{eventid:"5d9265a0-2"},on:{click:t.hideScreenDateDialog}},[t._v("取消")]),e("view",{staticClass:"date-title",style:"color:"+(0==t.msgType?"#2D3133":"#FF3200")},[t._v(t._s(0==t.msgType?"选择起始日期":t.msg))]),e("view",{staticClass:"date-sure",attrs:{eventid:"5d9265a0-3"},on:{click:t.onSureDateListener}},[t._v("完成")])]),e("view",{staticClass:"date-cont"},[e("view",{staticClass:"item",attrs:{eventid:"5d9265a0-4"},on:{click:t.onClickStartListener}},[e("text",{class:0==t.dateType?"blue":"gray"},[t._v(t._s(t.startDate))])]),e("view",{staticClass:"item"},[t._v("至")]),e("view",{staticClass:"item",attrs:{eventid:"5d9265a0-5"},on:{click:t.onClickEndListener}},[e("text",{class:1==t.dateType?"blue":"gray"},[t._v(t._s(t.endDate))])])]),e("picker-view",{staticStyle:{width:"100%",height:"150px"},attrs:{"indicator-style":"height: 50px;",value:t.dateValue,eventid:"5d9265a0-6"},on:{change:t.bindChangeListener}},[e("picker-view-column",{attrs:{mpcomid:"5d9265a0-1"}},t._l(t.years,function(a,s){return e("view",{key:s,staticClass:"picker-date"},[t._v(t._s(a)+"年")])})),e("picker-view-column",{attrs:{mpcomid:"5d9265a0-2"}},t._l(t.months,function(a,s){return e("view",{key:s,staticClass:"picker-date"},[t._v(t._s(a)+"月")])})),e("picker-view-column",{attrs:{mpcomid:"5d9265a0-3"}},t._l(t.days,function(a,s){return e("view",{key:s,staticClass:"picker-date"},[t._v(t._s(a)+"日")])}))],1)],1)]):t._e(),e("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"5d9265a0-4"}}),e("ToastView",{attrs:{mpcomid:"5d9265a0-5"}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"alert-box"},[e("text",[t._v("相关指标名词解释")]),e("text",{staticClass:"ques"},[t._v("?")])])}];e.d(a,"a",function(){return s}),e.d(a,"b",function(){return i})},a258:function(t,a,e){"use strict";var s=e("b7e4"),i=e.n(s);i.a},b7e4:function(t,a,e){}},[["1860","common/runtime","common/vendor"]]]);