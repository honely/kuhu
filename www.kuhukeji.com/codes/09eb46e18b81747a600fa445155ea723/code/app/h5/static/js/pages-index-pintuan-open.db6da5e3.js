(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-pintuan-open"],{"0868":function(e,t,i){"use strict";var n=i("5385"),a=i.n(n);a.a},"0eb2":function(e,t,i){"use strict";i.r(t);var n=i("a218"),a=i("1d46");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("791b");var d=i("2877"),o=Object(d["a"])(a["default"],n["a"],n["b"],!1,null,"cb29c38e",null);t["default"]=o.exports},"15b7":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"open-main"},[e.detail?i("v-uni-view",[i("v-uni-view",{staticClass:"address-info"},[""==e.model?i("v-uni-view",{staticClass:"no-addr",on:{click:function(t){t=e.$handleEvent(t),e.showAddressListListener(t)}}},[i("v-uni-view",{staticClass:"na-lt"},[e._v("选择收货地址")]),i("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1):e._e(),""!=e.model?i("v-uni-view",{staticClass:"show-addr",on:{click:function(t){t=e.$handleEvent(t),e.showAddressListListener(t)}}},[i("v-uni-view",{staticClass:"addr-lt"},[i("v-uni-view",{staticClass:"name"},[i("v-uni-text",[e._v(e._s(e.model.name))]),i("v-uni-text",[e._v(e._s(e.model.mobile))])],1),i("v-uni-view",{staticClass:"desc ellipsis-01"},[e._v(e._s(e.model.address))])],1),i("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1):e._e()],1),i("v-uni-view",{staticClass:"member-info"},[i("v-uni-view",{staticClass:"m-header"},[i("v-uni-text",{staticClass:"iconfont icon-icon_pintuan",staticStyle:{color:"#ED3005","font-size":"20px"}}),i("v-uni-text",{staticStyle:{color:"#ED3005","margin-left":"8px"}},[e._v("[正在开团]]")]),i("v-uni-text",{staticStyle:{"margin-left":"8px"}},[e._v("只差1人的团，完成支付即可拼购成功")])],1),i("v-uni-view",{staticClass:"m-cont"},[i("v-uni-view",{staticClass:"item-member"},[i("v-uni-image",{attrs:{src:e.detail.this_user_face}}),i("v-uni-view",{staticClass:"m-state"},[e._v("待支付")])],1),i("v-uni-view",{staticClass:"item-member"},[i("v-uni-image")],1)],1)],1),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"g-lt"},[i("v-uni-view",{staticClass:"group-num"},[e._v("4人团")]),i("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.detail.goods_info.goods_photo}})],1),i("v-uni-view",{staticClass:"g-rt"},[i("v-uni-view",{staticClass:"gname ellipsis-01"},[e._v(e._s(e.detail.goods_info.goods_name))]),i("v-uni-view",{staticClass:"gsku"},[e._v(e._s(e.detail.goods_info.key_name))]),i("v-uni-view",{staticClass:"gdesc"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",[e._v("¥")]),i("v-uni-text",{staticStyle:{"margin-left":"4px","font-size":"20px"}},[e._v(e._s(e.detail.goods_info.groupbuy_price))])],1),i("v-uni-view",{staticClass:"number"},[i("v-uni-text",[e._v("x1")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"order-info"},[i("v-uni-view",{staticClass:"item-order"},[i("v-uni-view",{staticClass:"o-lt"},[e._v("商品总额")]),i("v-uni-view",{staticClass:"o-rt"},[e._v("¥"+e._s(e.detail._tital_price))])],1),i("v-uni-view",{staticClass:"item-order",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"o-lt"},[e._v("配送费")]),i("v-uni-view",{staticClass:"o-rt"},[i("v-uni-text",[e._v("¥"+e._s(e.detail._shipping_price))])],1)],1)],1),i("v-uni-view",{staticClass:"order-info"},[i("v-uni-view",{staticClass:"item-order",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"o-lt"},[e._v("是否使用余额支付")]),i("v-uni-view",{staticClass:"o-rt"},[i("v-uni-text",{staticClass:"iconfont icon-radio",class:1==e.use_money?"icon-selector_enable1 ":"icon-selector_disable1 ",style:"color:"+(1==e.use_money?"#ED3005":"#999999")+";",on:{click:function(t){t=e.$handleEvent(t),e.onUseMoneyListener(t)}}})],1)],1)],1),i("v-uni-view",{staticStyle:{width:"100%",height:"78px"}}),i("v-uni-view",{staticClass:"bottom-info"},[i("v-uni-view",{staticClass:"b-price"},[i("v-uni-text",[e._v("¥")]),i("v-uni-text",{staticStyle:{"font-size":"24px","margin-left":"4px"}},[e._v(e._s(e.detail._tital_price))])],1),i("v-uni-view",{staticClass:"b-num",on:{click:function(t){t=e.$handleEvent(t),e.showPaymentDialog(t)}}},[e._v("结算(1)")])],1)],1):e._e(),e.showAddressFlag?i("v-uni-view",{staticClass:"mask"},[i("v-uni-view",{staticClass:"dialog-address"},[i("v-uni-view",{staticClass:"d-header"},[i("v-uni-text",{staticStyle:{flex:"1"}},[e._v("选择收货地址")]),i("v-uni-text",{staticClass:"iconfont icon-btn_close_black",staticStyle:{"padding-left":"15px"},on:{click:function(t){t=e.$handleEvent(t),e.hideAddressListListener(t)}}})],1),i("addressView",{attrs:{list:e.list},on:{selectEvent:function(t){t=e.$handleEvent(t),e.selectAddrListener(t)},deleteEvent:function(t){t=e.$handleEvent(t),e.deleteCallBack(t)}}})],1)],1):e._e(),e.paymentFlag?i("v-uni-view",{staticClass:"mask"},[i("v-uni-view",{staticClass:"dialog-detailed"},[i("v-uni-view",{staticClass:"dd-header"},[i("v-uni-text",{staticClass:"h-tit"},[e._v("选择支付方式")]),i("v-uni-text",{staticClass:"h-close iconfont icon-btn_close_black",on:{click:function(t){t=e.$handleEvent(t),e.hidePaymentDialog(t)}}})],1),i("v-uni-view",{staticClass:"dd-payment"},[i("v-uni-view",{staticClass:"item-payment",attrs:{"data-type":"weixin"},on:{click:function(t){t=e.$handleEvent(t),e.paymentListener(t)}}},[i("v-uni-view",{staticClass:"p-lt"},[i("v-uni-text",{staticClass:"iconfont icon-icon_pay_wepay",staticStyle:{"font-size":"30px",color:"#41B035"}}),i("v-uni-text",{staticStyle:{color:"#333333","font-size":"16px","margin-left":"15px"}},[e._v("微信支付")])],1),i("v-uni-text",{staticClass:"p-radio iconfont",class:"weixin"==e.pay_type?" icon-selector_enable":"icon-selector_disable",style:"color:"+("weixin"==e.pay_type?"#3A96E6":"#EDEDED")})],1),i("v-uni-view",{staticClass:"item-payment",attrs:{"data-type":"ali"},on:{click:function(t){t=e.$handleEvent(t),e.paymentListener(t)}}},[i("v-uni-view",{staticClass:"p-lt"},[i("v-uni-text",{staticClass:"iconfont icon-icon_pay_alipay",staticStyle:{"font-size":"30px",color:"#00AAEE"}}),i("v-uni-text",{staticStyle:{color:"#333333","font-size":"16px","margin-left":"15px"}},[e._v("支付宝支付")])],1),i("v-uni-text",{staticClass:"p-radio iconfont",class:"ali"==e.pay_type?" icon-selector_enable":"icon-selector_disable",style:"color:"+("ali"==e.pay_type?"#3A96E6":"#EDEDED")})],1)],1)],1)],1):e._e()],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},"1d46":function(e,t,i){"use strict";i.r(t);var n=i("29d5"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"29d5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:["list"],data:function(){return{isDefault:0,edit_addr:!1,more:0,mList:[],index:"",type:0,editAddr:{},province:[],city:[],division:[],pIndex:0,cIndex:0,dIndex:0,province_id:"",city_id:"",division_id:"",cityShowFlag:!1,parent_id:"",addressDesc:"",deleteIndex:-1}},created:function(){this.$data.mList=this.$props.list},methods:{selectAddressListener:function(e){console.log(e);var t=e.currentTarget.dataset.index,i=this.$data.mList[t];this.$emit("selectEvent",JSON.stringify(i))},bindChangeListener:function(e){var t=this,i=e.detail.value,n=t.$data.pIndex,a=t.$data.cIndex,s=t.$data.dIndex;for(var d in i)0==d&&n!=i[d]?(n=i[d],console.log("修改省份"),t.$data.parent_id=t.$data.province[i[d]].region_id,t.getRegionList(1)):1==d&&a!=i[d]?(a=i[d],console.log("修改城市"),t.$data.parent_id=t.$data.city[i[d]].region_id,t.initDivisionInfo()):2==d&&s!=i[d]&&(s=i[d]);t.$data.pIndex=n,t.$data.cIndex=a,t.$data.dIndex=s},showCitySelectDialog:function(){this.$data.cityShowFlag=!0,this.$data.parent_id="",this.initProvinceInfo()},hideCitySelectDialog:function(){this.$data.cityShowFlag=!1},sureSelectListener:function(e){var t=this,i=t.$data.pIndex,n=t.$data.cIndex,a=t.$data.dIndex;t.$data.province_id=t.$data.province[i].region_id,t.$data.city_id=t.$data.city[n].region_id,t.$data.division_id=t.$data.division[a].region_id,t.$data.addressDesc=t.$data.province[i].label+t.$data.city[n].label+t.$data.division[a].label,t.hideCitySelectDialog(),console.log(t.$data.province),console.log("province_id=>"+t.$data.province_id),console.log("city_id=>"+t.$data.city_id),console.log("division_id=>"+t.$data.division_id)},submitUserAddress:function(e){console.log(e);var t=this,i=e.detail.value,n=i.name,a=i.mobile,s=i.street;""!=n?""!=a?0==t.$data.type?t.wxb.Post("/shop/api.address/addAddress",{name:n,mobile:a,street:s,is_default:t.$data.isDefault,province_id:t.$data.province_id,city_id:t.$data.city_id,division_id:t.$data.division_id},function(e){t.getAddressList(),t.closeEditListener()}):t.wxb.Post("/shop/api.address/editAddress",{address_id:t.$data.editAddr.address_id,name:n,mobile:a,street:s,is_default:t.$data.isDefault,province_id:t.$data.province_id,city_id:t.$data.city_id,division_id:t.$data.division_id},function(e){t.getAddressList(),t.closeEditListener()}):t.$showToast({show:!0,content:"手机号不能为空"}):this.$showToast({show:!0,content:"姓名不能为空"})},onDefaultListener:function(){0==this.$data.isDefault?this.$data.isDefault=1:this.$data.isDefault=0},editAddressListener:function(e){console.log(e);var t=e.currentTarget.dataset,i=t.type,n=t.index,a=this;console.log("type=>"+i),console.log("index=>"+n);var s=this.$props.list;this.$data.type=i,this.$data.index=n,void 0!=n&&1==i?(this.$data.editAddr=s[n],a.$data.province_id=s[n].province_id,a.$data.city_id=s[n].city_id,a.$data.division_id=s[n].division_id,this.$data.isDefault=this.$data.editAddr.is_default,this.$data.addressDesc=s[n].province+s[n].city+s[n].division):(this.$data.editAddr="",this.$data.addressDesc="",this.$data.isDefault=0);var d=this.$data.edit_addr;this.$data.edit_addr=!d},closeEditListener:function(e){this.$data.edit_addr=!1},showDeleteListener:function(e){this.$data.deleteIndex=e.currentTarget.dataset.index,this.$showDialog()},cancelListener:function(e){console.log("删除弹窗"),this.$showDialog(!1);var t=this,i=t.$data.deleteIndex;i>=0&&t.wxb.Post("/shop/api.address/delAddress",{address_id:t.$props.list[i].address_id},function(e){t.$showToast({show:!0,content:"删除地址成功"}),t.getAddressList(),t.$emit("deleteEvent")})},sureListener:function(e){console.log("再想想"),this.$showDialog(!1)},getAddressList:function(e){var t=this;t.wxb.Post("/shop/api.address/getIndex",{},function(e){t.$data.mList=e.list})},initProvinceInfo:function(){var e=this;e.wxb.Post("/shop/api.address/queryRegion",{parent_id:e.$data.parent_id},function(t){e.$data.province=t.list,e.$data.parent_id=t.list[0].region_id,e.initCityInfo()})},initCityInfo:function(){var e=this;e.wxb.Post("/shop/api.address/queryRegion",{parent_id:e.$data.parent_id},function(t){e.$data.city=t.list,e.$data.parent_id=t.list[0].region_id,e.initDivisionInfo()})},initDivisionInfo:function(){var e=this;e.wxb.Post("/shop/api.address/queryRegion",{parent_id:e.$data.parent_id},function(t){e.$data.division=t.list})},getRegionList:function(e){var t=this;t.wxb.Post("/shop/api.address/queryRegion",{parent_id:t.$data.parent_id},function(i){0==e?t.$data.province=i.list:1==e?(t.$data.city=i.list,t.$data.parent_id=i.list[0].region_id,t.initDivisionInfo()):2==e&&(t.$data.division=i.list)})}}};t.default=n},"3a3f":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".dialog-address[data-v-7808892c]{width:100%;height:554px;position:fixed;bottom:0;display:block;animation:bounceInUp 1s ease 0s 1 both;-webkit-animation:bounceInUp 1s ease 0s 1 both}.dialog-address .d-header[data-v-7808892c]{width:100%;height:54px;line-height:54px;background:#fff;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:#333;font-size:18px;border-radius:8px 8px 0 0;padding:0 15px}.bottom-info[data-v-7808892c]{width:100%;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:fixed;bottom:0;background:#fff;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04);box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.bottom-info .b-price[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:0 15px;color:#ed3005;font-size:14px}.bottom-info .b-num[data-v-7808892c]{width:140px;height:60px;line-height:60px;background:#ed3005;text-align:center;color:#fff;font-size:20px}.order-info[data-v-7808892c]{width:100%;display:inline-block;padding:0 15px;background:#fff;margin-top:12px}.order-info .item-order[data-v-7808892c]{width:100%;height:50px;border-bottom:1px solid #dfe6eb;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.order-info .item-order .o-lt[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#666;font-size:16px}.order-info .item-order .o-rt[data-v-7808892c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#333;font-size:16px}.open-main[data-v-7808892c]{width:100%;display:block;overflow-y:scroll}.open-main .address-info[data-v-7808892c]{width:100%;height:94px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 15px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:12px;background:#fff}.open-main .address-info .no-addr[data-v-7808892c]{width:100%;height:94px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 15px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.open-main .address-info .no-addr .na-lt[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#333;font-size:20px}.open-main .address-info .show-addr[data-v-7808892c]{width:100%;height:94px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 15px}.open-main .address-info .show-addr .addr-lt[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block}.open-main .address-info .show-addr .addr-lt .name[data-v-7808892c]{width:100%;font-size:20px;color:#333}.open-main .address-info .show-addr .addr-lt .desc[data-v-7808892c]{width:100%;color:#333;font-size:14px;margin-top:8px}\n\n/* 参团成员信息 */.member-info[data-v-7808892c]{width:100%;display:inline-block;background:#fff;margin-top:12px;padding:0 15px;text-align:center}.member-info .m-header[data-v-7808892c]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:left;color:#333;border-bottom:1px solid #e6e6e6}.member-info .m-cont[data-v-7808892c]{display:inline-block;text-align:center;padding:10px 0}.member-info .m-cont .item-member[data-v-7808892c]{width:50px;height:50px;border-radius:25px;position:relative;float:left;margin:5px;background:#fcfcfc;border:1px dotted #ccc}.item-member .m-state[data-v-7808892c]{width:40px;height:20px;line-height:20px;border-radius:10px;color:#fff;font-size:12px;text-align:center;background:#ff8c00;position:absolute;bottom:0;left:5px}.item-member uni-image[data-v-7808892c]{width:100%;height:100%;background:#fff;border-radius:50%}.goods-info[data-v-7808892c]{width:100%;margin-top:12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:15px;background:#fff}.goods-info .g-lt[data-v-7808892c]{width:100px;height:100px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#fcfcfc}.goods-info .g-lt .group-num[data-v-7808892c]{height:20px;line-height:20px;padding:0 6px;color:#fff;font-size:12px;background:#ff8c00;border-bottom-right-radius:10px;position:absolute;top:0;left:0}.goods-info .g-rt[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block;margin-left:10px}.goods-info .g-rt .gname[data-v-7808892c]{width:100%;color:#2d3133;font-size:16px}.goods-info .g-rt .gsku[data-v-7808892c]{width:100%;color:#666;font-size:14px;margin-top:10px}.goods-info .g-rt .gdesc[data-v-7808892c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:20px}.goods-info .g-rt .gdesc .price[data-v-7808892c]{color:#ed3005;font-size:14px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-top:4px}.goods-info .g-rt .gdesc .number[data-v-7808892c]{height:36px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.gdesc .number .minus[data-v-7808892c]{font-size:#CCCCCC}.gdesc .number .num[data-v-7808892c]{min-width:56px;height:36px;line-height:36px;font-size:16px;color:#43494d;text-align:center;background:#f5f6f7;margin:0 12px}.gdesc .number .add[data-v-7808892c]{font-size:#000000}\n\n/* 弹窗 */.dialog-detailed[data-v-7808892c]{width:100%;display:block;position:fixed;bottom:0;left:0;right:0;background:#fff;border-radius:8px 8px 0 0;animation:bounceInUp 1s ease 0s 1 both;-webkit-animation:bounceInUp 1s ease 0s 1 both;color:#000}.dialog-detailed .dd-header[data-v-7808892c]{width:100%;height:54px;line-height:54px;padding:0 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:1px solid #dfe6eb}.dialog-detailed .dd-header .h-tit[data-v-7808892c]{color:#333;font-size:18px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.dialog-detailed .dd-header .h-close[data-v-7808892c]{color:#333}.dd-payment[data-v-7808892c]{width:100%;height:400px;background:#f2f4f7;padding:15px}.dd-payment .item-payment[data-v-7808892c]{width:100%;height:60px;border-radius:8px;background:#fff;margin:6px 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 15px}.item-payment .p-lt[data-v-7808892c]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.item-payment .p-radio[data-v-7808892c]{font-size:30px;color:#ededed}",""])},5385:function(e,t,i){var n=i("3a3f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("830e1f4e",n,!0,{sourceMap:!1,shadowMode:!1})},"791b":function(e,t,i){"use strict";var n=i("a64d"),a=i.n(n);a.a},a218:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-scroll-view",{staticStyle:{position:"absolute",left:"0",right:"0",top:"54px",bottom:"0",background:"#F2F4F7"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"btn-add-address",attrs:{"data-type":"0"},on:{click:function(t){t=e.$handleEvent(t),e.editAddressListener(t)}}},[i("v-uni-text",{staticClass:"add-icon iconfont icon-btn_add1"}),i("v-uni-text",{staticClass:"add-hint"},[e._v("新增地址")])],1),i("v-uni-view",{staticClass:"address-list"},[e._l(e.mList,function(t,n){return i("v-uni-view",{key:n,staticClass:"item-address"},[i("v-uni-view",{staticClass:"lt-addr",attrs:{"data-index":n},on:{click:function(t){t=e.$handleEvent(t),e.selectAddressListener(t)}}},[i("v-uni-view",{staticClass:"u-info"},[i("v-uni-text",[e._v(e._s(t.name)+" "+e._s(t.mobile))]),t.is_default?i("v-uni-text",{staticClass:"state"},[e._v("默认")]):e._e()],1),i("v-uni-view",{staticClass:"u-addr"},[e._v(e._s(t.address))])],1),i("v-uni-view",{staticClass:"rt-addr"},[i("v-uni-text",{staticClass:"iconfont icon-btn_edit",attrs:{"data-type":"1","data-index":n},on:{click:function(t){t=e.$handleEvent(t),e.editAddressListener(t)}}}),i("v-uni-text",{staticClass:"iconfont icon-btn_delete",attrs:{"data-index":n},on:{click:function(t){t=e.$handleEvent(t),e.showDeleteListener(t)}}})],1)],1)}),e.more?i("v-uni-view",{staticClass:"more",attrs:{bindtap:"loadMore"}},[e._v("点击查看更多")]):e._e(),e.more?e._e():i("v-uni-view",{staticClass:"nodata"},[e._v("已经全部为你呈现了")]),i("LoadingView",{attrs:{img:"http://kuhukeji.com/static/uimage/mall/loading.gif"}}),i("ToastView")],2),e.edit_addr?i("v-uni-view",{staticClass:"edit-address"},[i("v-uni-form",{on:{submit:function(t){t=e.$handleEvent(t),e.submitUserAddress(t)}}},[i("v-uni-view",{staticClass:"e-tit"},[i("v-uni-text",{staticStyle:{flex:"1"}},[e._v(e._s(0==e.type?"新增地址":"修改地址"))]),i("v-uni-text",{staticClass:"iconfont icon-btn_close_black",on:{click:function(t){t=e.$handleEvent(t),e.closeEditListener(t)}}})],1),i("v-uni-view",{staticClass:"e-cont"},[i("v-uni-view",{staticClass:"item-edit"},[i("v-uni-view",{staticClass:"ie-tit"},[e._v("姓名")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"name",value:e.editAddr?e.editAddr.name:"",placeholder:"请输入身份证真实姓名","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1),i("v-uni-view",{staticClass:"item-edit"},[i("v-uni-view",{staticClass:"ie-tit"},[e._v("手机")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"mobile",value:e.editAddr?e.editAddr.mobile:"",placeholder:"请输入联系电话","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1),i("v-uni-view",{staticClass:"item-edit",on:{click:function(t){t=e.$handleEvent(t),e.showCitySelectDialog(t)}}},[i("v-uni-view",{staticClass:"ie-tit"},[e._v("地区")]),i("v-uni-view",{staticClass:"ie-input",style:"color:"+(e.addressDesc?"#000000;":"#CCCCCC;")},[e._v(e._s(e.addressDesc?e.addressDesc:"请选择省 城市 区县"))]),i("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1),i("v-uni-view",{staticClass:"item-edit",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"ie-tit"},[e._v("详细地址")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"street",maxlength:"60",value:e.editAddr?e.editAddr.street:"",placeholder:"请填写详细地址，5-60个字","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1)],1),i("v-uni-view",{staticClass:"default-cont"},[i("v-uni-text",{staticClass:"iconfont icon-radio",class:1==e.isDefault?"icon-selector_enable1 ":"icon-selector_disable1 ",style:"color:"+(1==e.isDefault?"#ED3005":"#999999")+";",on:{click:function(t){t=e.$handleEvent(t),e.onDefaultListener(t)}}}),i("v-uni-text",{staticStyle:{"margin-left":"8px",color:"#797D80","font-size":"14px","margin-top":"2px"}},[e._v("设置为默认地址")])],1),i("v-uni-button",{staticClass:"btn-save",attrs:{"form-type":"submit"}},[e._v("保存")])],1)],1):e._e(),i("dialog-view",{attrs:{title:"确定删除该地址？",btnCancel:"确定",btnSure:"再想想"},on:{cancelEvent:function(t){t=e.$handleEvent(t),e.cancelListener(t)},sureEvent:function(t){t=e.$handleEvent(t),e.sureListener(t)}}}),e.cityShowFlag?i("v-uni-view",{staticClass:"mask",staticStyle:{"z-index":"999"}},[i("v-uni-view",{staticClass:"time-listBox"},[i("v-uni-view",{staticClass:"item-time"},[i("v-uni-view",{staticClass:"date-cancel",on:{click:function(t){t=e.$handleEvent(t),e.hideCitySelectDialog(t)}}},[e._v("取消")]),i("v-uni-view",{staticClass:"date-title"},[e._v("选择省市区")]),i("v-uni-view",{staticClass:"date-sure",on:{click:function(t){t=e.$handleEvent(t),e.sureSelectListener(t)}}},[e._v("完成")])],1),i("v-uni-picker-view",{staticStyle:{width:"100%",height:"180px"},attrs:{"indicator-style":"height: 60px;"},on:{change:function(t){t=e.$handleEvent(t),e.bindChangeListener(t)}}},[i("v-uni-picker-view-column",e._l(e.province,function(t,n){return i("v-uni-view",{key:n,staticClass:"picker-date"},[e._v(e._s(t.label))])}),1),i("v-uni-picker-view-column",e._l(e.city,function(t,n){return i("v-uni-view",{key:n,staticClass:"picker-date"},[e._v(e._s(t.label))])}),1),i("v-uni-picker-view-column",e._l(e.division,function(t,n){return i("v-uni-view",{key:n,staticClass:"picker-date"},[e._v(e._s(t.label))])}),1)],1)],1)],1):e._e()],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},a64d:function(e,t,i){var n=i("e20d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("3ff5acd1",n,!0,{sourceMap:!1,shadowMode:!1})},e20d:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 新增地址Start */.edit-address[data-v-cb29c38e]{position:absolute;background:#f2f4f7;top:0;bottom:0;left:0;right:0;animation:bounceInUp 1s ease 0s 1 both;-webkit-animation:bounceInUp 1s ease 0s 1 both}.edit-address .e-tit[data-v-cb29c38e]{width:100%;height:54px;padding:0 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#333;font-size:18px;background:#fff}.edit-address .e-cont[data-v-cb29c38e]{width:100%;margin-top:12px;display:block;padding:0 15px;background:#fff}.edit-address .e-cont .item-edit[data-v-cb29c38e]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #e6e6e6}.item-edit .ie-tit[data-v-cb29c38e]{width:86px;height:50px;line-height:50px;color:#666;font-size:16px}.item-edit .ie-input[data-v-cb29c38e]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:16px;color:#333}.edit-address .default-cont[data-v-cb29c38e]{width:100%;height:69px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 15px}.edit-address .default-cont .icon-radio[data-v-cb29c38e]{width:21px;height:21px;font-size:21px;color:#999}.edit-address .btn-save[data-v-cb29c38e]{width:92%;height:48px;margin:32px 4%;background:#ed3005;color:#fff;font-size:18px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}\n/* 新增地址 End */.btn-add-address[data-v-cb29c38e]{width:92%;height:50px;margin:20px 4% 14px 4%;border-radius:4px;background:#fff;-webkit-box-shadow:0 2px 6px 0 #f2f2f2;box-shadow:0 2px 6px 0 #f2f2f2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.btn-add-address .add-icon[data-v-cb29c38e]{color:#ed3005;font-size:24px}.btn-add-address .add-hint[data-v-cb29c38e]{color:#ed3005;font-size:18px;margin-left:10px}.address-list[data-v-cb29c38e]{width:100%;display:inline-block}.address-list .item-address[data-v-cb29c38e]{width:92%;margin:6px 4%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:#fff;border-radius:8px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.address-list .item-address .lt-addr[data-v-cb29c38e]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block;padding:20px 2px 20px 15px}.lt-addr .u-info[data-v-cb29c38e]{color:#333;font-size:16px}.lt-addr .u-info .state[data-v-cb29c38e]{background:#ff8c00;font-size:12px;color:#fff;padding:3px;margin-left:5px;border-radius:3px}.lt-addr .u-addr[data-v-cb29c38e]{color:#999;font-size:14px;margin-top:10px}.address-list .item-address .rt-addr[data-v-cb29c38e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.address-list .item-address .rt-addr uni-text[data-v-cb29c38e]{margin:0 18px;font-size:25px;color:#aaafb3}\n/* 地址弹窗 */.time-listBox[data-v-cb29c38e]{width:100%;height:auto;display:block;position:fixed;bottom:0;background:#fff;padding:0 16px;z-index:999;animation:action_translateY 1s ease 0s 1 both;-webkit-animation:action_translateY 1s ease 0s 1 both}.time-listBox .item-time[data-v-cb29c38e]{width:100%;height:%?100?%;border-bottom:1px solid #f2f4f5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.time-listBox .item-time .name[data-v-cb29c38e]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#2d3133;font-size:16px}.time-listBox .item-time .arrow[data-v-cb29c38e]{width:24px;height:18px}.time-listBox .item-time .date-cancel[data-v-cb29c38e]{height:50px;line-height:50px;color:#5a6266;font-size:16px}.time-listBox .item-time .date-title[data-v-cb29c38e]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;color:#2d3133;font-size:16px}.time-listBox .item-time .date-sure[data-v-cb29c38e]{height:50px;line-height:50px;color:#00b5de;font-size:16px}.picker-date[data-v-cb29c38e]{text-align:center;line-height:60px;color:#000;font-size:16px}.time-listBox .date-cont[data-v-cb29c38e]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.time-listBox .date-cont .item[data-v-cb29c38e]{width:33.3333%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#aaafb3;font-size:14px}",""])},e382:function(e,t,i){"use strict";i.r(t);var n=i("f3e1"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},e491:function(e,t,i){"use strict";i.r(t);var n=i("15b7"),a=i("e382");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("0868");var d=i("2877"),o=Object(d["a"])(a["default"],n["a"],n["b"],!1,null,"7808892c",null);t["default"]=o.exports},f3e1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("0eb2"));function a(e){return e&&e.__esModule?e:{default:e}}var s={components:{addressView:n.default},data:function(){return{userid:0,model:"",showAddressFlag:!1,groupbuy_id:"",spec_key:"",address_id:"",item_id:"",skuMsg:"",use_money:0,detail:"",paymentFlag:!1,pay_type:"",list:[]}},onLoad:function(e){var t=this,i=uni.getStorageSync("user_id");void 0!=i&&""!=i&&(t.$data.userid=i),void 0!=e.pid&&""!=e.pid&&uni.setStorageSync("pid",e.pid),t.wxb.printLog("=============onLoad================"),t.wxb.addPage(this),t.wxb.Init(e,function(i){console.log(e);var n=e.groupbuy_id,a=e.goodsNum,s=e.spec_key;t.$data.groupbuy_id=n,t.$data.goodsNum=a,t.$data.spec_key=s,t.getDefaultAddress(),t.getAddressList()})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},methods:{deleteCallBack:function(e){this.getAddressList()},getAddressList:function(e){var t=this;t.wxb.Post("/shop/api.address/getIndex",{},function(e){t.$data.list=e.list;var i=t.$data.model;for(var n in e.list)if(e.list[n].address_id==i.address_id)return;t.$data.model="",t.getDefaultAddress()})},onUseMoneyListener:function(){0==this.$data.use_money?this.$data.use_money=1:this.$data.use_money=0},paymentListener:function(e){var t=e.currentTarget.dataset.type;void 0!=t&&(this.$data.pay_type=t,this.settlementListener()),this.hidePaymentDialog()},showPaymentDialog:function(e){"h5"==this.wxb.device?this.$data.paymentFlag=!0:this.settlementListener()},hidePaymentDialog:function(e){this.$data.paymentFlag=!1},settlementListener:function(e){var t=this;t.wxb.Post("/shop/api.groupbuy/GroupBuyOrder",{groupbuy_id:t.$data.groupbuy_id,spec_key:t.$data.spec_key,address_id:t.$data.address_id,item_id:t.$data.item_id,use_money:t.$data.use_money,pay_type:"h5"==t.wxb.device?t.$data.pay_type:""},function(e){if(0==e.is_pay)uni.redirectTo({url:"assemble?item_id="+e.item_id});else if("h5"==t.wxb.device)if(console.log("h5端支付跳转超链接"),"weixin"==t.$data.pay_type)console.log("h5端支付跳转超链接"),window.location.href=e.order_info;else{var i=window.document.createElement("div");i.innerHTML=e.order_info,window.document.body.appendChild(i),window.document.forms.alipaysubmit.submit()}else t.wxb.paymentOrder(e,function(t){var i=e.order_id;uni.redirectTo({url:"../../mine/order/detail?order_id="+i})})})},selectAddrListener:function(e){this.$data.list;this.$data.model=JSON.parse(e),console.log(this.$data.model),this.getCheckGroupBuyPrice(),this.hideAddressListListener()},showAddressListListener:function(){this.$data.showAddressFlag=!0},hideAddressListListener:function(){this.$data.showAddressFlag=!1,""!=this.$data.model&&this.getDefaultAddress(),this.getAddressList()},getDefaultAddress:function(){var e=this;e.wxb.Post("/shop/api.address/getDefault",{},function(t){void 0!=t&&(e.$data.model=t,e.$data.address_id=t.address_id),e.getCheckGroupBuyPrice()})},getCheckGroupBuyPrice:function(){var e=this;e.wxb.Post("/shop/api.groupbuy/getGroupBuyPrice",{groupbuy_id:e.$data.groupbuy_id,spec_key:e.$data.spec_key,address_id:e.$data.address_id,item_id:""},function(t){e.$data.detail=t})}}};t.default=s}}]);