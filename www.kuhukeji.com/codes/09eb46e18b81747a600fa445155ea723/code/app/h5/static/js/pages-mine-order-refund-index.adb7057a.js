(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-order-refund-index"],{"1d08":function(t,i,e){var a=e("7ebc");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("531d1ecc",a,!0,{sourceMap:!1,shadowMode:!1})},"487c":function(t,i,e){"use strict";e.r(i);var a=e("bcbc"),n=e("5efb");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("cbdb");var o=e("2877"),d=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"607a0d50",null);i["default"]=d.exports},"5efb":function(t,i,e){"use strict";e.r(i);var a=e("87e0"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);i["default"]=n.a},"7ebc":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".dialog-box[data-v-607a0d50]{width:100%;min-height:460px;background:#f2f4f7;position:absolute;bottom:0;display:block;animation:action_translateY 1s ease 0s 1 both;-webkit-animation:action_translateY 1s ease 0s 1 both;border-radius:8px 8px 0 0}.dialog-box .db-header[data-v-607a0d50]{width:100%;height:54px;line-height:54px;border-radius:8px 8px 0 0;background:#fff;padding:0 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.db-header .h-lt[data-v-607a0d50]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#000;font-size:18px}.db-header .h-rt[data-v-607a0d50]{font-size:16px;color:#333}.dialog-box .db-cont[data-v-607a0d50]{width:100%;padding:8px 15px;display:block}.dialog-box .db-cont .item-options[data-v-607a0d50]{width:100%;height:60px;line-height:60px;border-radius:8px;background:#fff;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin:6px 0;padding:0 15px}.item-options .io-lt[data-v-607a0d50]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#333;font-size:16px}.item-options .io-rt[data-v-607a0d50]{font-size:32px}.refund-box[data-v-607a0d50]{width:100%;padding:6px 15px;display:block}.refund-box .refund-cont[data-v-607a0d50]{display:block}.refund-cont .goods-base[data-v-607a0d50]{width:100%;border-radius:8px;background:#fff;padding:15px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin:6px 0}.goods-base .g-img[data-v-607a0d50]{width:100px;height:100px;background:red}.goods-base .g-info[data-v-607a0d50]{width:100%;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:10px}.goods-base .g-info .gi-name[data-v-607a0d50]{width:100%;color:#2d3133;font-size:16px}.goods-base .g-info .gi-sku[data-v-607a0d50]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:16px}.g-info .gi-sku .sku-desc[data-v-607a0d50]{color:#666;font-size:14px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.g-info .gi-sku .goods-num[data-v-607a0d50]{color:#666;font-size:14px}.refund-cont .refund-desc[data-v-607a0d50]{width:100%;display:block;margin:6px 0;background:#fff;border-radius:8px;padding:0 15px}.refund-desc .item-refund[data-v-607a0d50]{width:100%;height:60px;line-height:60px;border-bottom:1px solid #dfe6eb;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.item-refund .ir-lt[data-v-607a0d50]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#000;font-size:16px}.item-refund .ir-rt[data-v-607a0d50]{color:#999;font-size:16px}.refund-cont .refund-money[data-v-607a0d50]{width:100%;height:60px;line-height:60px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin:6px 0;background:#fff;padding:0 15px;border-radius:8px}.refund-cont .refund-money .rm-lt[data-v-607a0d50]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#000;font-size:16px}.refund-cont .refund-money .rm-rt[data-v-607a0d50]{color:#ed3005;font-size:24px}.refund-cont .shopping-num[data-v-607a0d50]{width:100%;padding:0 15px;margin:2px 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:#999;font-size:14px}.refund-cont .reason-cont[data-v-607a0d50]{width:100%;height:140px;background:#fff;border-radius:8px;margin:8px 0}.refund-cont .reason-cont .rc-area[data-v-607a0d50]{width:92%;height:110px;padding:15px;color:#000;font-size:16px;line-height:28px}.refund-cont .reason-img[data-v-607a0d50]{width:100%;display:inline-block;background:#fff;border-radius:8px;margin:8px 0}.refund-cont .reason-img .ri-tit[data-v-607a0d50]{color:#000;font-size:16px;padding:22px 15px 0 15px}.refund-cont .reason-img .ri-cont[data-v-607a0d50]{width:100%;display:inline-block;padding:16px 2%;text-align:center}.reason-img .ri-cont .model-img[data-v-607a0d50]{width:95px;height:95px;border:1px dotted #999;float:left;margin-left:7px;margin-right:8px;margin-bottom:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative}.model-img .iv-delete[data-v-607a0d50]{width:30px;height:30px;position:absolute;top:0;right:0}.reason-img .ri-cont .model-img .add-img[data-v-607a0d50]{font-size:14px;color:#999;display:block}.bottom-box[data-v-607a0d50]{width:100%;height:60px;position:fixed;left:0;right:0;bottom:0;background:#fff;-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.04);box-shadow:0 0 4px 0 rgba(0,0,0,.04)}.bottom-box .btn-submit[data-v-607a0d50]{width:92%;height:48px;margin:6px 4%;background:#ed3005;font-size:18px;color:#fff}",""])},"87e0":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{stateFlag:!1,stateIndex:0,reasonFlag:!1,reasonIndex:0,resonDesc:"",order_id:"",detail:"",list:[],reasonData:"",reasonList:[],resonCont:"",imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(t){var i=this;i.wxb.printLog(t),i.wxb.addPage(this),i.wxb.Init(t,function(e){t.order_id&&(i.$data.order_id=t.order_id,i.getOrderDetail(),i.getApplyRefund())})},onUnload:function(){this.wxb.removePage()},methods:{getApplyRefund:function(t){var i=this;i.wxb.Post("/shop/api.order/rejectCancelOrder",{order_id:i.$data.order_id},function(t){console.log(t),i.$data.reasonData=t,0==i.$data.stateIndex?i.$data.reasonList=t.no_goods_reject_reason:i.$data.reasonList=t.has_goods_reject_reason})},reasonChangeListener:function(t){var i=t.detail.value;this.$data.resonCont=i},addPhotoListener:function(t){var i=this;i.$data.list.length<6&&uni.chooseImage({count:1,sizeType:["compressed"],success:function(t){console.log(t),uni.uploadFile({url:i.wxb.shopUrl+"/shop/api.upload/imageUpload",fileType:"image",filePath:t.tempFilePaths[0],name:"file",success:function(t){var e=JSON.parse(t.data);console.log(e),200==t.statusCode&&200==e.code?(i.$data.list.push(e.data.img_url),console.log(i.$data.list)):uni.showModal({title:"提示",content:"上传失败",showCancel:!1})},fail:function(t){uni.showModal({title:"提示",content:"上传失败",showCancel:!1})},complete:function(){uni.hideToast()}})}})},submitApplyListener:function(t){var i=this;i.wxb.Post("/shop/api.order/applyRefundSub",{order_id:i.$data.order_id,reject_goods_status:i.$data.stateIndex,reject_reason:i.$data.reasonIndex,reject_content:i.$data.resonCont,reject_photos:JSON.stringify(i.$data.list)},function(t){console.log(t),uni.redirectTo({url:""})})},deletePhotoListener:function(t){var i=this.$data.list;i.splice(t,1),this.$data.list=i},radioStateListener:function(t){this.$data.stateIndex=t,this.$data.reasonList=0==t?this.reasonData.no_goods_reject_reason:this.reasonData.has_goods_reject_reason},showOrderStateDialog:function(t){this.$data.stateFlag=!0},hideOrderStateDialog:function(t){this.$data.stateFlag=!1},radioReasonListener:function(t){this.$data.reasonIndex=t.key,this.$data.resonDesc=t.value,this.hideOrderReasonDialog()},showOrderReasonDialog:function(t){this.$data.reasonFlag=!0},hideOrderReasonDialog:function(t){this.$data.reasonFlag=!1},getOrderDetail:function(t){var i=this;i.wxb.Post("/shop/api.order/getDetail",{order_id:i.$data.order_id},function(t){i.$data.detail=t})}}};i.default=a},bcbc:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"refund-box"},[e("v-uni-view",{staticClass:"refund-cont"},[t._l(t.detail.order_goods,function(i,a){return e("v-uni-view",{key:a,staticClass:"goods-base"},[e("v-uni-image",{staticClass:"g-img",attrs:{src:i.goods_photo}}),e("v-uni-view",{staticClass:"g-info"},[e("v-uni-view",{staticClass:"gi-name ellipsis-02"},[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"gi-sku"},[e("v-uni-view",{staticClass:"sku-desc"},[t._v(t._s(i.spec_key_name))]),e("v-uni-view",{staticClass:"goods-num"},[t._v("x"+t._s(i.goods_num))])],1)],1)],1)}),e("v-uni-view",{staticClass:"refund-desc"},[e("v-uni-view",{staticClass:"item-refund",on:{click:function(i){i=t.$handleEvent(i),t.showOrderStateDialog(i)}}},[e("v-uni-view",{staticClass:"ir-lt"},[t._v("货物状态")]),e("v-uni-view",{staticClass:"ir-rt"},[e("v-uni-text",{staticStyle:{color:"#000"}},[t._v(t._s(0==t.stateIndex?"未收到货":"已收到货"))]),e("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1)],1),e("v-uni-view",{staticClass:"item-refund",staticStyle:{"border-bottom-width":"0"},on:{click:function(i){i=t.$handleEvent(i),t.showOrderReasonDialog(i)}}},[e("v-uni-view",{staticClass:"ir-lt"},[t._v("退款原因")]),e("v-uni-view",{staticClass:"ir-rt"},[e("v-uni-text",{style:"color:"+(""==t.resonDesc?"":"#000;")},[t._v(t._s(""==t.resonDesc?"请选择":t.resonDesc))]),e("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1)],1)],1),e("v-uni-view",{staticClass:"refund-money"},[e("v-uni-view",{staticClass:"rm-lt"},[t._v("退款金额")]),e("v-uni-view",{staticClass:"rm-rt"},[t._v("¥210")])],1),e("v-uni-view",{staticClass:"shopping-num"},[t._v("含发货运费¥0.00")]),e("v-uni-view",{staticClass:"reason-cont"},[e("v-uni-textarea",{staticClass:"rc-area",attrs:{placeholder:"退款说明（选填）"},on:{input:function(i){i=t.$handleEvent(i),t.reasonChangeListener(i)}}})],1),e("v-uni-view",{staticClass:"reason-img"},[e("v-uni-view",{staticClass:"ri-tit"},[t._v("上传凭证")]),e("v-uni-view",{staticClass:"ri-cont"},[t._l(t.list,function(i,a){return e("v-uni-view",{key:a,staticClass:"model-img"},[e("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i}}),e("v-uni-image",{staticClass:"iv-delete",attrs:{src:t.imgBaseUrl+"/order/btn_deletePhoto@3x.png"},on:{click:function(i){i=t.$handleEvent(i),t.deletePhotoListener(a)}}})],1)}),t.list.length<6?e("v-uni-view",{staticClass:"model-img"},[e("v-uni-view",{staticClass:"add-img",on:{click:function(i){i=t.$handleEvent(i),t.addPhotoListener(i)}}},[e("v-uni-view",{staticClass:"iconfont icon-btn_photo",staticStyle:{"font-size":"24px"}}),e("v-uni-view",{staticStyle:{"margin-top":"10px"}},[t._v("添加图片")])],1)],1):t._e()],2)],1),e("v-uni-view",{staticStyle:{width:"100%",height:"70px"}}),e("v-uni-view",{staticClass:"bottom-box"},[e("v-uni-button",{staticClass:"btn-submit",on:{click:function(i){i=t.$handleEvent(i),t.submitApplyListener(i)}}},[t._v("提交")])],1)],2),t.stateFlag?e("v-uni-view",{staticClass:"mask"},[e("v-uni-view",{staticClass:"dialog-box"},[e("v-uni-view",{staticClass:"db-header"},[e("v-uni-view",{staticClass:"h-lt"},[t._v("选择货物状态")]),e("v-uni-view",{staticClass:"h-rt iconfont icon-btn_close_black",on:{click:function(i){i=t.$handleEvent(i),t.hideOrderStateDialog(i)}}})],1),e("v-uni-view",{staticClass:"db-cont"},[e("v-uni-view",{staticClass:"item-options"},[e("v-uni-view",{staticClass:"io-lt"},[t._v("未收到货")]),e("v-uni-view",{staticClass:"io-rt iconfont",class:0==t.stateIndex?"icon-selector_enable":"icon-selector_disable",style:"color:"+(0==t.stateIndex?"#ED3005;":"#CCCCCC;"),on:{click:function(i){i=t.$handleEvent(i),t.radioStateListener(0)}}})],1),e("v-uni-view",{staticClass:"item-options"},[e("v-uni-view",{staticClass:"io-lt"},[t._v("已收到货")]),e("v-uni-view",{staticClass:"io-rt iconfont",class:1==t.stateIndex?"icon-selector_enable":"icon-selector_disable",style:"color:"+(1==t.stateIndex?"#ED3005;":"#CCCCCC;"),on:{click:function(i){i=t.$handleEvent(i),t.radioStateListener(1)}}})],1)],1)],1)],1):t._e(),t.reasonFlag?e("v-uni-view",{staticClass:"mask"},[e("v-uni-view",{staticClass:"dialog-box"},[e("v-uni-view",{staticClass:"db-header"},[e("v-uni-view",{staticClass:"h-lt"},[t._v("选择退款原因")]),e("v-uni-view",{staticClass:"h-rt iconfont icon-btn_close_black",on:{click:function(i){i=t.$handleEvent(i),t.hideOrderReasonDialog(i)}}})],1),e("v-uni-view",{staticClass:"db-cont"},t._l(t.reasonList,function(i,a){return e("v-uni-view",{key:a,staticClass:"item-options"},[e("v-uni-view",{staticClass:"io-lt"},[t._v(t._s(i.value))]),e("v-uni-view",{staticClass:"io-rt iconfont",class:t.reasonIndex==i.key?"icon-selector_enable":"icon-selector_disable",style:"color:"+(t.reasonIndex==i.key?"#ED3005;":"#CCCCCC;"),on:{click:function(e){e=t.$handleEvent(e),t.radioReasonListener(i)}}})],1)}),1)],1)],1):t._e()],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},cbdb:function(t,i,e){"use strict";var a=e("1d08"),n=e.n(a);n.a}}]);