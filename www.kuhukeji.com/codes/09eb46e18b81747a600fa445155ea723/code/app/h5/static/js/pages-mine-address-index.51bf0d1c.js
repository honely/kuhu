(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-address-index"],{"42ae":function(n,t,i){"use strict";i.r(t);var e=i("c6a8"),a=i.n(e);for(var d in e)"default"!==d&&function(n){i.d(t,n,function(){return e[n]})}(d);t["default"]=a.a},"9b48":function(n,t,i){var e=i("d28a");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=i("4f06").default;a("66473c72",e,!0,{sourceMap:!1,shadowMode:!1})},"9cb0":function(n,t,i){"use strict";var e=i("9b48"),a=i.n(e);a.a},c6a8:function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{userid:0,isDefault:0,edit_addr:!1,more:0,list:[],index:"",type:0,editAddr:{},province:[],city:[],division:[],pIndex:0,cIndex:0,dIndex:0,province_id:"",city_id:"",division_id:"",cityShowFlag:!1,parent_id:"",addressDesc:"",deleteIndex:-1,imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(n){var t=this,i=uni.getStorageSync("user_id");void 0!=i&&""!=i&&(t.$data.userid=i),void 0!=n.pid&&""!=n.pid&&uni.setStorageSync("pid",n.pid),t.wxb.addPage(this),t.wxb.Init(n,function(n){t.getAddressList()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var n=this;return{title:""==n.$data.companyName?"O2O电商小程序":n.$data.companyName,path:"/pages/index/index?pid="+n.$data.userid}},methods:{bindChangeListener:function(n){var t=this,i=n.detail.value,e=t.$data.pIndex,a=t.$data.cIndex,d=t.$data.dIndex;for(var s in i)0==s&&e!=i[s]?(e=i[s],console.log("修改省份"),t.$data.parent_id=t.$data.province[i[s]].region_id,t.getRegionList(1)):1==s&&a!=i[s]?(a=i[s],console.log("修改城市"),t.$data.parent_id=t.$data.city[i[s]].region_id,t.initDivisionInfo()):2==s&&d!=i[s]&&(d=i[s]);t.$data.pIndex=e,t.$data.cIndex=a,t.$data.dIndex=d},showCitySelectDialog:function(){this.$data.cityShowFlag=!0,this.$data.parent_id="",this.initProvinceInfo()},hideCitySelectDialog:function(){this.$data.cityShowFlag=!1},sureSelectListener:function(n){var t=this,i=t.$data.pIndex,e=t.$data.cIndex,a=t.$data.dIndex;t.$data.province_id=t.$data.province[i].region_id,t.$data.city_id=t.$data.city[e].region_id,t.$data.division_id=t.$data.division[a].region_id,t.$data.addressDesc=t.$data.province[i].label+t.$data.city[i].label+t.$data.division[i].label,t.hideCitySelectDialog(),console.log(t.$data.province),console.log("province_id=>"+t.$data.province_id),console.log("city_id=>"+t.$data.city_id),console.log("division_id=>"+t.$data.division_id)},submitUserAddress:function(n){console.log(n);var t=this,i=n.detail.value,e=i.name,a=i.mobile,d=i.street;""!=e?""!=a?0==t.$data.type?t.wxb.Post("/shop/api.address/addAddress",{name:e,mobile:a,street:d,is_default:t.$data.isDefault,province_id:t.$data.province_id,city_id:t.$data.city_id,division_id:t.$data.division_id},function(n){t.getAddressList(),t.closeEditListener()}):t.wxb.Post("/shop/api.address/editAddress",{address_id:t.$data.editAddr.address_id,name:e,mobile:a,street:d,is_default:t.$data.isDefault,province_id:t.$data.province_id,city_id:t.$data.city_id,division_id:t.$data.division_id},function(n){t.getAddressList(),t.closeEditListener()}):t.$showToast({show:!0,content:"手机号不能为空"}):t.$showToast({show:!0,content:"姓名不能为空"})},onDefaultListener:function(){0==this.$data.isDefault?this.$data.isDefault=1:this.$data.isDefault=0},editAddressListener:function(n){console.log(n);var t=n.currentTarget.dataset,i=t.type,e=t.index,a=this;console.log("type=>"+i),console.log("index=>"+e);var d=this.$data.list;this.$data.type=i,this.$data.index=e,void 0!=e&&1==i?(this.$data.editAddr=d[e],a.$data.province_id=d[e].province_id,a.$data.city_id=d[e].city_id,a.$data.division_id=d[e].division_id,this.$data.isDefault=this.$data.editAddr.is_default,this.$data.addressDesc=d[e].province+d[e].city+d[e].division):(this.$data.editAddr="",this.$data.addressDesc="",this.$data.isDefault=0);var s=this.$data.edit_addr;this.$data.edit_addr=!s},closeEditListener:function(n){this.$data.edit_addr=!1},showDeleteListener:function(n){this.$data.deleteIndex=n.currentTarget.dataset.index,this.$showDialog()},cancelListener:function(n){console.log("删除弹窗"),this.$showDialog(!1);var t=this,i=t.$data.deleteIndex;i>=0&&t.wxb.Post("/shop/api.address/delAddress",{address_id:t.$data.list[i].address_id},function(n){t.$showToast({show:!0,content:"删除地址成功"}),t.getAddressList()})},sureListener:function(n){console.log("再想想"),this.$showDialog(!1)},getAddressList:function(n){var t=this;t.wxb.Post("/shop/api.address/getIndex",{},function(n){t.$data.list=n.list})},initProvinceInfo:function(){var n=this;n.wxb.Post("/shop/api.address/queryRegion",{parent_id:n.$data.parent_id},function(t){n.$data.province=t.list,n.$data.parent_id=t.list[0].region_id,n.initCityInfo()})},initCityInfo:function(){var n=this;n.wxb.Post("/shop/api.address/queryRegion",{parent_id:n.$data.parent_id},function(t){n.$data.city=t.list,n.$data.parent_id=t.list[0].region_id,n.initDivisionInfo()})},initDivisionInfo:function(){var n=this;n.wxb.Post("/shop/api.address/queryRegion",{parent_id:n.$data.parent_id},function(t){n.$data.division=t.list})},getRegionList:function(n){var t=this;t.wxb.Post("/shop/api.address/queryRegion",{parent_id:t.$data.parent_id},function(i){0==n?t.$data.province=i.list:1==n?(t.$data.city=i.list,t.$data.parent_id=i.list[0].region_id,t.initDivisionInfo()):2==n&&(t.$data.division=i.list)})}}};t.default=e},d28a:function(n,t,i){t=n.exports=i("2350")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 新增地址Start */.edit-address[data-v-0e6d2689]{position:absolute;background:#f2f4f7;top:0;bottom:0;left:0;right:0;animation:bounceInUp 1s ease 0s 1 both;-webkit-animation:bounceInUp 1s ease 0s 1 both}.edit-address .e-tit[data-v-0e6d2689]{width:100%;height:54px;padding:0 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#333;font-size:18px;background:#fff}.edit-address .e-cont[data-v-0e6d2689]{width:100%;margin-top:12px;display:block;padding:0 15px;background:#fff}.edit-address .e-cont .item-edit[data-v-0e6d2689]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #e6e6e6}.item-edit .ie-tit[data-v-0e6d2689]{width:86px;height:50px;line-height:50px;color:#666;font-size:16px}.item-edit .ie-input[data-v-0e6d2689]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:16px;color:#333}.edit-address .default-cont[data-v-0e6d2689]{width:100%;height:69px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 15px}.edit-address .default-cont .icon-radio[data-v-0e6d2689]{width:21px;height:21px;font-size:21px;color:#999}.edit-address .btn-save[data-v-0e6d2689]{width:92%;height:48px;margin:32px 4%;background:#ed3005;color:#fff;font-size:18px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}\n/* 新增地址 End */.btn-add-address[data-v-0e6d2689]{width:92%;height:50px;margin:20px 4% 14px 4%;border-radius:4px;background:#fff;-webkit-box-shadow:0 2px 6px 0 #f2f2f2;box-shadow:0 2px 6px 0 #f2f2f2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.btn-add-address .add-icon[data-v-0e6d2689]{color:#ed3005;font-size:24px}.btn-add-address .add-hint[data-v-0e6d2689]{color:#ed3005;font-size:18px;margin-left:10px}.address-list[data-v-0e6d2689]{width:100%;display:inline-block}.address-list .item-address[data-v-0e6d2689]{width:92%;margin:6px 4%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:#fff;border-radius:8px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.address-list .item-address .lt-addr[data-v-0e6d2689]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block;padding:20px 2px 20px 15px}.lt-addr .u-info[data-v-0e6d2689]{color:#333;font-size:16px}.lt-addr .u-info .state[data-v-0e6d2689]{background:#ff8c00;font-size:12px;color:#fff;padding:3px;margin-left:5px;border-radius:3px}.lt-addr .u-addr[data-v-0e6d2689]{color:#999;font-size:14px;margin-top:10px}.address-list .item-address .rt-addr[data-v-0e6d2689]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.address-list .item-address .rt-addr uni-text[data-v-0e6d2689]{margin:0 18px;font-size:25px;color:#aaafb3}\n/* 地址弹窗 */.time-listBox[data-v-0e6d2689]{width:100%;height:auto;display:block;position:fixed;bottom:0;background:#fff;padding:0 16px;z-index:999;animation:action_translateY 1s ease 0s 1 both;-webkit-animation:action_translateY 1s ease 0s 1 both}.time-listBox .item-time[data-v-0e6d2689]{width:100%;height:%?100?%;border-bottom:1px solid #f2f4f5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.time-listBox .item-time .name[data-v-0e6d2689]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#2d3133;font-size:16px}.time-listBox .item-time .arrow[data-v-0e6d2689]{width:24px;height:18px}.time-listBox .item-time .date-cancel[data-v-0e6d2689]{height:50px;line-height:50px;color:#5a6266;font-size:16px}.time-listBox .item-time .date-title[data-v-0e6d2689]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;color:#2d3133;font-size:16px}.time-listBox .item-time .date-sure[data-v-0e6d2689]{height:50px;line-height:50px;color:#00b5de;font-size:16px}.picker-date[data-v-0e6d2689]{text-align:center;line-height:60px;color:#000;font-size:16px}.time-listBox .date-cont[data-v-0e6d2689]{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.time-listBox .date-cont .item[data-v-0e6d2689]{width:33.3333%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#aaafb3;font-size:14px}",""])},d848:function(n,t,i){"use strict";i.r(t);var e=i("df0e"),a=i("42ae");for(var d in a)"default"!==d&&function(n){i.d(t,n,function(){return a[n]})}(d);i("9cb0");var s=i("2877"),o=Object(s["a"])(a["default"],e["a"],e["b"],!1,null,"0e6d2689",null);t["default"]=o.exports},df0e:function(n,t,i){"use strict";var e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-scroll-view",{staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"btn-add-address",attrs:{"data-type":"0"},on:{click:function(t){t=n.$handleEvent(t),n.editAddressListener(t)}}},[i("v-uni-text",{staticClass:"add-icon iconfont icon-btn_add1"}),i("v-uni-text",{staticClass:"add-hint"},[n._v("新增地址")])],1),i("v-uni-view",{staticClass:"address-list"},[n._l(n.list,function(t,e){return i("v-uni-view",{key:e,staticClass:"item-address"},[i("v-uni-view",{staticClass:"lt-addr"},[i("v-uni-view",{staticClass:"u-info"},[i("v-uni-text",[n._v(n._s(t.name)+" "+n._s(t.mobile))]),t.is_default?i("v-uni-text",{staticClass:"state"},[n._v("默认")]):n._e()],1),i("v-uni-view",{staticClass:"u-addr"},[n._v(n._s(t.address))])],1),i("v-uni-view",{staticClass:"rt-addr"},[i("v-uni-text",{staticClass:"iconfont icon-btn_edit",attrs:{"data-type":"1","data-index":e},on:{click:function(t){t=n.$handleEvent(t),n.editAddressListener(t)}}}),i("v-uni-text",{staticClass:"iconfont icon-btn_delete",attrs:{"data-index":e},on:{click:function(t){t=n.$handleEvent(t),n.showDeleteListener(t)}}})],1)],1)}),n.more?i("v-uni-view",{staticClass:"more",attrs:{bindtap:"loadMore"}},[n._v("点击查看更多")]):n._e(),n.more?n._e():i("v-uni-view",{staticClass:"nodata"},[n._v("已经全部为你呈现了")]),i("LoadingView",{attrs:{img:n.imgBaseUrl+"/loading.gif"}}),i("ToastView")],2),n.edit_addr?i("v-uni-view",{staticClass:"edit-address"},[i("v-uni-form",{on:{submit:function(t){t=n.$handleEvent(t),n.submitUserAddress(t)}}},[i("v-uni-view",{staticClass:"e-tit"},[i("v-uni-text",{staticStyle:{flex:"1"}},[n._v(n._s(0==n.type?"新增地址":"修改地址"))]),i("v-uni-text",{staticClass:"iconfont icon-btn_close_black",on:{click:function(t){t=n.$handleEvent(t),n.closeEditListener(t)}}})],1),i("v-uni-view",{staticClass:"e-cont"},[i("v-uni-view",{staticClass:"item-edit"},[i("v-uni-view",{staticClass:"ie-tit"},[n._v("姓名")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"name",value:n.editAddr?n.editAddr.name:"",placeholder:"请输入身份证真实姓名","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1),i("v-uni-view",{staticClass:"item-edit"},[i("v-uni-view",{staticClass:"ie-tit"},[n._v("手机")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"mobile",value:n.editAddr?n.editAddr.mobile:"",placeholder:"请输入联系电话","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1),i("v-uni-view",{staticClass:"item-edit",on:{click:function(t){t=n.$handleEvent(t),n.showCitySelectDialog(t)}}},[i("v-uni-view",{staticClass:"ie-tit"},[n._v("地区")]),i("v-uni-view",{staticClass:"ie-input",style:"color:"+(n.addressDesc?"#000000;":"#CCCCCC;")},[n._v(n._s(n.addressDesc?n.addressDesc:"请选择省 城市 区县"))]),i("v-uni-text",{staticClass:"iconfont icon-btn_arrowr"})],1),i("v-uni-view",{staticClass:"item-edit",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"ie-tit"},[n._v("详细地址")]),i("v-uni-input",{staticClass:"ie-input",attrs:{name:"street",maxlength:"60",value:n.editAddr?n.editAddr.street:"",placeholder:"请填写详细地址，5-60个字","placeholder-style":"color:#CCCCCC;font-size:16px;"}})],1)],1),i("v-uni-view",{staticClass:"default-cont"},[i("v-uni-text",{staticClass:"iconfont icon-radio",class:1==n.isDefault?"icon-selector_enable1 ":"icon-selector_disable1 ",style:"color:"+(1==n.isDefault?"#ED3005":"#999999")+";",on:{click:function(t){t=n.$handleEvent(t),n.onDefaultListener(t)}}}),i("v-uni-text",{staticStyle:{"margin-left":"8px",color:"#797D80","font-size":"14px","margin-top":"2px"}},[n._v("设置为默认地址")])],1),i("v-uni-button",{staticClass:"btn-save",attrs:{"form-type":"submit"}},[n._v("保存")])],1)],1):n._e(),i("dialog-view",{attrs:{title:"确定删除该地址？",btnCancel:"确定",btnSure:"再想想"},on:{cancelEvent:function(t){t=n.$handleEvent(t),n.cancelListener(t)},sureEvent:function(t){t=n.$handleEvent(t),n.sureListener(t)}}}),n.cityShowFlag?i("v-uni-view",{staticClass:"mask",staticStyle:{"z-index":"999"}},[i("v-uni-view",{staticClass:"time-listBox"},[i("v-uni-view",{staticClass:"item-time"},[i("v-uni-view",{staticClass:"date-cancel",on:{click:function(t){t=n.$handleEvent(t),n.hideCitySelectDialog(t)}}},[n._v("取消")]),i("v-uni-view",{staticClass:"date-title"},[n._v("选择省市区")]),i("v-uni-view",{staticClass:"date-sure",on:{click:function(t){t=n.$handleEvent(t),n.sureSelectListener(t)}}},[n._v("完成")])],1),i("v-uni-picker-view",{staticStyle:{width:"100%",height:"180px"},attrs:{"indicator-style":"height: 60px;"},on:{change:function(t){t=n.$handleEvent(t),n.bindChangeListener(t)}}},[i("v-uni-picker-view-column",n._l(n.province,function(t,e){return i("v-uni-view",{key:e,staticClass:"picker-date"},[n._v(n._s(t.label))])}),1),i("v-uni-picker-view-column",n._l(n.city,function(t,e){return i("v-uni-view",{key:e,staticClass:"picker-date"},[n._v(n._s(t.label))])}),1),i("v-uni-picker-view-column",n._l(n.division,function(t,e){return i("v-uni-view",{key:e,staticClass:"picker-date"},[n._v(n._s(t.label))])}),1)],1)],1)],1):n._e()],1)},a=[];i.d(t,"a",function(){return e}),i.d(t,"b",function(){return a})}}]);