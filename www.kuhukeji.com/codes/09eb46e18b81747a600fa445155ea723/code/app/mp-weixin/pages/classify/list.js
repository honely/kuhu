(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/classify/list"],{"1de6":function(t,e,s){"use strict";s("2346");var i=o(s("b0ce")),a=o(s("cea1"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},"496e":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"list-cont"},[s("view",{staticStyle:{width:"100%",display:"inline-block",background:"#fff"}},[s("view",{staticStyle:{background:"#fff",padding:"10px 0"}},[s("view",{staticClass:"search-cont"},[s("text",{staticClass:"iconfont icon-icon_search icon-search"}),s("input",{staticClass:"sinput-cont",attrs:{placeholder:"请输入搜索内容",eventid:"45a96e36-0"},on:{input:t.inputChangeListener,confirm:t.searchGoodsListener}})])]),s("view",{staticClass:"list-type"},[s("view",{staticClass:"type-cont"},[s("view",{staticClass:"item-type",attrs:{eventid:"45a96e36-1"},on:{click:t.screenListener}},[s("text",{staticClass:"t-name"},[t._v(t._s(t.orderDesc))]),s("text",{staticClass:"iconfont t-icon",class:1==t.is_screen?"icon-icon_arrowup1":"icon-icon_arrowdown1"})]),s("view",{staticClass:"item-type",attrs:{eventid:"45a96e36-2"},on:{click:t.salesClickListener}},[s("text",{staticClass:"t-name"},[t._v("销量")]),s("view",{staticClass:"t-duicon"},[s("text",{staticClass:"iconfont icon-icon_arrowup1 du-icon",style:"color:"+(1==t.sales_order?"#f00;":"#999")}),s("text",{staticClass:"iconfont icon-icon_arrowdown1 du-icon",style:"color:"+(2==t.sales_order?"#f00;":"#999")})])]),s("view",{staticClass:"item-type",attrs:{eventid:"45a96e36-3"},on:{click:t.priceClickListener}},[s("text",{staticClass:"t-name"},[t._v("价格")]),s("view",{staticClass:"t-duicon"},[s("text",{staticClass:"iconfont icon-icon_arrowup1 du-icon",style:"color:"+(1==t.price_order?"#f00;":"#999")}),s("text",{staticClass:"iconfont icon-icon_arrowdown1 du-icon",style:"color:"+(2==t.price_order?"#f00;":"#999")})])])]),s("view",{staticClass:"type-menu"},[s("text",{staticClass:"iconfont",class:1==t.switchIndex?"icon-btn_toggle_one":"icon-btn_toggle_two",attrs:{eventid:"45a96e36-4"},on:{click:t.onSwitchListener}})])])]),1==t.switchIndex?s("view",{staticClass:"goods-list"},t._l(t.goods,function(e,i){return s("view",{key:i,staticClass:"item-goods",style:"padding-right:"+(i%2==1?0:2)+"px;padding-left:"+(i%2==0?0:2)+"px;",attrs:{eventid:"45a96e36-5-"+i},on:{click:function(s){t.$linkListener("../index/goods/detail?goods_id="+e.goods_id)}}},[s("view",{staticClass:"img-box"},[s("image",{staticClass:"goods-img",attrs:{src:e.photosales_sum}}),s("view",{directives:[{name:"show",rawName:"v-show",value:e.is_plus_vip,expression:"item.is_plus_vip"}],staticClass:"plus-price"},[t._v("PLUS会员：¥"+t._s(e.plus_vip_price))])]),s("view",{staticClass:"goods-name"},[s("text",{staticClass:"ellipsis-02",staticStyle:{height:"44px","line-height":"22px"}},[t._v(t._s(e.goods_name))])]),s("view",{staticClass:"goods-desc"},[s("view",{staticClass:"price",staticStyle:{"margin-top":"0"}},[s("text",{staticStyle:{"font-size":"14px"}},[t._v("¥")]),s("text",{staticStyle:{"font-size":"18px","margin-left":"3px"}},[t._v(t._s(e.shop_price))])]),s("view",{staticClass:"cost-price"},[s("text",[t._v("门市价:")]),s("text",{staticClass:"cost"},[t._v(t._s(e.market_price))])]),s("text",{staticClass:"iconfont icon-btn_cart icon-cart"})])])})):t._e(),2==t.switchIndex?s("view",{staticClass:"goods-list"},t._l(t.goods,function(e,i){return s("view",{key:i,staticClass:"item-goods-list",attrs:{eventid:"45a96e36-6-"+i},on:{click:function(s){t.$linkListener("../index/goods/detail?goods_id="+e.goods_id)}}},[s("view",{staticClass:"img-box"},[s("image",{staticClass:"g-img",attrs:{src:e.photosales_sum}}),s("view",{directives:[{name:"show",rawName:"v-show",value:e.is_plus_vip,expression:"item.is_plus_vip"}],staticClass:"plus-price"},[t._v("PLUS会员：¥"+t._s(e.plus_vip_price))])]),s("view",{staticClass:"g-cont"},[s("view",{staticClass:"gname ellipsis-02"},[t._v(t._s(e.goods_name))]),s("view",{staticClass:"gdesc"},[s("text",{staticClass:"iconfont icon-Star_c",staticStyle:{color:"#FFAE19","font-size":"14px"}}),s("text",{staticStyle:{"margin-left":"4px"}},[t._v(t._s(e.score?e.score:"5.0"))]),s("text",{staticStyle:{color:"#666666"}},[t._v("分")]),s("text",{staticStyle:{margin:"0 6px"}},[t._v("|")]),s("text",[t._v(t._s(e.sales_sum))]),s("text",{staticStyle:{color:"#666666"}},[t._v("人已买")])]),s("view",{staticClass:"gprice"},[s("text",{staticStyle:{color:"#ED3005","font-size":"14px"}},[t._v("¥")]),s("text",{staticStyle:{color:"#ED3005","font-size":"18px","margin-left":"3px"}},[t._v("58")]),s("text",{staticStyle:{"margin-left":"8px"}},[t._v("门市价：")]),s("text",{staticStyle:{"text-decoration":"line-through"}},[t._v("¥"+t._s(e.market_price))]),s("text",{staticClass:"iconfont icon-btn_cart",staticStyle:{position:"absolute",right:"0",color:"#ED3005","font-size":"24px"}})])])])})):t._e(),t.more?s("view",{staticClass:"more",attrs:{eventid:"45a96e36-7"},on:{click:t.getMallGoodsList}},[t._v("点击查看更多")]):t._e(),t.more?t._e():s("view",{staticClass:"nodata"},[t._v("已经全部为你呈现了")]),t.is_screen?s("view",{staticClass:"screen-box",style:"top:"+t.screenTopHeight+"px;"},[s("view",{staticClass:"item-screen",attrs:{eventid:"45a96e36-8"},on:{click:function(e){t.screenClickListener(0,"综合")}}},[s("text",[t._v("综合")]),s("text")]),s("view",{staticClass:"item-screen",attrs:{eventid:"45a96e36-9"},on:{click:function(e){t.screenClickListener(1,"最新上架")}}},[s("text",[t._v("最新上架")]),s("text")]),s("view",{staticClass:"item-screen",attrs:{eventid:"45a96e36-10"},on:{click:function(e){t.screenClickListener(2,"价格最低")}}},[s("text",[t._v("价格最低")]),s("text")]),s("view",{staticClass:"item-screen",attrs:{eventid:"45a96e36-11"},on:{click:function(e){t.screenClickListener(3,"价格最高")}}},[s("text",[t._v("价格最高")]),s("text")]),s("view",{staticClass:"item-screen",attrs:{eventid:"45a96e36-12"},on:{click:function(e){t.screenClickListener(4,"评价最多")}}},[s("text",[t._v("评价最多")]),s("text")])]):t._e(),s("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"45a96e36-0"}}),s("ToastView",{attrs:{mpcomid:"45a96e36-1"}})],1)},a=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return a})},"7d98":function(t,e,s){},b459:function(t,e,s){"use strict";var i=s("7d98"),a=s.n(i);a.a},bcb4:function(t,e,s){"use strict";s.r(e);var i=s("e436"),a=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},cea1:function(t,e,s){"use strict";s.r(e);var i=s("496e"),a=s("bcb4");for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);s("b459");var c=s("2877"),n=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=n.exports},e436:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{userid:0,is_screen:!1,goods:[],switchIndex:1,page:1,more:0,keywords:"",price_order:0,sales_order:0,order:0,orderDesc:"综合",screenTopHeight:"154",imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(e){var s=this,i=t.getStorageSync("user_id");void 0!=i&&""!=i&&(s.$data.userid=i),void 0!=e.pid&&""!=e.pid&&t.setStorageSync("pid",e.pid),"h5"==s.wxb.device?s.$data.screenTopHeight="154":s.$data.screenTopHeight="110",s.wxb.addPage(this),s.wxb.Init(e,function(t){void 0!=e.p_cat_id||void 0!=e.cat_id?(s.$data.p_cat_id=e.p_cat_id-0,s.$data.cat_id=e.cat_id-0,s.getMallGoodsList()):s.getMallGoodsList()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:t.$data.shareTitle?t.$data.shareTitle:"营销电商",path:"/pages/index/index?pid="+t.$data.userid+"&p_cat_id="+t.$data.p_cat_id+"&cat_id="+t.$data.cat_id}},methods:{salesClickListener:function(t){this.screenListener();var e=this.$data.sales_order;2==e?e=0:e+=1,this.$data.is_screen=!1,this.$data.sales_order=e,this.$data.page=1,this.getMallGoodsList()},priceClickListener:function(t){var e=this.$data.price_order;2==e?e=0:e+=1,this.$data.is_screen=!1,this.$data.price_order=e,this.$data.page=1,this.getMallGoodsList()},inputChangeListener:function(t){this.$data.keywords=t.detail.value},searchGoodsListener:function(t){this.$data.page=1,this.getMallGoodsList()},onSwitchListener:function(){var t=this.$data.switchIndex;this.$data.switchIndex=1==t?2:1,console.log("index->"+this.$data.switchIndex)},screenListener:function(t){var e=this.$data.is_screen;this.$data.is_screen=!e},screenClickListener:function(t,e){this.screenListener(),this.$data.orderDesc=e,this.$data.order=t,this.$data.page=1,this.getMallGoodsList()},getMallGoodsList:function(e){t.showLoading({title:"加载中...."});var s=this,i=s.$data.goods,a=s.$data.page;1==a&&(i=[]),s.wxb.Post("/shop/api.goods/index",{cat_id:s.$data.cat_id,p_cat_id:s.$data.p_cat_id,keywords:s.$data.keywords,price_order:s.$data.price_order,sales_order:s.$data.sales_order,order:s.$data.order,page:s.$data.page},function(e){for(var a in"baidu"==s.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:e.seo.title?"":e.seo.title,keywords:e.seo.keywords?"":e.seo.keywords,description:e.seo.description?"":e.seo.description,releaseDate:e.seo.releaseDate?"":e.seo.releaseDate,image:e.seo.image?"":e.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),t.hideLoading(),e.list)i.push(e.list[a]);s.$data.page+=1,s.$data.goods=i,s.$data.more=e.isMore})}}};e.default=s}).call(this,s("543d")["default"])}},[["1de6","common/runtime","common/vendor"]]]);