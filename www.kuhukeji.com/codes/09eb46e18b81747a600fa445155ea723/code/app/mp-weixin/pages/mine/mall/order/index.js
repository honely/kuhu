(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mall/order/index"],{"01bb":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("9219"));function n(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{userid:0,tindex:0,tabBars:[{name:"全部",id:"0"},{name:"待付款",id:"1"},{name:"待发货",id:"2"},{name:"待收货",id:"3"},{name:"已完成",id:"4"}],type:"",page:1,more:0,list:[],imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},components:{uniCountdown:a.default},onLoad:function(e){var i=this,a=t.getStorageSync("user_id");void 0!=a&&""!=a&&(i.$data.userid=a),void 0!=e.pid&&""!=e.pid&&t.setStorageSync("pid",e.pid),i.wxb.printLog(e),e.tabIndex&&(i.$data.tindex=e.tabIndex-0,i.$data.type=e.tabIndex-0),i.wxb.addPage(this),i.wxb.Init(e,function(t){i.getUserOrderList()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:""==t.$data.companyName?"积分商城":t.$data.companyName,path:"/pages/mine/mall/index?pid="+t.$data.userid}},methods:{toComment:function(e){t.navigateTo({url:"../../order/comment?model="+JSON.stringify(e)})},toLogistics:function(e){console.log("order_id=>"+e),t.navigateTo({url:"./logistics?order_id="+e})},toHome:function(){t.redirectTo({url:"/pages/mine/mall/index"})},toRefund:function(e){t.navigateTo({url:"./refund/index?order_id="+e})},toConfirmOrder:function(t){var e=this;e.wxb.Post("/shop/api.integral/confirmOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},deleteOrder:function(t){var e=this;e.wxb.Post("/shop/api.integral/delOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},getUserOrderList:function(t){var e=this,i=e.$data.page,a=e.$data.list;1==i&&(a=[]),e.wxb.Post("/shop/api.integral/orderIndex",{type:e.$data.type,page:e.$data.page},function(t){for(var i in t.list)a.push(t.list[i]);e.$data.list=a,e.$data.more=t.isMore,e.$data.page+=1,console.log(a)})},tapTabListener:function(t){this.$data.type=t,this.$data.page=1,this.getUserOrderList()}}};e.default=s}).call(this,i("543d")["default"])},"195d":function(t,e,i){"use strict";i("2346");var a=s(i("b0ce")),n=s(i("c4cf"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},"34c6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"order-box"},[i("view",{staticStyle:{width:"100%",background:"#fff!important",display:"inline-flex",position:"fixed",top:"44px","z-index":"999"}},[i("tab-view",{attrs:{type:1,tabBars:t.tabBars,color:"#ED3005;",tabIndex:t.tindex,eventid:"3f992da4-0",mpcomid:"3f992da4-0"},on:{tapTab:t.tapTabListener}})],1),i("view",{staticClass:"order-list"},[t._l(t.list,function(e,a){return i("view",{key:a,staticClass:"item-order"},[i("navigator",{attrs:{url:"detail?order_id="+e.order_id}},[i("view",{staticClass:"order-top"},[i("text"),i("text",{staticStyle:{flex:"1"}},[t._v("订单号："+t._s(e.order_sn?e.order_sn:e.order_id))]),i("text",[t._v(t._s(e.order_status_mean))])]),i("view",{staticClass:"goods-info"},[i("image",{staticClass:"g-img",attrs:{src:e.photo}}),i("view",{staticClass:"g-cont"},[i("view",{staticClass:"name ellipsis-02"},[t._v(t._s(e.goods_name))]),i("view",{staticClass:"price"},[i("image",{staticStyle:{width:"16px",height:"16px"},attrs:{src:t.imgBaseUrl+"/mine/icon_integral@3x.png"}}),i("text",{staticStyle:{color:"#ED3005","font-size":"16px","margin-left":"4px"}},[t._v(t._s(e.integral))]),i("text",{staticClass:"num"},[t._v("+"+t._s(e.shop_price)+"元")])])])]),i("view",{staticClass:"g-desc"},[i("text",{staticStyle:{"margin-left":"10px"}},[t._v("合计：")]),i("text",{staticStyle:{color:"#000000","font-size":"20px"}},[t._v("¥"+t._s(e.shop_price))]),i("text",{staticStyle:{"margin-left":"4px"}},[t._v("(含运费 ¥"+t._s(e.shipping_price)+")")])])]),i("view",{staticClass:"bottom-info"},[0==e.order_status?i("block",[i("view",{staticStyle:{flex:"1",display:"flex","align-items":"center"}},[i("uni-countdown",{attrs:{color:"#ffffff",splitorColor:"#ffffff","background-color":"#ED3005","border-color":"rgba(0,0,0,0)",second:e.expire_time,"show-day":!1,styleNum:2,mpcomid:"3f992da4-1-"+a}})],1),i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-1-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-03"},[t._v("立即付款")])]):t._e(),1==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-2-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})])]):t._e(),2==e.order_status?i("block",[i("text",{staticClass:"btn-02",attrs:{eventid:"3f992da4-3-"+a},on:{click:function(i){t.toRefund(e.order_id)}}},[t._v("申请退款")]),i("text",{staticClass:"btn-01",attrs:{eventid:"3f992da4-4-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-01",attrs:{eventid:"3f992da4-5-"+a},on:{click:function(i){t.toConfirmOrder(e.order_id)}}},[t._v("确认收货")])]):t._e(),9==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-6-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-01",attrs:{eventid:"3f992da4-7-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-01",attrs:{eventid:"3f992da4-8-"+a},on:{click:function(i){t.toComment(e)}}},[t._v("评价晒单")]),i("text",{staticClass:"btn-02",attrs:{eventid:"3f992da4-9-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),4==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-10-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-01",attrs:{eventid:"3f992da4-11-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-02",attrs:{eventid:"3f992da4-12-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),5==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-13-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-02",attrs:{eventid:"3f992da4-14-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),6==e.order_status||7==e.order_status||8==e.order_status?i("view",{staticClass:"btn-delete",attrs:{eventid:"3f992da4-15-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]):t._e()],1)],1)}),t.more?i("view",{staticClass:"more",attrs:{eventid:"3f992da4-16"},on:{click:t.getUserOrderList}},[t._v("点击查看更多")]):t._e(),t.more?t._e():i("view",{staticClass:"nodata"},[t._v("已经全部为你呈现了")])],2),i("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"3f992da4-2"}}),i("ToastView",{attrs:{mpcomid:"3f992da4-3"}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},ad70:function(t,e,i){"use strict";i.r(e);var a=i("01bb"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},c4cf:function(t,e,i){"use strict";i.r(e);var a=i("34c6"),n=i("ad70");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("dd37");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},dd37:function(t,e,i){"use strict";var a=i("f6da"),n=i.n(a);n.a},f6da:function(t,e,i){}},[["195d","common/runtime","common/vendor"]]]);