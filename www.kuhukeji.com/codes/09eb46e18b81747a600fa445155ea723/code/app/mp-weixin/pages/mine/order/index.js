(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/order/index"],{"117b":function(t,e,i){"use strict";var a=i("fa5f"),s=i.n(a);s.a},6144:function(t,e,i){"use strict";i("2346");var a=o(i("b0ce")),s=o(i("e610"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},"79e5":function(t,e,i){"use strict";i.r(e);var a=i("cee5"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=s.a},a246:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"order-box"},[i("view",{style:"top:"+t.topHeight+"px;width: 100%;background: #fff!important; display: inline-flex; position: fixed; z-index: 999;"},[i("tab-view",{attrs:{type:1,tabBars:t.tabBars,color:"#ED3005;",tabIndex:t.tindex,eventid:"5eaf39f9-0",mpcomid:"5eaf39f9-0"},on:{tapTab:t.tapTabListener}})],1),i("view",{staticClass:"order-list"},[t._l(t.list,function(e,a){return 4==t.type?i("view",{key:a,staticClass:"item-order",staticStyle:{background:"#fff"}},[i("view",{staticClass:"goods-info",staticStyle:{background:"rgba(0,0,0,0)"}},[i("image",{staticClass:"g-img",attrs:{src:e.photo}}),i("view",{staticClass:"g-cont"},[i("view",{staticClass:"name ellipsis-02"},[t._v(t._s(e.title))]),i("view",{staticClass:"comment-box"},[i("text",{staticClass:"btn-comment",attrs:{eventid:"5eaf39f9-1-"+a},on:{click:function(i){t.toComment(e)}}},[t._v("评价")])])])])]):t._e()}),t._l(t.list,function(e,a){return 4!=t.type?i("view",{key:a,staticClass:"item-order"},[i("navigator",{attrs:{url:"detail?order_id="+e.order_id}},[i("view",{staticClass:"order-top"},[i("text"),i("text",{staticStyle:{flex:"1"}},[t._v("订单号："+t._s(e.order_sn?e.order_sn:e.order_id))]),i("text",[t._v(t._s(e.order_status_mean))])]),t._l(e.order_goods,function(e,a){return i("view",{key:a,staticClass:"goods-info"},[i("image",{staticClass:"g-img",attrs:{src:e.goods_photo}}),i("view",{staticClass:"g-cont"},[i("view",{staticClass:"name ellipsis-02"},[t._v(t._s(e.goods_name))]),i("view",{staticClass:"sku"},[i("text",{staticStyle:{flex:"1"}},[t._v(t._s(e.spec_key_name))]),i("text",[t._v("x"+t._s(e.goods_num))])])])])}),i("view",{staticClass:"g-desc"},[i("text",[t._v("共"+t._s(e.goods_num)+"件商品")]),i("text",{staticStyle:{"margin-left":"10px"}},[t._v("合计：")]),i("text",{staticStyle:{color:"#000000","font-size":"20px"}},[t._v("¥"+t._s(e.all_price))]),i("text",{staticStyle:{"margin-left":"4px"}},[t._v("(含运费 ¥"+t._s(e.shipping_price)+")")])])],2),i("view",{staticClass:"bottom-info"},[0==e.order_status?i("block",[i("view",{staticStyle:{flex:"1",display:"flex","align-items":"center"}},[i("uni-countdown",{attrs:{color:"#ffffff",splitorColor:"#ffffff","background-color":"#ED3005","border-color":"rgba(0,0,0,0)",second:e.expire_time,"show-day":!1,styleNum:2,mpcomid:"5eaf39f9-1-"+a}})],1),i("text",{staticClass:"btn-03",attrs:{eventid:"5eaf39f9-2-"+a},on:{click:function(i){t.toOrderDetail(e.order_id)}}},[t._v("立即付款")])]):t._e(),1==e.order_status?i("block",[i("text",{staticClass:"btn-01",attrs:{eventid:"5eaf39f9-3-"+a},on:{click:function(i){t.toOrderDetail(e.order_id)}}},[t._v("取消订单")])]):t._e(),2==e.order_status?i("block",[i("text",{staticClass:"btn-02",attrs:{eventid:"5eaf39f9-4-"+a},on:{click:function(i){t.toRefund(e.order_id)}}},[t._v("申请退款")]),i("text",{staticClass:"btn-01",attrs:{eventid:"5eaf39f9-5-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-01",attrs:{eventid:"5eaf39f9-6-"+a},on:{click:function(i){t.toConfirmOrder(e.order_id)}}},[t._v("确认收货")])]):t._e(),9==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"5eaf39f9-7-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-01",attrs:{eventid:"5eaf39f9-8-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-02",attrs:{eventid:"5eaf39f9-9-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),4==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"5eaf39f9-10-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-01",attrs:{eventid:"5eaf39f9-11-"+a},on:{click:function(i){t.toLogistics(e.order_id)}}},[t._v("查看物流")]),i("text",{staticClass:"btn-02",attrs:{eventid:"5eaf39f9-12-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),5==e.order_status?i("block",[i("view",{staticClass:"btn-delete",attrs:{eventid:"5eaf39f9-13-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]),i("text",{staticClass:"btn-02",attrs:{eventid:"5eaf39f9-14-"+a},on:{click:t.toHome}},[t._v("再次购买")])]):t._e(),6==e.order_status||7==e.order_status||8==e.order_status?i("view",{staticClass:"btn-delete",attrs:{eventid:"5eaf39f9-15-"+a},on:{click:function(i){t.deleteOrder(e.order_id)}}},[i("text",{staticClass:"iconfont icon-btn_delete"})]):t._e()],1)],1):t._e()}),t.more?i("view",{staticClass:"more",attrs:{eventid:"5eaf39f9-16"},on:{click:t.getUserOrderList}},[t._v("点击查看更多")]):t._e(),t.more?t._e():i("view",{staticClass:"nodata"},[t._v("已经全部为你呈现了")])],2),i("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"5eaf39f9-2"}}),i("ToastView",{attrs:{mpcomid:"5eaf39f9-3"}})],1)},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},cee5:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("9219"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{userid:0,tindex:0,tabBars:[{name:"全部",id:"0"},{name:"待付款",id:"1"},{name:"待发货",id:"2"},{name:"待收货",id:"3"},{name:"待评价",id:"4"},{name:"退款售后",id:"5"}],type:"",page:1,more:0,list:[],topHeight:0,imgBaseUrl:""}},components:{uniCountdown:a.default},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl,"h5"==this.wxb.device&&(this.$data.topHeight=44)},onLoad:function(e){var i=this,a=t.getStorageSync("user_id");void 0!=a&&""!=a&&(i.$data.userid=a),void 0!=e.pid&&""!=e.pid&&t.setStorageSync("pid",e.pid),i.wxb.printLog(e),e.tabIndex&&(i.$data.tindex=e.tabIndex-0,i.$data.type=e.tabIndex-0),i.wxb.addPage(this),i.wxb.Init(e,function(t){4==i.$data.type?i.getCommentOrderList():i.getUserOrderList()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:""==t.$data.companyName?"订单中心":t.$data.companyName,path:"/pages/mine/order/index?pid="+t.$data.userid}},methods:{cancelApply:function(t){var e=this;e.wxb.Post("/shop/api.order/cancelOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},toOrderDetail:function(e){t.navigateTo({url:"./detail?order_id="+e})},toComment:function(e){t.navigateTo({url:"./comment?model="+JSON.stringify(e)})},toLogistics:function(e){console.log("order_id=>"+e),t.navigateTo({url:"./logistics?order_id="+e})},toHome:function(){t.reLaunch({url:"/pages/index/index"})},toRefund:function(e){t.navigateTo({url:"./refund/index?order_id="+e})},toCancel:function(t){var e=this;e.wxb.Post("/shop/api.order/cancelOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},toConfirmOrder:function(t){var e=this;e.wxb.Post("/shop/api.order/confirmOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},deleteOrder:function(t){var e=this;e.wxb.Post("/shop/api.order/delOrder",{order_id:t},function(t){e.$data.page=1,e.getUserOrderList()})},getUserOrderList:function(t){var e=this,i=e.$data.page,a=e.$data.list;1==i&&(a=[]),e.wxb.Post("/shop/api.order/index",{type:e.$data.type,page:e.$data.page},function(t){for(var i in t.list)a.push(t.list[i]);e.$data.list=a,e.$data.more=t.isMore,e.$data.page+=1,console.log(a)})},tapTabListener:function(t){this.$data.type=t,this.$data.page=1,4==t?this.getCommentOrderList():this.getUserOrderList()},getCommentOrderList:function(t){var e=this,i=e.$data.page,a=e.$data.list;1==i&&(a=[]),e.wxb.Post("/shop/api.order/getCommnet",{page:e.$data.page},function(t){for(var i in t.list)a.push(t.list[i]);e.$data.list=a,e.$data.more=t.isMore,e.$data.page+=1,console.log(a)})}}};e.default=o}).call(this,i("543d")["default"])},e610:function(t,e,i){"use strict";i.r(e);var a=i("a246"),s=i("79e5");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("117b");var n=i("2877"),r=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},fa5f:function(t,e,i){}},[["6144","common/runtime","common/vendor"]]]);