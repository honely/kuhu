(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/rush/list"],{"0c77":function(t,e,s){"use strict";var a=s("cb1a"),i=s.n(a);i.a},"4b7b":function(t,e,s){"use strict";s.r(e);var a=s("e505"),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},"6c8d":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"rush-list"},[s("view",{staticStyle:{background:"#fff",padding:"10px 0"}},[s("view",{staticClass:"search-cont"},[s("text",{staticClass:"iconfont icon-icon_search icon-search"}),s("input",{staticClass:"sinput-cont",attrs:{placeholder:"请输入搜索内容",eventid:"64d2d814-0"},on:{input:t.inputChangeListener,confirm:t.searchGoodsListener}})])]),t.data?s("view",[s("view",{staticClass:"rush-img"},[s("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.data.prom_img}})]),s("view",{staticClass:"rush-header"},[s("view",{staticClass:"mh-lf"},[t._v("共"+t._s(t.data.count)+"条抢购")]),s("view",{staticClass:"mh-rf"},[s("text",{staticStyle:{color:"#fff","font-size":"16px","margin-right":"8px"}},[t._v("距结束")]),s("uni-countdown",{attrs:{color:"#ffffff",splitorColor:"#ffffff","background-color":"#ED3005","border-color":"rgba(0,0,0,0)",hour:t.hour,minute:t.minute,second:t.second,"show-day":!1,mpcomid:"64d2d814-0"}})],1)]),t._l(t.list,function(e,a){return s("view",{key:a,staticClass:"item-rush",attrs:{eventid:"64d2d814-1-"+a},on:{click:function(s){t.toGooodsDetail("detail?id="+e.rushbuy_goods_id,e.surplus_num)}}},[s("image",{staticClass:"rush-img",attrs:{src:e.photo}}),s("view",{staticClass:"rush-cont"},[s("view",[t._v(t._s(e.goods_name))]),s("view",{staticClass:"progress-hollow"},[s("view",{staticClass:"progress-solid",style:"right:"+(100-e.percent)+"%"}),s("view",{staticClass:"progress-num"},[t._v(t._s(e.percent)+"%")])]),s("view",{staticClass:"stock"},[t._v("还剩"+t._s(e.surplus_num)+"件")]),s("view",{staticClass:"rush-desc"},[s("view",{staticClass:"rd-lt"},[s("view",{staticClass:"price"},[s("text",[t._v("¥")]),s("text",{staticStyle:{"margin-left":"4px","font-size":"18px"}},[t._v(t._s(e.rushbuy_price))])]),s("view",{staticClass:"cost-price"},[t._v("¥"+t._s(e.shop_price))])]),s("view",{staticClass:"rd-rt",style:"background:"+(0==e.surplus_num?"#CCCCCC;":"")},[t._v(t._s(0==e.surplus_num?"已抢光":"马上抢"))])])])])}),1==t.more?s("view",{staticClass:"more",attrs:{eventid:"64d2d814-2"},on:{click:t.getRushGoodsList}},[t._v("点击查看更多")]):t._e(),0==t.more?s("view",{staticClass:"nodata"},[t._v("已经全部为你呈现了")]):t._e()],2):t._e(),s("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"64d2d814-1"}}),s("ToastView",{attrs:{mpcomid:"64d2d814-2"}})],1)},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},af16:function(t,e,s){"use strict";s.r(e);var a=s("6c8d"),i=s("4b7b");for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);s("0c77");var n=s("2877"),r=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,"526e0051",null);e["default"]=r.exports},cb1a:function(t,e,s){},ddf8:function(t,e,s){"use strict";s("2346");var a=o(s("b0ce")),i=o(s("af16"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},e505:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(s("9219"));function i(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{userid:0,list:[],page:1,more:0,data:"",expire_time:0,hour:0,minute:0,second:0,keywords:"",imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},components:{uniCountdown:a.default},onLoad:function(e){var s=this,a=t.getStorageSync("user_id");void 0!=a&&""!=a&&(s.$data.userid=a),void 0!=e.pid&&""!=e.pid&&t.setStorageSync("pid",e.pid),s.wxb.printLog("=============onLoad================"),s.wxb.addPage(this),s.wxb.Init(e,function(t){s.getRushGoodsList()})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:t.$data.detail&&""!=t.$data.detail.goods_name?t.$data.detail.goods_name:"抢购列表",path:"/pages/index/rush/list?pid="+t.$data.userid}},methods:{inputChangeListener:function(t){this.$data.keywords=t.detail.value},searchGoodsListener:function(t){this.$data.page=1,this.getRushGoodsList()},toGooodsDetail:function(t,e){e>0?this.$linkListener(t):this.$showToast({show:!0,content:"抢购已经结束"})},getRushGoodsList:function(){var t=this,e=t.$data.page,s=t.$data.list;1==e&&(s=[]),t.wxb.Post("/shop/api.Rushbuy/getList",{rushbuy_id:"",page:e,keywords:t.$data.keywords},function(e){for(var a in"baidu"==t.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:e.seo.title?"":e.seo.title,keywords:e.seo.keywords?"":e.seo.keywords,description:e.seo.description?"":e.seo.description,releaseDate:e.seo.releaseDate?"":e.seo.releaseDate,image:e.seo.image?"":e.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),e.list)s.push(e.list[a]);t.$data.list=s,t.$data.page+=1,t.$data.more=e.isMore,t.$data.data=e.data,t.$data.expire_time=e.data.expire_time,console.log("倒计时->"+e.data.expire_time);var i=t.$data.expire_time,o=i/3600|0,n=(Math.round(i)-3600*o)/60|0;i=i%60|0;console.log("hour->"+o),console.log("minute->"+n),console.log("second->"+i),t.$data.hour=o,t.$data.minute=n,t.$data.second=i})}}};e.default=o}).call(this,s("543d")["default"])}},[["ddf8","common/runtime","common/vendor"]]]);