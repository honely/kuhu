(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59fffc72"],{"10e2":function(t,e,a){},"386b":function(t,e,a){var i=a("5ca1"),l=a("79e5"),o=a("be13"),s=/"/g,d=function(t,e,a,i){var l=String(o(t)),d="<"+e;return""!==a&&(d+=" "+a+'="'+String(i).replace(s,"&quot;")+'"'),d+">"+l+"</"+e+">"};t.exports=function(t,e){var a={};a[t]=e(d),i(i.P+i.F*l(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",a)}},"8d4d":function(t,e,a){"use strict";var i=a("10e2"),l=a.n(i);l.a},9556:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-editor"},[a("div",{staticClass:"html-editor"},[a("div",{staticClass:"html-editor-tit"},[a("span",{staticClass:"el-icon-back"}),a("span",{staticClass:"tit"},[t._v(t._s(t.title?t.title:"富文本编辑器"))]),a("span",{staticClass:"act"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showType=0==t.showType?1:0}}},[t._v(t._s(0==t.showType?"预览":"编辑"))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.showType,expression:"showType ==0"}],staticClass:"html-editor-main"},[a("div",{staticClass:"item"},[a("div",{staticClass:"editor-add"},[a("i",{staticClass:"el-icon-circle-plus",on:{click:function(e){t.addBtnIndex=-1}}}),a("transition",{attrs:{name:"el-zoom-in-center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:-1==t.addBtnIndex,expression:"addBtnIndex == -1"}],staticClass:"add-action-list"},[a("ul",[a("li",{on:{click:function(e){return t.addTxt(-1)}}},[a("i",{staticClass:"iconfont icon-wenben"})]),a("li",{on:{click:function(e){return t.addPhoto(-1)}}},[a("i",{staticClass:"iconfont icon-tupian"})]),a("li",{on:{click:function(e){return t.addVideo(-1)}}},[a("i",{staticClass:"iconfont icon-shipin"})]),a("li",{on:{click:function(e){t.addBtnIndex=-2}}},[t._v("取消")])])])])],1)]),t._l(t.htmldata,function(e,i){return a("div",{key:i,staticClass:"item",style:(e.mgTop?"margin-top:"+e.mgTop+"px;":"")+(e.mgBt?"margin-bottom:"+e.mgBt+"px;":"")},[a("div",{class:t.editIndex==i?"show-item on":"show-item",style:t.styleByIndex(i)},["txt"==e.mdl?a("div",[t._v(t._s(e.txt))]):t._e(),"pic"==e.mdl?a("div",[""!=e.img?a("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.img}}):a("p",[t._v("等待上传图片")])]):t._e(),"video"==e.mdl?a("div",[e.video?a("video",{staticStyle:{"max-width":"100%"},attrs:{src:e.video,controls:"controls"}},[t._v("\n                            您的浏览器不支持 video 标签。\n                        ")]):a("p",[t._v("等待上传图片")])]):t._e(),a("div",{staticClass:"action"},[a("i",{staticClass:"el-icon-edit-outline",on:{click:function(e){t.editIndex=i}}}),a("i",{staticClass:"el-icon-delete",on:{click:function(e){return t.deleteObj(i)}}})])]),a("div",{staticClass:"editor-add"},[a("i",{staticClass:"el-icon-circle-plus",on:{click:function(e){t.addBtnIndex=i}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.addBtnIndex==i,expression:"addBtnIndex == index"}],staticClass:"add-action-list"},[a("ul",[a("li",{on:{click:function(e){return t.addTxt(i)}}},[a("i",{staticClass:"iconfont icon-wenben"})]),a("li",{on:{click:function(e){return t.addPhoto(i)}}},[a("i",{staticClass:"iconfont icon-tupian"})]),a("li",{on:{click:function(e){return t.addVideo(i)}}},[a("i",{staticClass:"iconfont icon-shipin"})]),a("li",{on:{click:function(e){t.addBtnIndex=-2}}},[t._v("取消")])])])])])})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showType,expression:"showType ==1"}],staticClass:"html-editor-show"},t._l(t.htmldata,function(e,i){return a("div",{key:i,staticClass:"item",style:(e.mgTop?"margin-top:"+e.mgTop+"px;":"")+(e.mgBt?"margin-bottom:"+e.mgBt+"px;":"")},[a("div",{class:t.editIndex==i?"show-item on":"show-item",style:t.styleByIndex(i)},["txt"==e.mdl?a("div",[t._v(t._s(e.txt))]):t._e(),"pic"==e.mdl?a("div",[""!=e.img?a("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.img}}):a("p",[t._v("等待上传图片")])]):t._e(),"video"==e.mdl?a("div",[e.video?a("video",{staticStyle:{"max-width":"100%"},attrs:{src:e.video,controls:"controls"}},[t._v("\n                            您的浏览器不支持 video 标签。\n                        ")]):a("p",[t._v("等待上传图片")])]):t._e()])])}),0)]),t.editIndex>=0?a("div",{staticClass:"html-editor-form"},[t._m(0),t._l(t.htmldata,function(e,i){return a("div",{key:i,staticClass:"form-item"},[t.editIndex==i?a("el-form",{attrs:{"label-width":"80px",size:"small"}},["video"==e.mdl?a("el-form-item",{attrs:{label:"上传视频"}},[a("wyu-video",{attrs:{video:t.htmldata[i].video},model:{value:t.htmldata[i].video,callback:function(e){t.$set(t.htmldata[i],"video",e)},expression:"htmldata[index].video"}})],1):t._e(),"pic"==e.mdl?a("el-form-item",{attrs:{label:"上传图片"}},[a("wyu-upload",{attrs:{img:t.htmldata[i].img},model:{value:t.htmldata[i].img,callback:function(e){t.$set(t.htmldata[i],"img",e)},expression:"htmldata[index].img"}})],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"输入内容"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.htmldata[i].txt,callback:function(e){t.$set(t.htmldata[i],"txt",e)},expression:"htmldata[index].txt"}})],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"排列方式"}},[a("el-radio",{attrs:{label:0},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居左")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居中")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居右")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:3},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("首行缩进")])],1):t._e(),"txt"!=e.mdl?a("el-form-item",{attrs:{label:"排列方式"}},[a("el-radio",{attrs:{label:0},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居左")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居中")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2},model:{value:t.htmldata[i].type,callback:function(e){t.$set(t.htmldata[i],"type",e)},expression:"htmldata[index].type"}},[t._v("居右")])],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"字体大小"}},[a("el-input-number",{attrs:{size:"small",min:10,max:50},model:{value:t.htmldata[i].fontsize,callback:function(e){t.$set(t.htmldata[i],"fontsize",e)},expression:"htmldata[index].fontsize"}})],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"字体加粗"}},[a("el-radio",{attrs:{label:0},model:{value:t.htmldata[i].isb,callback:function(e){t.$set(t.htmldata[i],"isb",e)},expression:"htmldata[index].isb"}},[t._v("默认")]),a("el-radio",{attrs:{label:1},model:{value:t.htmldata[i].isb,callback:function(e){t.$set(t.htmldata[i],"isb",e)},expression:"htmldata[index].isb"}},[t._v("加粗")])],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"颜色"}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:t.htmldata[i].color,callback:function(e){t.$set(t.htmldata[i],"color",e)},expression:"htmldata[index].color"}})],1):t._e(),"txt"==e.mdl?a("el-form-item",{attrs:{label:"行高"}},[a("el-input-number",{attrs:{size:"small",min:10,max:50},model:{value:t.htmldata[i].lineH,callback:function(e){t.$set(t.htmldata[i],"lineH",e)},expression:"htmldata[index].lineH"}})],1):t._e(),a("el-form-item",{attrs:{label:"图片背景"}},[a("el-radio",{attrs:{label:0},model:{value:t.htmldata[i].isBgPic,callback:function(e){t.$set(t.htmldata[i],"isBgPic",e)},expression:"htmldata[index].isBgPic"}},[t._v("不启用")]),a("el-radio",{attrs:{label:1},model:{value:t.htmldata[i].isBgPic,callback:function(e){t.$set(t.htmldata[i],"isBgPic",e)},expression:"htmldata[index].isBgPic"}},[t._v("启用")])],1),1==t.htmldata[i].isBgPic?a("el-form-item",{attrs:{label:"背景图片"}},[a("wyu-upload",{attrs:{img:t.htmldata[i].bgPic},model:{value:t.htmldata[i].bgPic,callback:function(e){t.$set(t.htmldata[i],"bgPic",e)},expression:"htmldata[index].bgPic"}})],1):t._e(),1==t.htmldata[i].isBgPic?a("el-form-item",{attrs:{label:"背景排列"}},[a("el-radio",{attrs:{label:0},model:{value:t.htmldata[i].bgPicType,callback:function(e){t.$set(t.htmldata[i],"bgPicType",e)},expression:"htmldata[index].bgPicType"}},[t._v("顶部居中")]),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[i].bgPicType,callback:function(e){t.$set(t.htmldata[i],"bgPicType",e)},expression:"htmldata[index].bgPicType"}},[t._v("容器平铺")])],1):t._e(),a("el-form-item",{attrs:{label:"背景颜色"}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:t.htmldata[i].bg,callback:function(e){t.$set(t.htmldata[i],"bg",e)},expression:"htmldata[index].bg"}})],1),a("el-form-item",{attrs:{label:"上内边距"}},[a("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[i].pt,callback:function(e){t.$set(t.htmldata[i],"pt",e)},expression:"htmldata[index].pt"}})],1),a("el-form-item",{attrs:{label:"左内边距"}},[a("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[i].pl,callback:function(e){t.$set(t.htmldata[i],"pl",e)},expression:"htmldata[index].pl"}})],1),a("el-form-item",{attrs:{label:"右内边距"}},[a("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[i].pr,callback:function(e){t.$set(t.htmldata[i],"pr",e)},expression:"htmldata[index].pr"}})],1),a("el-form-item",{attrs:{label:"下内边距"}},[a("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[i].pb,callback:function(e){t.$set(t.htmldata[i],"pb",e)},expression:"htmldata[index].pb"}})],1),a("el-form-item",{attrs:{label:"距离上面"}},[a("el-slider",{attrs:{min:0,max:50,step:1},model:{value:t.htmldata[i].mgTop,callback:function(e){t.$set(t.htmldata[i],"mgTop",e)},expression:"htmldata[index].mgTop"}})],1),a("el-form-item",{attrs:{label:"距离下面"}},[a("el-slider",{attrs:{min:0,max:50,step:1},model:{value:t.htmldata[i].mgBt,callback:function(e){t.$set(t.htmldata[i],"mgBt",e)},expression:"htmldata[index].mgBt"}})],1)],1):t._e()],1)})],2):t._e()])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-title"},[a("h2",[t._v("设置内容")])])}],o=a("f499"),s=a.n(o),d=(a("9ec8"),a("5fed")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-video-upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.videoUpload,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[""!=t.showVideo?a("i",{staticClass:"el-icon-refresh avatar-uploader-icon"},[t._v("重新上传")]):a("i",{staticClass:"el-icon-upload avatar-uploader-icon"})])],1)},r=[],c=a("863e"),m={name:"myuVideo",props:["video"],data:function(){return{showVideo:"",videoUpload:""}},watch:{video:function(t){this.showVideo=t}},created:function(){this.videoUpload=c["API_HOST"]+"api/upload/videoUpload?token="+encodeURI(this.$store.getters.adminToken),this.showVideo=this.video?this.video:""},methods:{handleAvatarSuccess:function(t,e){this.showVideo=t.data.video_url,this.$emit("change",this.showVideo),this.$emit("input",this.showVideo)},beforeAvatarUpload:function(t){console.log(t);var e="video/mp4"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("视频只支持MP4格式"),a||this.$message.error("视频不能超过 5MB!"),e&&a}}},p=m,u=(a("8d4d"),a("2877")),h=Object(u["a"])(p,n,r,!1,null,"2a72e366",null),g=h.exports,f={mdl:"txt",type:0,txt:"请输入内容",fontsize:14,isb:0,color:"#333333",lineH:20,isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},v={mdl:"video",type:0,video:"",isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},b={mdl:"pic",type:0,img:"",isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},x={name:"htmlEditor",props:["html","title"],components:{WyuUpload:d["a"],WyuVideo:g},data:function(){return{addBtnIndex:-2,htmldata:[],editIndex:-1,showType:0}},watch:{html:function(t){""!=t&&t!=this.htmldata&&(this.htmldata=t)},htmldata:{handler:function(t,e){this.htmldata!=this.html&&this.$emit("input",this.htmldata)},immediate:!0,deep:!0}},created:function(){this.html!=this.htmldata&&(this.htmldata=this.html)},methods:{styleByIndex:function(t){if(this.htmldata[t]){var e=this.htmldata[t],a="";switch("txt"==e.mdl&&(a+="font-size:"+e.fontsize+"px;",a+="color:"+e.color+";",a+="line-height:"+e.lineH+"px;",a+="word-wrap:break-word;",1==e.isb&&(a+="font-weight:bold;")),e.type){case 1:a+="text-align:center;";break;case 2:a+="text-align:right;";break;case 3:a+="text-indent:"+2*e.fontsize+"px;";break;default:a+="text-align:left;";break}return e.pt&&(a+="padding-top:"+e.pt+"px;"),e.pl&&(a+="padding-left:"+e.pl+"px;"),e.pr&&(a+="padding-right:"+e.pr+"px;"),e.pb&&(a+="padding-bottom:"+e.pb+"px;"),e.isBgPic&&""!=e.bgPic?0==e.bgPicType?a+="background: "+e.bg+" url("+e.bgPic+") no-repeat center 0":a+="background: "+e.bg+" url("+e.bgPic+")":a+="background:"+e.bg+";",a}return""},addTxt:function(t){var e=JSON.parse(s()(f));this.addObj(e,t)},addVideo:function(t){var e=JSON.parse(s()(v));this.addObj(e,t)},addPhoto:function(t){var e=JSON.parse(s()(b));this.addObj(e,t)},addObj:function(t,e){""==this.htmldata?(e=0,this.htmldata.push(t)):(e+=1,this.htmldata.splice(e,0,t)),this.editIndex=e,this.addBtnIndex=-2},deleteObj:function(t){this.htmldata.splice(t,1),this.editIndex=-1,this.addBtnIndex=-2}}},_=x,y=(a("d190"),Object(u["a"])(_,i,l,!1,null,"4bc1bb73",null));e["a"]=y.exports},"9ec8":function(t,e,a){"use strict";a("386b")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},ab2a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopNav",{attrs:{title:"编辑优惠券"}}),a("div",{staticClass:"wyu-main"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[t._m(0),a("el-form",{ref:"goodsInfo",attrs:{model:t.goodsDetail.detail,size:"mini","label-width":"100px"}},[a("div",{staticClass:"wyu-title"},[a("h2",[t._v("这里编辑优惠券的信息")])]),a("el-form-item",{attrs:{label:"优惠券名称"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.goodsDetail.detail.name,callback:function(e){t.$set(t.goodsDetail.detail,"name",e)},expression:"goodsDetail.detail.name"}})],1),a("el-form-item",{attrs:{label:"抵用金额",prop:"money"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.goodsDetail.detail.money,callback:function(e){t.$set(t.goodsDetail.detail,"money",e)},expression:"goodsDetail.detail.money"}})],1),a("el-form-item",{attrs:{label:"抵用条件金额",prop:"condition"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.goodsDetail.detail.condition,callback:function(e){t.$set(t.goodsDetail.detail,"condition",e)},expression:"goodsDetail.detail.condition"}})],1),a("el-form-item",{attrs:{label:"全部个数",prop:"create_num"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.goodsDetail.detail.create_num,callback:function(e){t.$set(t.goodsDetail.detail,"create_num",e)},expression:"goodsDetail.detail.create_num"}})],1),a("el-form-item",{attrs:{label:"开始领取时间",prop:"send_start_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions1},model:{value:t.goodsDetail.detail.send_start_time,callback:function(e){t.$set(t.goodsDetail.detail,"send_start_time",e)},expression:"goodsDetail.detail.send_start_time"}})],1),a("el-form-item",{attrs:{label:"结束领取时间",prop:"send_end_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions1},model:{value:t.goodsDetail.detail.send_end_time,callback:function(e){t.$set(t.goodsDetail.detail,"send_end_time",e)},expression:"goodsDetail.detail.send_end_time"}})],1),a("el-form-item",{attrs:{label:"开始使用时间",prop:"expire_start_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions1},model:{value:t.goodsDetail.detail.expire_start_time,callback:function(e){t.$set(t.goodsDetail.detail,"expire_start_time",e)},expression:"goodsDetail.detail.expire_start_time"}})],1),a("el-form-item",{attrs:{label:"结束领取时间",prop:"expire_end_time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":t.pickerOptions1},model:{value:t.goodsDetail.detail.expire_end_time,callback:function(e){t.$set(t.goodsDetail.detail,"expire_end_time",e)},expression:"goodsDetail.detail.expire_end_time"}})],1),1==t.goodsDetail.detail.userarea?a("el-form-item",{attrs:{label:"商品分类",prop:"cat_id"}},[a("product-category",{attrs:{"cat-id":t.goodsDetail.detail.cat_id,"p-cat-id":t.goodsDetail.detail.p_cat_id},on:{selCat:t.getCatId}})],1):t._e(),a("el-form-item",{attrs:{label:"可领类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.goodsDetail.detail.type,callback:function(e){t.$set(t.goodsDetail.detail,"type",e)},expression:"goodsDetail.detail.type"}},[a("el-option",{attrs:{label:"请选择",value:-999}}),t._l(t.goodsDetail.couponUseType,function(t){return a("el-option",{attrs:{label:t.value,value:t.key}})})],2)],1),a("el-form-item",{attrs:{label:"使用范围"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.goodsDetail.detail.userarea,callback:function(e){t.$set(t.goodsDetail.detail,"userarea",e)},expression:"goodsDetail.detail.userarea"}},[a("el-option",{attrs:{label:"请选择",value:-999}}),t._l(t.goodsDetail.useArea,function(t){return a("el-option",{attrs:{label:t.value,value:t.key}})})],2)],1),a("el-form-item",{attrs:{label:"发放类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.goodsDetail.detail.type,callback:function(e){t.$set(t.goodsDetail.detail,"type",e)},expression:"goodsDetail.detail.type"}},[a("el-option",{attrs:{label:"请选择",value:-999}}),t._l(t.goodsDetail.couponType,function(t){return a("el-option",{attrs:{label:t.value,value:t.key}})})],2)],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.goodsDetail.detail.orderby,callback:function(e){t.$set(t.goodsDetail.detail,"orderby",e)},expression:"goodsDetail.detail.orderby"}}),a("p",{staticClass:"wyu-form-tips"},[t._v("数字越大越靠前")])],1),a("el-form-item",{attrs:{label:"上/下架"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.goodsDetail.detail.is_online,callback:function(e){t.$set(t.goodsDetail.detail,"is_online",e)},expression:"goodsDetail.detail.is_online"}})],1)],1)],1)]),a("div",{staticClass:"wyu-btn-div"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.editGoods()}}},[t._v("提交修改")]),a("router-link",{staticStyle:{"margin-left":"10px"},attrs:{to:"/marketing/coupon/index"}},[a("el-button",{attrs:{size:"small"}},[t._v("取消")])],1)],1)],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-tips wyu-tips-info",staticStyle:{"margin-bottom":"10px"}},[a("p",{staticClass:"tit"},[t._v("注意：只有优惠券领取类型为免费领取时才会在小程序弹出并可领取")])])}],o=(a("7f7f"),a("5200")),s=a("d722"),d=a("5fed"),n=a("9556"),r=a("0c7a"),c={name:"couponCreate",components:{ProductCategory:r["a"],HtmlEditor:n["a"],ImgUploads:d["a"],TopNav:o["a"]},data:function(){return{loading:!1,active:1,typeId:0,goodsDetail:{detail:{cat_id:0,p_cat_id:0,name:"",money:0,condition:0,create_num:0,send_num:0,use_num:0,send_start_time:"",send_end_time:"",expire_start_time:"",expire_end_time:"",type:-999,userarea:-999,receivetype:-999,is_online:0,orderby:0},useArea:{},couponType:{}},pickerOptions1:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.getTypeArea()},methods:{getTypeArea:function(){var t=this;this.loading=!0,s["a"]("/shop/admin.marketing.coupon/getTypeArea",{appToken:this.$store.getters.appToken}).then(function(e){t.loading=!1,t.goodsDetail.useArea=e.useArea,t.goodsDetail.couponType=e.couponType,t.goodsDetail.receiveType=e.receiveType}).catch(function(e){t.loading=!1})},getCatId:function(t){this.goodsDetail.detail.p_cat_id=+t.p_cat_id,this.goodsDetail.detail.cat_id=+t.cat_id},editGoods:function(){var t=this;this.loading=!0,console.log(this.goodsDetail.detail),s["a"]("/shop/admin.marketing.coupon/create",{appToken:this.$store.getters.appToken,cat_id:this.goodsDetail.detail.cat_id,p_cat_id:this.goodsDetail.detail.p_cat_id,name:this.goodsDetail.detail.name,money:this.goodsDetail.detail.money,condition:this.goodsDetail.detail.condition,create_num:this.goodsDetail.detail.create_num,send_num:this.goodsDetail.detail.send_num,use_num:this.goodsDetail.detail.use_num,send_start_time:this.goodsDetail.detail.send_start_time,send_end_time:this.goodsDetail.detail.send_end_time,expire_start_time:this.goodsDetail.detail.expire_start_time,expire_end_time:this.goodsDetail.detail.expire_end_time,type:this.goodsDetail.detail.type,userarea:this.goodsDetail.detail.userarea,receivetype:this.goodsDetail.detail.receivetype,is_online:this.goodsDetail.detail.is_online,orderby:this.goodsDetail.detail.orderby}).then(function(e){t.loading=!1,t.$message({message:"编辑成功",type:"success"})}).catch(function(e){t.loading=!1})}}},m=c,p=a("2877"),u=Object(p["a"])(m,i,l,!1,null,null,null);e["default"]=u.exports},ac18:function(t,e,a){},d190:function(t,e,a){"use strict";var i=a("ac18"),l=a.n(i);l.a}}]);
//# sourceMappingURL=chunk-59fffc72.e5d077ca.js.map