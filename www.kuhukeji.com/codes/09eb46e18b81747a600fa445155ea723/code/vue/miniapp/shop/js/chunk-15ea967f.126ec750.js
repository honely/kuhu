(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15ea967f"],{"11e9":function(e,t,i){var s=i("52a7"),o=i("4630"),a=i("6821"),l=i("6a99"),n=i("69a8"),r=i("c69a"),c=Object.getOwnPropertyDescriptor;t.f=i("9e1e")?c:function(e,t){if(e=a(e),t=l(t,!0),r)try{return c(e,t)}catch(i){}if(n(e,t))return o(!s.f.call(e,t),e[t])}},"1b85":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:e.selectDate},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},o=[],a={name:"DateBetween",props:["date"],data:function(){return{pickerOptions2:{shortcuts:[{text:"最近七天",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近半个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-1296e6),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}}]},value:""}},methods:{selectDate:function(e){var t=0,i=0;e&&(t=e[0].getFullYear()+"-"+(e[0].getMonth()+1)+"-"+e[0].getDate(),i=e[1].getFullYear()+"-"+(e[1].getMonth()+1)+"-"+e[1].getDate()),this.$emit("input",[t,i])}}},l=a,n=i("2877"),r=Object(n["a"])(l,s,o,!1,null,"082e0500",null);t["a"]=r.exports},"50de":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("TopNav",{attrs:{title:"添加拼团"}}),i("div",{staticClass:"wyu-main"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wyu-block"},[e._m(0),1==e.active?i("el-form",{ref:"goodsInfo",attrs:{model:e.goodsDetail,size:"mini","label-width":"100px"}},[i("div",{staticClass:"wyu-title"},[i("h2",[e._v("选择产品")])]),i("el-form-item",{attrs:{label:"选择产品"}},[i("product-select-spec",{attrs:{prom_type:0},on:{selGoods:e.getGoods}})],1),i("el-form-item",{attrs:{label:"PLUS会员特价"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.goodsDetail.is_vip,callback:function(t){e.$set(e.goodsDetail,"is_vip",t)},expression:"goodsDetail.is_vip"}})],1),e.goods?i("el-form-item",{attrs:{label:"产品名称 "}},[e._v("\n                    "+e._s(e.goods.goods_name)+"\n                ")]):e._e(),e.goods?i("el-form-item",{attrs:{label:"产品图片"}},[i("img",{attrs:{src:e.goods.photo,width:"100"}})]):e._e(),e.goods?i("el-form-item",{attrs:{label:"选择规格"}},[0==e.goods.sku_type?i("div",[e._v("\n                        价格："+e._s(e.goods.shop_price)+"\n                    ")]):e._e(),1==e.goods.sku_type?[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.goods.goods_spec,"row-key":"spec_key",height:"250",border:""},on:{"selection-change":e.seleSpec}},[i("el-table-column",{attrs:{"reserve-selection":!0,prop:"spec_key",type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"规格项",prop:"key_name"}}),i("el-table-column",{attrs:{label:"价格",prop:"shop_price",width:"100"}}),i("el-table-column",{attrs:{label:"团购价",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{model:{value:t.row.groupbuy_price,callback:function(i){e.$set(t.row,"groupbuy_price",i)},expression:"scope.row.groupbuy_price"}})]}}],null,!1,1979480778)}),e.goodsDetail.is_vip?i("el-table-column",{attrs:{label:"PLUS会员团购价",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{model:{value:t.row.vip_groupbuy_price,callback:function(i){e.$set(t.row,"vip_groupbuy_price",i)},expression:"scope.row.vip_groupbuy_price"}})]}}],null,!1,1622396538)}):e._e(),i("el-table-column",{attrs:{label:"库存",prop:"goods_num",width:"100"}})],1)]:e._e()],2):e._e(),i("div",{staticClass:"wyu-title"},[i("h2",[e._v("基本信息")])]),0==e.goods.sku_type?i("el-form-item",{attrs:{label:"团购价"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.groupbuy_price,callback:function(t){e.$set(e.goodsDetail,"groupbuy_price",t)},expression:"goodsDetail.groupbuy_price"}}),i("p",{staticClass:"wyu-form-tips"},[e._v("团购价格")])],1):e._e(),0==e.goods.sku_type&&1==e.goodsDetail.is_vip?i("el-form-item",{attrs:{label:"会员团购价"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.vip_groupbuy_price,callback:function(t){e.$set(e.goodsDetail,"vip_groupbuy_price",t)},expression:"goodsDetail.vip_groupbuy_price"}}),i("p",{staticClass:"wyu-form-tips"},[e._v("PLUS会员团购价格")])],1):e._e(),i("el-form-item",{attrs:{label:"需要人数"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.need_num,callback:function(t){e.$set(e.goodsDetail,"need_num",t)},expression:"goodsDetail.need_num"}}),i("p",{staticClass:"wyu-form-tips"},[e._v("指定多少人数才能成团 (2-5人)")])],1),i("el-form-item",{attrs:{label:"拼团有效期"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.end_time,callback:function(t){e.$set(e.goodsDetail,"end_time",t)},expression:"goodsDetail.end_time"}}),i("p",{staticClass:"wyu-form-tips"},[e._v("参与拼团后 多少小时后未拼团成功 即为拼团失败 单位（小时）")])],1),i("el-form-item",{attrs:{label:"排序"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.orderby,callback:function(t){e.$set(e.goodsDetail,"orderby",t)},expression:"goodsDetail.orderby"}})],1),i("el-form-item",{attrs:{label:"是否开启"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.goodsDetail.is_online,callback:function(t){e.$set(e.goodsDetail,"is_online",t)},expression:"goodsDetail.is_online"}})],1),i("div",{staticClass:"wyu-title"},[i("h2",[e._v("SEO设置")])]),i("el-form-item",{attrs:{label:"百度SEO标题","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off"},model:{value:e.goodsDetail.seo.title,callback:function(t){e.$set(e.goodsDetail.seo,"title",t)},expression:"goodsDetail.seo.title"}})],1),i("el-form-item",{attrs:{label:"百度SEO描述","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.keywords,callback:function(t){e.$set(e.goodsDetail.seo,"keywords",t)},expression:"goodsDetail.seo.keywords"}})],1),i("el-form-item",{attrs:{label:"百度SEO关键词","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.description,callback:function(t){e.$set(e.goodsDetail.seo,"description",t)},expression:"goodsDetail.seo.description"}})],1),i("el-form-item",{attrs:{label:"百度SEO原始发布时间","label-width":"120px"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.goodsDetail.seo.releaseDate,callback:function(t){e.$set(e.goodsDetail.seo,"releaseDate",t)},expression:"goodsDetail.seo.releaseDate"}})],1),i("el-form-item",{attrs:{label:"百度封面图片","label-width":"120px"}},[i("img-uploads",{attrs:{multi:!0,img:e.goodsDetail.seo.image},model:{value:e.goodsDetail.seo.image,callback:function(t){e.$set(e.goodsDetail.seo,"image",t)},expression:"goodsDetail.seo.image"}}),i("p",{staticClass:"tit"},[e._v(" 用于信息流投放后的封面显示，最多3张，单图片最大2M；封面图建议尺寸：高>=210px 宽>=375px;最小尺寸: 高>=146px 宽>=218px")])],1)],1):e._e()],1)]),i("div",{staticClass:"wyu-btn-div"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.createGoods()}}},[e._v("创建拼团")]),i("router-link",{staticStyle:{"margin-left":"10px"},attrs:{to:"/marketing/groupbuy/index"}},[i("el-button",{attrs:{size:"small"}},[e._v("取消")])],1)],1)],1)},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wyu-tips wyu-tips-info",staticStyle:{"margin-bottom":"10px"}},[i("p",{staticClass:"tit"},[e._v("1)拼团产品包邮以 关联产品为准")])])}],a=i("f499"),l=i.n(a),n=(i("ac6a"),i("5200")),r=i("d722"),c=i("830c"),p=i("9f3a"),d={name:"BargainCreate",components:{ImgUploads:p["a"],ProductSelectSpec:c["a"],TopNav:n["a"]},data:function(){return{loading:!1,active:1,typeId:0,data:{},goods:{},goodsDetail:{goods_id:0,spec:[],num:0,groupbuy_price:0,vip_groupbuy_price:0,is_online:1,end_time:0,orderby:0,success_num:0,need_num:0,is_vip:1,seo:{title:"",keywords:"",description:"",releaseDate:"",image:[]}}}},created:function(){},methods:{getGoodsData:function(){var e=[];return this.goods.goods_spec.forEach(function(t){t.goods_num>0&&e.push(t)}),this.data=e,e},getGoods:function(e){this.goods=e,void 0!=this.$refs.multipleTable&&(console.log(this.$refs.multipleTable),this.$refs.multipleTable.clearSelection()),this.goodsDetail.spec=e.goods_spec},seleSpec:function(e){var t=[];e.forEach(function(e){t.push(e)}),console.log(t),this.goodsDetail.spec=t},createGoods:function(){var e=this;this.loading=!0,r["a"]("/shop/admin.marketing.groupbuy/create",{appToken:this.$store.getters.appToken,goods_id:this.goods.goods_id,spec:l()(this.goodsDetail.spec),is_online:this.goodsDetail.is_online,end_time:this.goodsDetail.end_time,orderby:this.goodsDetail.orderby,need_num:this.goodsDetail.need_num,is_vip:this.goodsDetail.is_vip,groupbuy_price:this.goodsDetail.groupbuy_price,vip_groupbuy_price:this.goodsDetail.vip_groupbuy_price,seo:l()(this.goodsDetail.seo)}).then(function(t){e.loading=!1,e.$message({message:"提交成功",type:"success"}),setTimeout(function(){e.$router.push("/marketing/groupbuy/index")},1e3)}).catch(function(t){e.loading=!1})}}},u=d,m=i("2877"),g=Object(m["a"])(u,s,o,!1,null,null,null);t["default"]=g.exports},"51e6":function(e,t,i){"use strict";var s=i("85d8"),o=i.n(s);o.a},"5dbc":function(e,t,i){var s=i("d3f4"),o=i("8b97").set;e.exports=function(e,t,i){var a,l=t.constructor;return l!==i&&"function"==typeof l&&(a=l.prototype)!==i.prototype&&s(a)&&o&&o(e,a),e}},"830c":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择商品")]),i("el-dialog",{attrs:{top:"10px",visible:e.dialogVisible,width:"1500px",title:"选择商品","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wyu-block"},[i("div",{staticClass:"wyu-tips wyu-tips-info",staticStyle:{"margin-bottom":"10px"}},[i("p",{staticClass:"tit"},[e._v("注意：这里只展示未关联其他营销活动的产品")])]),i("el-form",{staticClass:"search-form",attrs:{size:"mini",inline:!0},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[i("el-form-item",{attrs:{label:"商品名称","label-width":"100"}},[i("el-input",{model:{value:e.searchForm.goods_name,callback:function(t){e.$set(e.searchForm,"goods_name",t)},expression:"searchForm.goods_name"}})],1),i("el-form-item",{attrs:{label:"商品编号","label-width":"100"},model:{value:e.searchForm.goods_sn,callback:function(t){e.$set(e.searchForm,"goods_sn",t)},expression:"searchForm.goods_sn"}},[i("el-input")],1),i("el-form-item",{attrs:{label:"商品分类","label-width":"100"}},[i("product-category",{attrs:{"no-add":!0,"p-cat-id":e.searchForm.p_cat_id,"cat-id":e.searchForm.cat_id},on:{selCat:e.selCat}})],1),i("el-form-item",{attrs:{label:"商品模型","label-width":"100"}},[i("select-type",{attrs:{"type-id":e.searchForm.type_id},model:{value:e.searchForm.type_id,callback:function(t){e.$set(e.searchForm,"type_id",t)},expression:"searchForm.type_id"}})],1),i("el-form-item",{attrs:{label:"扩展参数"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_free_shipping,callback:function(t){e.$set(e.searchForm,"is_free_shipping",t)},expression:"searchForm.is_free_shipping"}},[e._v("包邮")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_plus_vip,callback:function(t){e.$set(e.searchForm,"is_plus_vip",t)},expression:"searchForm.is_plus_vip"}},[e._v("会员")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_commission,callback:function(t){e.$set(e.searchForm,"is_commission",t)},expression:"searchForm.is_commission"}},[e._v("分佣")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_hot,callback:function(t){e.$set(e.searchForm,"is_hot",t)},expression:"searchForm.is_hot"}},[e._v("热销")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_new,callback:function(t){e.$set(e.searchForm,"is_new",t)},expression:"searchForm.is_new"}},[e._v("新品")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm.is_recommend,callback:function(t){e.$set(e.searchForm,"is_recommend",t)},expression:"searchForm.is_recommend"}},[e._v("推荐 | ")])],1),i("el-form-item",{attrs:{label:"添加日期"}},[i("date-between",{model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),i("el-form-item",[i("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(t){return e.getList(1)}}},[e._v("搜索")])],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.datas.list,size:"small"},on:{"selection-change":e.selectIds}},[1==e.multiple?i("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),i("el-table-column",{attrs:{width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.SelectGoods(t.row)}}},[e._v("选择")])]}}])}),i("el-table-column",{attrs:{prop:"goods_id",label:"编码/ID",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",[e._v("系统ID："),i("span",[e._v(e._s(t.row.goods_id))])]),i("p",[e._v("商品编码："),i("span",[e._v(e._s(t.row.goods_sn))])])]}}])}),i("el-table-column",{attrs:{label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"ellipsis-02"},[e._v("\n                                "+e._s(t.row.goods_name)+"\n                            ")])]}}])}),i("el-table-column",{attrs:{label:"缩略图",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{attrs:{width:"60",src:e.row.photo}})]}}])}),i("el-table-column",{attrs:{label:"商品价格",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",[e._v("市场价："),i("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(t.row.market_price))])]),i("p",[e._v("本店价："),i("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(t.row.shop_price))])])]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"模型/分类",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",[e._v("商品模型："),i("span",[e._v(e._s(t.row.type_id))])]),i("p",[e._v("商品分类："),i("span",{staticClass:"ellipsis-01"},[e._v(e._s(t.row.p_cat_id)+"--\x3e"+e._s(t.row.cat_id))])])]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"扩展信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-row",[i("el-col",{attrs:{span:8}},[1==t.row.is_free_shipping?i("el-tag",{attrs:{size:"mini"}},[e._v("包邮")]):e._e(),0==t.row.is_free_shipping?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("包邮")]):e._e()],1),i("el-col",{attrs:{span:8}},[1==t.row.is_plus_vip?i("el-tag",{attrs:{size:"mini"}},[e._v("会员")]):e._e(),0==t.row.is_plus_vip?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("会员")]):e._e()],1),i("el-col",{attrs:{span:8}},[1==t.row.is_commission?i("el-tag",{attrs:{size:"mini"}},[e._v("分佣")]):e._e(),0==t.row.is_commission?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("分佣")]):e._e()],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[1==t.row.is_hot?i("el-tag",{attrs:{size:"mini"}},[e._v("热销")]):e._e(),0==t.row.is_hot?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("热销")]):e._e()],1),i("el-col",{attrs:{span:8}},[1==t.row.is_new?i("el-tag",{attrs:{size:"mini"}},[e._v("新品")]):e._e(),0==t.row.is_new?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("新品")]):e._e()],1),i("el-col",{attrs:{span:8}},[1==t.row.is_recommend?i("el-tag",{attrs:{size:"mini"}},[e._v("推荐")]):e._e(),0==t.row.is_recommend?i("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("推荐")]):e._e()],1)],1)]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"上/下架",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{value:t.row.is_online,"inactive-value":0,"active-value":1},on:{change:function(i){return e.setOnline(t.row)}}})]}}])})],1),i("div",{staticClass:"page"},[i("div",{staticClass:"page-tool"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onlines(1)}}},[e._v("确认选择")])],1),i("div",{staticClass:"page-mian"},[i("el-pagination",{attrs:{"page-size":e.datas.limit,layout:"total, prev, pager, next",total:e.datas.count},on:{"current-change":e.getList}})],1)])],1)])],1)},o=[],a=(i("ac6a"),i("c5f6"),i("d722")),l=i("1b85"),n=i("0c7a"),r=i("981d"),c={name:"ProductSelectSpec",components:{SelectType:r["a"],ProductCategory:n["a"],DateBetween:l["a"]},props:{multiple:{type:Boolean,default:!1},prom_id:{type:Number,default:0},prom_type:{type:Number,default:0},goods_id:{type:Number,default:0},is_edit:{type:Number,default:0}},data:function(){return{dialogVisible:!1,loading:!1,datas:[],searchForm:this.initSearch(),goods_ids:[]}},created:function(){this.getList()},methods:{initSearch:function(){return{date:[],is_plus_vip:0,is_commission:0,is_free_shipping:0,is_recommend:0,is_new:0,is_hot:0,cat_id:0,p_cat_id:0,type_id:0,is_online:0,goods_name:"",goods_sn:"",prom_type:this.prom_type,goods_id:this.goods_id,is_edit:this.is_edit}},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,a["a"]("/shop/admin.goods.goods/specIndex",{appToken:this.$store.getters.appToken,page:t,prom_type:this.prom_type,goods_id:this.goods_id,is_edit:this.is_edit,is_plus_vip:this.searchForm.is_plus_vip,is_commission:this.searchForm.is_commission,is_free_shipping:this.searchForm.is_free_shipping,is_recommend:this.searchForm.is_recommend,is_new:this.searchForm.is_new,is_hot:this.searchForm.is_hot,cat_id:this.searchForm.cat_id,p_cat_id:this.searchForm.p_cat_id,type_id:this.searchForm.type_id,is_online:2,end_add_time:this.searchForm.date[1]?this.searchForm.date[1]:0,bg_add_time:this.searchForm.date[0]?this.searchForm.date[0]:0,goods_name:"",goods_sn:""}).then(function(t){e.datas=t,e.loading=!1}).catch(function(t){e.loading=!1})},selCat:function(e){this.searchForm.cat_id=e.cat_id,this.searchForm.p_cat_id=e.p_cat_id},setOnline:function(e){var t=this;this.loading=!0,a["a"]("/shop/admin.goods.goods/online",{appToken:this.$store.getters.appToken,goods_id:e.goods_id}).then(function(e){t.loading=!1,t.getList()}).catch(function(e){t.loading=!1})},selectIds:function(e){var t=[];e.forEach(function(e){t.push(e.goods_id)}),this.goods_ids=t},SelectGoods:function(e){this.dialogVisible=!1,this.$emit("selGoods",e)},onlines:function(e){}}},p=c,d=i("2877"),u=Object(d["a"])(p,s,o,!1,null,null,null);t["a"]=u.exports},"85d8":function(e,t,i){},"8b97":function(e,t,i){var s=i("d3f4"),o=i("cb7c"),a=function(e,t){if(o(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,i){return a(e,i),t?e.__proto__=i:s(e,i),e}}({},!1):void 0),check:a}},9093:function(e,t,i){var s=i("ce10"),o=i("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,o)}},"981d":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.typeLoading,expression:"typeLoading"}],staticStyle:{width:"100%"},attrs:{disabled:!0===e.disabled,size:e.size,value:e.typeId,placeholder:"请选择"},on:{input:e.setTypeId}},e._l(e.types,function(e){return i("el-option",{key:e.type_id,attrs:{label:e.name,value:e.type_id}})}),1)],1)},o=[],a=i("d722"),l={name:"SelectType",props:["size","typeId","disabled"],data:function(){return{typeLoading:!0,types:[]}},created:function(){this.getTypeList()},methods:{setTypeId:function(e){this.$emit("input",e)},getTypeList:function(){var e=this;this.typeLoading=!0,a["a"]("/shop/admin.goodstype/index",{appToken:this.$store.getters.appToken}).then(function(t){e.typeLoading=!1,e.types=t.list,e.types.unshift({type_id:0,name:"全部模型"})}).catch(function(t){e.typeLoading=!1})}}},n=l,r=i("2877"),c=Object(r["a"])(n,s,o,!1,null,"bfc729f4",null);t["a"]=c.exports},"9f3a":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wyu-img-uploads"},[e.multi?e._e():i("div",{staticClass:"wyu-img-one"},[i("div",{staticClass:"wyu-upload-div",style:"width:"+e.myW+"px;line-height:"+e.myL+"px; height:"+e.myH+"px;"},[""==e.showImg?i("div",{staticClass:"image-box",on:{click:e.uploadFile}},[i("i",{staticClass:"el-icon-plus"})]):e._e(),""!=e.showImg?i("div",{staticClass:"image-box",style:"background-image: url("+e.showImg+");",on:{click:e.uploadFile}}):e._e(),""!=e.showImg?i("i",{staticClass:"el-icon-error",on:{click:e.deleteImg}}):e._e()])]),e.multi?i("div",{staticClass:"wyu-img-list"},[e._l(e.showImgs,function(t,s){return i("div",{key:s,staticClass:"wyu-upload-div",style:"width:"+e.myW+"px;line-height:"+e.myL+"px; height:"+e.myH+"px;"},[i("div",{staticClass:"image-box",style:"background-image: url("+t+");"}),i("i",{staticClass:"el-icon-error",on:{click:function(t){return e.deleteImg(s)}}})])}),i("div",{staticClass:"wyu-upload-div",style:"width:"+e.myW+"px;line-height:"+e.myL+"px; height:"+e.myH+"px;",on:{click:e.uploadFile}},[i("i",{staticClass:"el-icon-plus"})])],2):e._e(),i("el-dialog",{attrs:{title:"图片相册",visible:e.dialogVisible,"modal-append-to-body":!1,width:"800px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[0==e.showTab?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"photo-upload-tab"},[i("div",{staticClass:"photo-upload-btn"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showTab=1}}},[e._v("上传图片")])],1),i("div",{staticClass:"photo-main"},[i("div",{staticClass:"photo-group"},[i("ul",e._l(e.groups,function(t,s){return i("li",{key:s,class:t.id==e.cid?"on":"",on:{click:function(i){return e.clickCategory(t.id)}}},[e._v(e._s(t.name))])}),0)]),e.multi?i("div",{staticClass:"photo-list"},e._l(e.photos,function(t,s){return i("div",{key:s,class:!1!==e.isInArray(t.photo)?"item on":"item",on:{click:function(i){return e.setSelectImgs(t.photo)}}},[i("div",{staticClass:"image-box",style:"background-image: url("+t.photo+");"}),i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})])])}),0):e._e(),e.multi?e._e():i("div",{staticClass:"photo-list"},e._l(e.photos,function(t,s){return i("div",{key:s,class:e.selectImg==t.photo?"item on":"item",on:{click:function(i){e.selectImg=t.photo}}},[i("div",{staticClass:"image-box",style:"background-image: url("+t.photo+");"}),e.selectImg==t.photo?i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e()])}),0)]),i("div",{staticStyle:{height:"40px"}},[i("div",{staticClass:"pagegroup"},[i("el-pagination",{attrs:{"page-size":e.limit,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)]),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.selectPhoto()}}},[e._v("确定选取")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.clearSelect()}}},[e._v("取消选择")])],1)]):e._e(),1==e.showTab?i("div",{staticClass:"photo-upload-tab"},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"选择分组"}},[i("el-select",{staticStyle:{float:"left"},attrs:{size:"small",placeholder:"请选择分组"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},e._l(e.groups,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1),e.groups.length<16?i("create-resource-category",{on:{addYes:e.getCategoryByAdd}}):e._e()],1),i("el-form-item",{attrs:{label:"上传图片"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadImgUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?i("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("p",[e._v("只能上传JPG或者PNG的图片")])],1)],1),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",disabled:!e.imageUrl},on:{click:function(t){return e.selectPhotoByAdd()}}},[e._v("确定选取")]),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.showTab=0}}},[e._v("返回列表")])],1)],1):e._e()])],1)},o=[],a=i("f499"),l=i.n(a),n=i("e338"),r=i("d722"),c={name:"imgUploads",props:["multi","img","w","h"],components:{createResourceCategory:n["a"]},data:function(){return{myW:this.w?this.w:120,myH:this.h?this.h:120,myL:this.h?this.h-4:116,uploadImgUrl:"",showImg:"",showImgs:[],imageUrl:"",dialogVisible:!1,selectImg:"",selectImgs:[],showTab:0,groupId:0,cid:0,groups:[],page:1,loading:!1,total:0,limit:12,photos:[]}},watch:{img:function(e){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img},showImg:function(e){e!=this.img&&this.$emit("input",e)},showImgs:function(e){e!=this.img&&this.$emit("input",e)},groupId:function(e){var t="";t="/",this.uploadImgUrl=t+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)+"&groupId="+e}},created:function(){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img;var e="";e="/",this.uploadImgUrl=e+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)},methods:{setSelectImgs:function(e){var t=this.isInArray(e);!1!==t?this.selectImgs.splice(t,1):this.selectImgs.push(e)},isInArray:function(e){for(var t=0;t<this.selectImgs.length;t++)if(e==this.selectImgs[t])return t;return!1},selectPhotoByAdd:function(){1==this.multi?this.showImgs.push(this.imageUrl):this.showImg=this.imageUrl,this.imageUrl="",this.dialogVisible=!1},selectPhoto:function(){if(1==this.multi){var e=JSON.parse(l()(this.showImgs));for(var t in this.selectImgs)e.push(this.selectImgs[t]);this.showImgs=e,this.selectImgs=[]}else this.showImg=this.selectImg,this.selectImg="";this.dialogVisible=!1},clearSelect:function(){this.selectImg="",this.selectImgs=[]},clickCategory:function(e){this.cid=e,this.page=1,this.count=0,this.getPhotos()},handleCurrentChange:function(e){this.page=e,this.getPhotos()},getPhotos:function(){var e=this;this.loading=!0,r["a"]("shop/admin.resource.resource/index",{appToken:this.$store.getters.appToken,category_id:this.cid,limit:this.limit,page:this.page}).then(function(t){e.photos=t.list,e.total=t.count,e.loading=!1}).catch(function(t){e.loading=!1})},getCategoryByAdd:function(e){this.apiGetCategory(e)},getCategory:function(){this.apiGetCategory()},apiGetCategory:function(e){var t=this,i=[{name:"全部图片",id:0}];r["a"]("shop/admin.resource.category/index",{appToken:this.$store.getters.appToken}).then(function(s){for(var o in s.list)i.push({name:s.list[o].title,id:s.list[o].category_id});t.groups=i,e&&(t.groupId=e)}).catch(function(e){})},uploadFile:function(){this.getCategory(),this.getPhotos(),this.dialogVisible=!0},deleteImg:function(e){1==this.multi?this.showImgs.splice(e,1):this.showImg=""},handleAvatarSuccess:function(e,t){this.imageUrl=e.data.img_url,this.page=1,this.cid=0,this.getPhotos()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}}},p=c,d=(i("51e6"),i("2877")),u=Object(d["a"])(p,s,o,!1,null,null,null);t["a"]=u.exports},aa77:function(e,t,i){var s=i("5ca1"),o=i("be13"),a=i("79e5"),l=i("fdef"),n="["+l+"]",r="​",c=RegExp("^"+n+n+"*"),p=RegExp(n+n+"*$"),d=function(e,t,i){var o={},n=a(function(){return!!l[e]()||r[e]()!=r}),c=o[e]=n?t(u):l[e];i&&(o[i]=c),s(s.P+s.F*n,"String",o)},u=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(p,"")),e};e.exports=d},ac6a:function(e,t,i){for(var s=i("cadf"),o=i("0d58"),a=i("2aba"),l=i("7726"),n=i("32e9"),r=i("84f2"),c=i("2b4c"),p=c("iterator"),d=c("toStringTag"),u=r.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(m),h=0;h<g.length;h++){var _,f=g[h],v=m[f],b=l[f],y=b&&b.prototype;if(y&&(y[p]||n(y,p,u),y[d]||n(y,d,f),r[f]=u,v))for(_ in s)y[_]||a(y,_,s[_],!0)}},c5f6:function(e,t,i){"use strict";var s=i("7726"),o=i("69a8"),a=i("2d95"),l=i("5dbc"),n=i("6a99"),r=i("79e5"),c=i("9093").f,p=i("11e9").f,d=i("86cc").f,u=i("aa77").trim,m="Number",g=s[m],h=g,_=g.prototype,f=a(i("2aeb")(_))==m,v="trim"in String.prototype,b=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():u(t,3);var i,s,o,a=t.charCodeAt(0);if(43===a||45===a){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:s=2,o=49;break;case 79:case 111:s=8,o=55;break;default:return+t}for(var l,r=t.slice(2),c=0,p=r.length;c<p;c++)if(l=r.charCodeAt(c),l<48||l>o)return NaN;return parseInt(r,s)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof g&&(f?r(function(){_.valueOf.call(i)}):a(i)!=m)?l(new h(b(t)),i,g):b(t)};for(var y,w=i("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)o(h,y=w[k])&&!o(g,y)&&d(g,y,p(h,y));g.prototype=_,_.constructor=g,i("2aba")(s,m,g)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-15ea967f.126ec750.js.map