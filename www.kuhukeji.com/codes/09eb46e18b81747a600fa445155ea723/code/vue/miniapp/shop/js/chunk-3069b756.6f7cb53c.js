(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3069b756"],{"10e2":function(t,e,i){},"2a69":function(t,e,i){},"386b":function(t,e,i){var a=i("5ca1"),s=i("79e5"),l=i("be13"),n=/"/g,o=function(t,e,i,a){var s=String(l(t)),o="<"+e;return""!==i&&(o+=" "+i+'="'+String(a).replace(n,"&quot;")+'"'),o+">"+s+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(o),a(a.P+a.F*s(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},"3e5b":function(t,e,i){"use strict";var a=i("2a69"),s=i.n(a);s.a},5200:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-top"},[a("div",{staticClass:"wyu-header"},[t.title?t._e():a("div",{staticClass:"wyu-tab"},[a("ul",t._l(t.showMenu,function(e,i){return a("li",{key:i,class:i==t.select?"on":""},[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?a("div",{staticClass:"wyu-tab"},[a("ul",[a("li",[t._v(t._s(t.title))])])]):t._e(),a("div",{staticClass:"wyu-header-status"},[a("div",{staticClass:"login-info"},[a("img",{attrs:{src:i("741c")}}),a("el-dropdown",{staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                          "+t._s(t.$store.getters.appInfo.app_name)+"  "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:t.LogOut}},[t._v("退出登录")])])],1)],1)],1)])])])},s=[],l=(i("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{showMenu:[],menu:{sms:[{title:"发送短信",link:"/marketing/sms/send"},{title:"短信记录",link:"/marketing/sms/census"}],paymentSetting:[{title:"微信小程序支付设置",link:"/setting/payment/weixin"},{title:"支付宝小程序支付设置",link:"/setting/payment/ali"},{title:"百度小程序支付设置",link:"/setting/payment/baidu"}],employ:[{title:"员工管理",link:"/setting/employ"},{title:"角色管理",link:"/setting/employ/role"}],agent:[{title:"分销代理设置",link:"/agent/setting/index"},{title:"顾问申请设置",link:"/agent/setting/apply"}],coupon:[{title:"优惠券管理",link:"/marketing/coupon/index"},{title:"优惠券设置",link:"/marketing/coupon/setting"},{title:"赠送优惠券",link:"/marketing/coupon/send"}],sucai:[{title:"素材管理",link:"/resource/index"},{title:"素材分类 ",link:"/resource/category"}],wuliu:[{title:"运费模板",link:"/shipping/area/index/"},{title:"快递公司 ",link:"/shipping/index"}]}}},created:function(){this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]},methods:{LogOut:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}}}),n=l,o=i("2877"),r=Object(o["a"])(n,a,s,!1,null,"5665e029",null);e["a"]=r.exports},"5fed":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-img-uploads"},[t.multi?t._e():i("div",{staticClass:"wyu-img-one"},[i("div",{staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;"},[""==t.showImg?i("div",{staticClass:"image-box",on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-plus"})]):t._e(),""!=t.showImg?i("div",{staticClass:"image-box",style:"background-image: url("+t.showImg+");",on:{click:t.uploadFile}}):t._e(),""!=t.showImg?i("i",{staticClass:"el-icon-error",on:{click:t.deleteImg}}):t._e()])]),t.multi?i("div",{staticClass:"wyu-img-list"},[t._l(t.showImgs,function(e,a){return i("div",{key:a,staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;"},[i("div",{staticClass:"image-box",style:"background-image: url("+e+");"}),i("i",{staticClass:"el-icon-error",on:{click:function(e){return t.deleteImg(a)}}})])}),i("div",{staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;",on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-plus"})])],2):t._e(),i("el-dialog",{attrs:{title:"图片相册",visible:t.dialogVisible,"modal-append-to-body":!1,width:"800px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[0==t.showTab?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"photo-upload-tab"},[i("div",{staticClass:"photo-upload-btn"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showTab=1}}},[t._v("上传图片")])],1),i("div",{staticClass:"photo-main"},[i("div",{staticClass:"photo-group"},[i("ul",t._l(t.groups,function(e,a){return i("li",{key:a,class:e.id==t.cid?"on":"",on:{click:function(i){return t.clickCategory(e.id)}}},[t._v(t._s(e.name))])}),0)]),t.multi?i("div",{staticClass:"photo-list"},t._l(t.photos,function(e,a){return i("div",{key:a,class:!1!==t.isInArray(e.photo)?"item on":"item",on:{click:function(i){return t.setSelectImgs(e.photo)}}},[i("div",{staticClass:"image-box",style:"background-image: url("+e.photo+");"}),i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})])])}),0):t._e(),t.multi?t._e():i("div",{staticClass:"photo-list"},t._l(t.photos,function(e,a){return i("div",{key:a,class:t.selectImg==e.photo?"item on":"item",on:{click:function(i){t.selectImg=e.photo}}},[i("div",{staticClass:"image-box",style:"background-image: url("+e.photo+");"}),t.selectImg==e.photo?i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})]):t._e()])}),0)]),i("div",{staticStyle:{height:"40px"}},[i("div",{staticClass:"pagegroup"},[i("el-pagination",{attrs:{"page-size":t.limit,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)]),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.selectPhoto()}}},[t._v("确定选取")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.clearSelect()}}},[t._v("取消选择")])],1)]):t._e(),1==t.showTab?i("div",{staticClass:"photo-upload-tab"},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"选择分组"}},[i("el-select",{staticStyle:{float:"left"},attrs:{size:"small",placeholder:"请选择分组"},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},t._l(t.groups,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t.groups.length<16?i("create-resource-category",{on:{addYes:t.getCategoryByAdd}}):t._e()],1),i("el-form-item",{attrs:{label:"上传图片"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadImgUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("p",[t._v("只能上传JPG或者PNG的图片")])],1)],1),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",disabled:!t.imageUrl},on:{click:function(e){return t.selectPhotoByAdd()}}},[t._v("确定选取")]),i("el-button",{attrs:{size:"small"},on:{click:function(e){t.showTab=0}}},[t._v("返回列表")])],1)],1):t._e()])],1)},s=[],l=i("f499"),n=i.n(l),o=(i("863e"),i("e338")),r=i("d722"),d={name:"imgUploads",props:["multi","img","w","h"],components:{createResourceCategory:o["a"]},data:function(){return{myW:this.w?this.w:120,myH:this.h?this.h:120,myL:this.h?this.h-4:116,uploadImgUrl:"",showImg:"",showImgs:[],imageUrl:"",dialogVisible:!1,selectImg:"",selectImgs:[],showTab:0,groupId:0,cid:0,groups:[],page:1,loading:!1,total:0,limit:12,photos:[]}},watch:{img:function(t){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img},showImg:function(t){t!=this.img&&this.$emit("input",t)},showImgs:function(t){t!=this.img&&this.$emit("input",t)},groupId:function(t){var e="";e="/",this.uploadImgUrl=e+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)+"&groupId="+t}},created:function(){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img;var t="";t="/",this.uploadImgUrl=t+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)},methods:{setSelectImgs:function(t){var e=this.isInArray(t);!1!==e?this.selectImgs.splice(e,1):this.selectImgs.push(t)},isInArray:function(t){for(var e=0;e<this.selectImgs.length;e++)if(t==this.selectImgs[e])return e;return!1},selectPhotoByAdd:function(){1==this.multi?this.showImgs.push(this.imageUrl):this.showImg=this.imageUrl,this.imageUrl="",this.dialogVisible=!1},selectPhoto:function(){if(1==this.multi){var t=JSON.parse(n()(this.showImgs));for(var e in this.selectImgs)t.push(this.selectImgs[e]);this.showImgs=t,this.selectImgs=[]}else this.showImg=this.selectImg,this.selectImg="";this.dialogVisible=!1},clearSelect:function(){this.selectImg="",this.selectImgs=[]},clickCategory:function(t){this.cid=t,this.page=1,this.count=0,this.getPhotos()},handleCurrentChange:function(t){this.page=t,this.getPhotos()},getPhotos:function(){var t=this;this.loading=!0,r["a"]("shop/admin.resource.resource/index",{appToken:this.$store.getters.appToken,category_id:this.cid,limit:this.limit,page:this.page}).then(function(e){t.photos=e.list,t.total=e.count,t.loading=!1}).catch(function(e){t.loading=!1})},getCategoryByAdd:function(t){this.apiGetCategory(t)},getCategory:function(){this.apiGetCategory()},apiGetCategory:function(t){var e=this,i=[{name:"全部图片",id:0}];r["a"]("shop/admin.resource.category/index",{appToken:this.$store.getters.appToken}).then(function(a){for(var s in a.list)i.push({name:a.list[s].title,id:a.list[s].category_id});e.groups=i,t&&(e.groupId=t)}).catch(function(t){})},uploadFile:function(){this.getCategory(),this.getPhotos(),this.dialogVisible=!0},deleteImg:function(t){1==this.multi?this.showImgs.splice(t,1):this.showImg=""},handleAvatarSuccess:function(t,e){this.imageUrl=t.data.img_url,this.page=1,this.cid=0,this.getPhotos()},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e}}},c=d,m=(i("3e5b"),i("2877")),p=Object(m["a"])(c,a,s,!1,null,null,null);e["a"]=p.exports},"665b":function(t,e,i){"use strict";var a=i("da53"),s=i.n(a);s.a},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},"7da1":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",[i("el-input",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{value:t.address,size:"mini"},on:{input:t.setAddressInfo}}),i("el-button",{attrs:{size:"mini"},on:{click:t.selectAddress}},[t._v("选择地址")])],1),i("div",{staticStyle:{"margin-top":"2px"}},[t._v("\n            经度："),i("el-input",{staticStyle:{width:"105px"},attrs:{disabled:!0,size:"mini"},model:{value:t.lng,callback:function(e){t.lng=e},expression:"lng"}}),t._v("\n            纬度："),i("el-input",{staticStyle:{width:"105px"},attrs:{disabled:!0,size:"mini"},model:{value:t.lat,callback:function(e){t.lat=e},expression:"lat"}})],1)]),i("el-dialog",{attrs:{width:"1000px",visible:t.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",{staticClass:"miniapp-content",staticStyle:{"margin-top":"-30px"}},[i("div",{staticClass:"tip",staticStyle:{position:"relative","z-index":"999",top:"-30px"}},[i("p",[t._v("\n                    地址："+t._s(t.addressInfo.address)+"      经度："+t._s(t.addressInfo.lng)+"-纬度："+t._s(t.addressInfo.lat)+"\n                ")])]),i("div",{staticClass:"amap-page-container",staticStyle:{"margin-top":"-10px"}},[i("div",{staticClass:"search-box"},[i("el-col",{attrs:{xs:24,sm:16,md:16,lg:12,xl:12}},[i("div",{staticClass:"grid-content bg-purple-dark"}),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",id:"search",type:"search"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchByHand},slot:"append"},[t._v("搜索")])],1),i("div",{staticClass:"tip-box",attrs:{id:"searchTip"}})],1)],1),i("el-button",{staticClass:"map-ok",attrs:{slot:"append",type:"primary"},on:{click:t.sub},slot:"append"},[t._v("确定")]),t.toSearch?i("input",{staticClass:"search-input",attrs:{type:"text",id:"search1"}}):t._e(),i("el-amap",{staticClass:"amap-demo",attrs:{vid:"amap",zoom:t.zoom,center:t.center,amapManager:t.amapManager,events:t.events}})],1)])])],1)},s=[],l=(i("7f7f"),i("8f9b")),n=new l["AMapManager"],o={name:"AmapDr",props:["lat","lng","address"],data:function(){var t=this;return{dialogFormVisible:!1,zoom:16,center:[121.59996,31.197646],result:[],searchKey:"",toSearch:!1,addressInfo:{address:"",lat:"",lng:""},addressText:"",amapManager:n,map:null,events:{init:function(e){t.map=e}}}},watch:{map:function(){null!=this.map&&this.startDrag()}},methods:{selectAddress:function(){this.dialogFormVisible=!0},setAddressInfo:function(t){this.addressInfo.address=t},startDrag:function(){var t=this,e=this.amapManager.getMap();AMapUI.loadUI(["misc/PositionPicker"],function(i){var a,s=new i({mode:"dragMap",map:e});""==t.lat||""==t.lng?(e.plugin("AMap.Geolocation",function(){a=new AMap.Geolocation({showButton:!0,showMarker:!0,extensions:"all"}),e.addControl(a),a.getCurrentPosition(),AMap.event.addListener(a,"complete",function(t){s.start()})}),s.start()):(t.center=[t.lng,t.lat],s.start());s.on("success",function(e){t.addressInfo.address=e.address,t.addressInfo.lat=e.position.lat,t.addressInfo.lng=e.position.lng}),s.on("fail",function(t){})}),this.initSearch()},initSearch:function(){var t=this,e=this.amapManager.getMap();AMapUI.loadUI(["misc/PoiPicker"],function(i){var a=new i({input:"search",placeSearchOptions:{map:e,pageSize:10},suggestContainer:"searchTip",searchResultsContainer:"searchTip"});t.poiPicker=a,a.on("poiPicked",function(e){var i=e.source,s=e.item;"search"!==i?a.searchByKeyword(s.name):(a.clearSearchResults(),t.searchKey=s.name)})})},sub:function(){this.$emit("input",this.addressInfo),this.$emit("change",this.addressInfo),this.dialogFormVisible=!1},searchByHand:function(){""!=this.searchKey&&this.poiPicker.searchByKeyword(this.searchKey)}}},r=o,d=(i("c0fa"),i("2877")),c=Object(d["a"])(r,a,s,!1,null,"6fa55998",null);e["a"]=c.exports},"8d4d":function(t,e,i){"use strict";var a=i("10e2"),s=i.n(a);s.a},9556:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-editor"},[i("div",{staticClass:"html-editor"},[i("div",{staticClass:"html-editor-tit"},[i("span",{staticClass:"el-icon-back"}),i("span",{staticClass:"tit"},[t._v(t._s(t.title?t.title:"富文本编辑器"))]),i("span",{staticClass:"act"},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showType=0==t.showType?1:0}}},[t._v(t._s(0==t.showType?"预览":"编辑"))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.showType,expression:"showType ==0"}],staticClass:"html-editor-main"},[i("div",{staticClass:"item"},[i("div",{staticClass:"editor-add"},[i("i",{staticClass:"el-icon-circle-plus",on:{click:function(e){t.addBtnIndex=-1}}}),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:-1==t.addBtnIndex,expression:"addBtnIndex == -1"}],staticClass:"add-action-list"},[i("ul",[i("li",{on:{click:function(e){return t.addTxt(-1)}}},[i("i",{staticClass:"iconfont icon-wenben"})]),i("li",{on:{click:function(e){return t.addPhoto(-1)}}},[i("i",{staticClass:"iconfont icon-tupian"})]),i("li",{on:{click:function(e){return t.addVideo(-1)}}},[i("i",{staticClass:"iconfont icon-shipin"})]),i("li",{on:{click:function(e){t.addBtnIndex=-2}}},[t._v("取消")])])])])],1)]),t._l(t.htmldata,function(e,a){return i("div",{key:a,staticClass:"item",style:(e.mgTop?"margin-top:"+e.mgTop+"px;":"")+(e.mgBt?"margin-bottom:"+e.mgBt+"px;":"")},[i("div",{class:t.editIndex==a?"show-item on":"show-item",style:t.styleByIndex(a)},["txt"==e.mdl?i("div",[t._v(t._s(e.txt))]):t._e(),"pic"==e.mdl?i("div",[""!=e.img?i("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.img}}):i("p",[t._v("等待上传图片")])]):t._e(),"video"==e.mdl?i("div",[e.video?i("video",{staticStyle:{"max-width":"100%"},attrs:{src:e.video,controls:"controls"}},[t._v("\n                            您的浏览器不支持 video 标签。\n                        ")]):i("p",[t._v("等待上传图片")])]):t._e(),i("div",{staticClass:"action"},[i("i",{staticClass:"el-icon-edit-outline",on:{click:function(e){t.editIndex=a}}}),i("i",{staticClass:"el-icon-delete",on:{click:function(e){return t.deleteObj(a)}}})])]),i("div",{staticClass:"editor-add"},[i("i",{staticClass:"el-icon-circle-plus",on:{click:function(e){t.addBtnIndex=a}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.addBtnIndex==a,expression:"addBtnIndex == index"}],staticClass:"add-action-list"},[i("ul",[i("li",{on:{click:function(e){return t.addTxt(a)}}},[i("i",{staticClass:"iconfont icon-wenben"})]),i("li",{on:{click:function(e){return t.addPhoto(a)}}},[i("i",{staticClass:"iconfont icon-tupian"})]),i("li",{on:{click:function(e){return t.addVideo(a)}}},[i("i",{staticClass:"iconfont icon-shipin"})]),i("li",{on:{click:function(e){t.addBtnIndex=-2}}},[t._v("取消")])])])])])})],2),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showType,expression:"showType ==1"}],staticClass:"html-editor-show"},t._l(t.htmldata,function(e,a){return i("div",{key:a,staticClass:"item",style:(e.mgTop?"margin-top:"+e.mgTop+"px;":"")+(e.mgBt?"margin-bottom:"+e.mgBt+"px;":"")},[i("div",{class:t.editIndex==a?"show-item on":"show-item",style:t.styleByIndex(a)},["txt"==e.mdl?i("div",[t._v(t._s(e.txt))]):t._e(),"pic"==e.mdl?i("div",[""!=e.img?i("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.img}}):i("p",[t._v("等待上传图片")])]):t._e(),"video"==e.mdl?i("div",[e.video?i("video",{staticStyle:{"max-width":"100%"},attrs:{src:e.video,controls:"controls"}},[t._v("\n                            您的浏览器不支持 video 标签。\n                        ")]):i("p",[t._v("等待上传图片")])]):t._e()])])}),0)]),t.editIndex>=0?i("div",{staticClass:"html-editor-form"},[t._m(0),t._l(t.htmldata,function(e,a){return i("div",{key:a,staticClass:"form-item"},[t.editIndex==a?i("el-form",{attrs:{"label-width":"80px",size:"small"}},["video"==e.mdl?i("el-form-item",{attrs:{label:"上传视频"}},[i("wyu-video",{attrs:{video:t.htmldata[a].video},model:{value:t.htmldata[a].video,callback:function(e){t.$set(t.htmldata[a],"video",e)},expression:"htmldata[index].video"}})],1):t._e(),"pic"==e.mdl?i("el-form-item",{attrs:{label:"上传图片"}},[i("wyu-upload",{attrs:{img:t.htmldata[a].img},model:{value:t.htmldata[a].img,callback:function(e){t.$set(t.htmldata[a],"img",e)},expression:"htmldata[index].img"}})],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"输入内容"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.htmldata[a].txt,callback:function(e){t.$set(t.htmldata[a],"txt",e)},expression:"htmldata[index].txt"}})],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"排列方式"}},[i("el-radio",{attrs:{label:0},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居左")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居中")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居右")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:3},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("首行缩进")])],1):t._e(),"txt"!=e.mdl?i("el-form-item",{attrs:{label:"排列方式"}},[i("el-radio",{attrs:{label:0},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居左")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居中")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2},model:{value:t.htmldata[a].type,callback:function(e){t.$set(t.htmldata[a],"type",e)},expression:"htmldata[index].type"}},[t._v("居右")])],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"字体大小"}},[i("el-input-number",{attrs:{size:"small",min:10,max:50},model:{value:t.htmldata[a].fontsize,callback:function(e){t.$set(t.htmldata[a],"fontsize",e)},expression:"htmldata[index].fontsize"}})],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"字体加粗"}},[i("el-radio",{attrs:{label:0},model:{value:t.htmldata[a].isb,callback:function(e){t.$set(t.htmldata[a],"isb",e)},expression:"htmldata[index].isb"}},[t._v("默认")]),i("el-radio",{attrs:{label:1},model:{value:t.htmldata[a].isb,callback:function(e){t.$set(t.htmldata[a],"isb",e)},expression:"htmldata[index].isb"}},[t._v("加粗")])],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"颜色"}},[i("el-color-picker",{attrs:{size:"mini"},model:{value:t.htmldata[a].color,callback:function(e){t.$set(t.htmldata[a],"color",e)},expression:"htmldata[index].color"}})],1):t._e(),"txt"==e.mdl?i("el-form-item",{attrs:{label:"行高"}},[i("el-input-number",{attrs:{size:"small",min:10,max:50},model:{value:t.htmldata[a].lineH,callback:function(e){t.$set(t.htmldata[a],"lineH",e)},expression:"htmldata[index].lineH"}})],1):t._e(),i("el-form-item",{attrs:{label:"图片背景"}},[i("el-radio",{attrs:{label:0},model:{value:t.htmldata[a].isBgPic,callback:function(e){t.$set(t.htmldata[a],"isBgPic",e)},expression:"htmldata[index].isBgPic"}},[t._v("不启用")]),i("el-radio",{attrs:{label:1},model:{value:t.htmldata[a].isBgPic,callback:function(e){t.$set(t.htmldata[a],"isBgPic",e)},expression:"htmldata[index].isBgPic"}},[t._v("启用")])],1),1==t.htmldata[a].isBgPic?i("el-form-item",{attrs:{label:"背景图片"}},[i("wyu-upload",{attrs:{img:t.htmldata[a].bgPic},model:{value:t.htmldata[a].bgPic,callback:function(e){t.$set(t.htmldata[a],"bgPic",e)},expression:"htmldata[index].bgPic"}})],1):t._e(),1==t.htmldata[a].isBgPic?i("el-form-item",{attrs:{label:"背景排列"}},[i("el-radio",{attrs:{label:0},model:{value:t.htmldata[a].bgPicType,callback:function(e){t.$set(t.htmldata[a],"bgPicType",e)},expression:"htmldata[index].bgPicType"}},[t._v("顶部居中")]),i("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1},model:{value:t.htmldata[a].bgPicType,callback:function(e){t.$set(t.htmldata[a],"bgPicType",e)},expression:"htmldata[index].bgPicType"}},[t._v("容器平铺")])],1):t._e(),i("el-form-item",{attrs:{label:"背景颜色"}},[i("el-color-picker",{attrs:{size:"mini"},model:{value:t.htmldata[a].bg,callback:function(e){t.$set(t.htmldata[a],"bg",e)},expression:"htmldata[index].bg"}})],1),i("el-form-item",{attrs:{label:"上内边距"}},[i("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[a].pt,callback:function(e){t.$set(t.htmldata[a],"pt",e)},expression:"htmldata[index].pt"}})],1),i("el-form-item",{attrs:{label:"左内边距"}},[i("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[a].pl,callback:function(e){t.$set(t.htmldata[a],"pl",e)},expression:"htmldata[index].pl"}})],1),i("el-form-item",{attrs:{label:"右内边距"}},[i("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[a].pr,callback:function(e){t.$set(t.htmldata[a],"pr",e)},expression:"htmldata[index].pr"}})],1),i("el-form-item",{attrs:{label:"下内边距"}},[i("el-slider",{attrs:{min:0,max:20,step:1},model:{value:t.htmldata[a].pb,callback:function(e){t.$set(t.htmldata[a],"pb",e)},expression:"htmldata[index].pb"}})],1),i("el-form-item",{attrs:{label:"距离上面"}},[i("el-slider",{attrs:{min:0,max:50,step:1},model:{value:t.htmldata[a].mgTop,callback:function(e){t.$set(t.htmldata[a],"mgTop",e)},expression:"htmldata[index].mgTop"}})],1),i("el-form-item",{attrs:{label:"距离下面"}},[i("el-slider",{attrs:{min:0,max:50,step:1},model:{value:t.htmldata[a].mgBt,callback:function(e){t.$set(t.htmldata[a],"mgBt",e)},expression:"htmldata[index].mgBt"}})],1)],1):t._e()],1)})],2):t._e()])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-title"},[i("h2",[t._v("设置内容")])])}],l=i("f499"),n=i.n(l),o=(i("9ec8"),i("5fed")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-video-upload"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.videoUpload,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[""!=t.showVideo?i("i",{staticClass:"el-icon-refresh avatar-uploader-icon"},[t._v("重新上传")]):i("i",{staticClass:"el-icon-upload avatar-uploader-icon"})])],1)},d=[],c=i("863e"),m={name:"myuVideo",props:["video"],data:function(){return{showVideo:"",videoUpload:""}},watch:{video:function(t){this.showVideo=t}},created:function(){this.videoUpload=c["API_HOST"]+"api/upload/videoUpload?token="+encodeURI(this.$store.getters.adminToken),this.showVideo=this.video?this.video:""},methods:{handleAvatarSuccess:function(t,e){this.showVideo=t.data.video_url,this.$emit("change",this.showVideo),this.$emit("input",this.showVideo)},beforeAvatarUpload:function(t){console.log(t);var e="video/mp4"===t.type,i=t.size/1024/1024<5;return e||this.$message.error("视频只支持MP4格式"),i||this.$message.error("视频不能超过 5MB!"),e&&i}}},p=m,u=(i("8d4d"),i("2877")),h=Object(u["a"])(p,r,d,!1,null,"2a72e366",null),g=h.exports,f={mdl:"txt",type:0,txt:"请输入内容",fontsize:14,isb:0,color:"#333333",lineH:20,isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},v={mdl:"video",type:0,video:"",isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},b={mdl:"pic",type:0,img:"",isBgPic:0,bg:"#ffffff",bgPic:"",bgPicType:0,pt:5,pl:5,pr:5,pb:5,mgTop:0,mgBt:0},x={name:"htmlEditor",props:["html","title"],components:{WyuUpload:o["a"],WyuVideo:g},data:function(){return{addBtnIndex:-2,htmldata:[],editIndex:-1,showType:0}},watch:{html:function(t){""!=t&&t!=this.htmldata&&(this.htmldata=t)},htmldata:{handler:function(t,e){this.htmldata!=this.html&&this.$emit("input",this.htmldata)},immediate:!0,deep:!0}},created:function(){this.html!=this.htmldata&&(this.htmldata=this.html)},methods:{styleByIndex:function(t){if(this.htmldata[t]){var e=this.htmldata[t],i="";switch("txt"==e.mdl&&(i+="font-size:"+e.fontsize+"px;",i+="color:"+e.color+";",i+="line-height:"+e.lineH+"px;",i+="word-wrap:break-word;",1==e.isb&&(i+="font-weight:bold;")),e.type){case 1:i+="text-align:center;";break;case 2:i+="text-align:right;";break;case 3:i+="text-indent:"+2*e.fontsize+"px;";break;default:i+="text-align:left;";break}return e.pt&&(i+="padding-top:"+e.pt+"px;"),e.pl&&(i+="padding-left:"+e.pl+"px;"),e.pr&&(i+="padding-right:"+e.pr+"px;"),e.pb&&(i+="padding-bottom:"+e.pb+"px;"),e.isBgPic&&""!=e.bgPic?0==e.bgPicType?i+="background: "+e.bg+" url("+e.bgPic+") no-repeat center 0":i+="background: "+e.bg+" url("+e.bgPic+")":i+="background:"+e.bg+";",i}return""},addTxt:function(t){var e=JSON.parse(n()(f));this.addObj(e,t)},addVideo:function(t){var e=JSON.parse(n()(v));this.addObj(e,t)},addPhoto:function(t){var e=JSON.parse(n()(b));this.addObj(e,t)},addObj:function(t,e){""==this.htmldata?(e=0,this.htmldata.push(t)):(e+=1,this.htmldata.splice(e,0,t)),this.editIndex=e,this.addBtnIndex=-2},deleteObj:function(t){this.htmldata.splice(t,1),this.editIndex=-1,this.addBtnIndex=-2}}},y=x,k=(i("d190"),Object(u["a"])(y,a,s,!1,null,"4bc1bb73",null));e["a"]=k.exports},"9ec8":function(t,e,i){"use strict";i("386b")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},ac18:function(t,e,i){},c0fa:function(t,e,i){"use strict";var a=i("e952"),s=i.n(a);s.a},d190:function(t,e,i){"use strict";var a=i("ac18"),s=i.n(a);s.a},da53:function(t,e,i){},e338:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addCategory",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[0==t.status?i("el-button",{attrs:{type:"text"},on:{click:function(e){t.status=1}}},[t._v("添加分组")]):t._e(),1==t.status?i("el-input",{staticStyle:{float:"left",width:"100px"},attrs:{size:"small",placeholder:"输入分组名称"},model:{value:t.groupname,callback:function(e){t.groupname=e},expression:"groupname"}}):t._e(),1==t.status?i("a",{staticStyle:{float:"left","margin-left":"10px"},attrs:{href:"javascript:void(0);"},on:{click:t.saveCategory}},[t._v("确定")]):t._e(),1==t.status?i("a",{staticStyle:{float:"left","margin-left":"10px"},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.status=0}}},[t._v("取消")]):t._e()],1)},s=[],l=i("d722"),n={name:"createResourceCategory",data:function(){return{status:0,groupname:"",loading:!1}},methods:{saveCategory:function(){var t=this;""!=this.groupname&&0==this.loading&&(this.loading=!0,l["a"]("shop/admin.resource.category/create",{appToken:this.$store.getters.appToken,title:this.groupname}).then(function(e){t.$emit("addYes",e.id),t.loading=!1,t.status=0}).catch(function(e){t.loading=flase}))}}},o=n,r=(i("665b"),i("2877")),d=Object(r["a"])(o,a,s,!1,null,"ae09ffe4",null);e["a"]=d.exports},e952:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3069b756.6f7cb53c.js.map