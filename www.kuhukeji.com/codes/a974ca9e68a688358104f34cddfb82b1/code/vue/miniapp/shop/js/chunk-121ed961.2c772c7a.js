(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-121ed961"],{"31f8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("top-nav",{attrs:{title:"添加运费模板"}}),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-main"},[i("div",{staticClass:"wyu-block"},[i("el-form",{ref:"form",staticStyle:{padding:"0"},attrs:{model:t.form,size:"mini","label-width":"120px"}},[i("div",{staticClass:"wyu-title"},[i("h2",[t._v("基本参数")])]),i("el-form-item",{attrs:{label:"模板标题"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off"},model:{value:t.form.template_name,callback:function(e){t.$set(t.form,"template_name",e)},expression:"form.template_name"}})],1),i("el-form-item",{attrs:{label:"计价方式"}},[i("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[i("el-radio",{attrs:{label:0}},[t._v("计件")]),i("el-radio",{attrs:{label:1}},[t._v("计重量")])],1)],1),i("el-form-item",{attrs:{label:"默认（全国）"}},[i("el-switch",{attrs:{"inactive-value":0,"active-value":1},on:{change:t.setDefault},model:{value:t.form.is_enable_default,callback:function(e){t.$set(t.form,"is_enable_default",e)},expression:"form.is_enable_default"}})],1),i("div",{staticClass:"wyu-title"},[i("h2",[t._v("区域选择")])]),i("el-form-item",{attrs:{"label-width":"10px"}},[i("el-button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.addConfig}},[t._v("新增自定义区域")]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.config,border:"",size:"mini"}},[i("el-table-column",{attrs:{prop:"date",label:"配送区域"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_default?i("div",[t._v("全国")]):t._e(),0==e.row.is_default?i("div",[i("div",[t._v(t._s(e.row.region.toString(",")))]),i("region-select",{attrs:{regions:e.row.region_ids,index:e.$index},on:{selReg:t.callRegion}})],1):t._e()]}}])}),i("el-table-column",{attrs:{label:"首"+t.unit[t.form.type],width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{size:"mini"},model:{value:e.row.first_unit,callback:function(i){t.$set(e.row,"first_unit",i)},expression:"scope.row.first_unit"}},[i("span",{staticClass:"e",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(t.unit_type[t.form.type]))])])]}}])}),i("el-table-column",{attrs:{label:"运费",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{size:"mini"},model:{value:e.row.first_money,callback:function(i){t.$set(e.row,"first_money",i)},expression:"scope.row.first_money"}},[i("span",{staticClass:"e",attrs:{slot:"suffix"},slot:"suffix"},[t._v("元")])])]}}])}),i("el-table-column",{attrs:{label:"续"+t.unit[t.form.type],width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{size:"mini"},model:{value:e.row.continue_unit,callback:function(i){t.$set(e.row,"continue_unit",i)},expression:"scope.row.continue_unit"}},[i("span",{staticClass:"e",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(t.unit_type[t.form.type]))])])]}}])}),i("el-table-column",{attrs:{label:"运费",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{size:"mini"},model:{value:e.row.continue_money,callback:function(i){t.$set(e.row,"continue_money",i)},expression:"scope.row.continue_money"}},[i("span",{staticClass:"e",attrs:{slot:"suffix"},slot:"suffix"},[t._v("元")])])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_default?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.delConfig(e.$index)}}},[t._v("删除")]):t._e()]}}])})],1)],1)],1)],1)]),i("div",{staticStyle:{"margin-top":"20px"}}),i("div",{staticClass:"wyu-btn-div"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.createArea(!0)}}},[t._v("立即创建")]),t._v(" \n        "),i("router-link",{staticStyle:{color:"#ffffff"},attrs:{to:"/shipping/area/index/"}},[i("el-button",{attrs:{size:"small"}},[t._v("返回列表")])],1)],1)],1)},s=[],o=i("f499"),l=i.n(o),a=(i("ac6a"),i("d722")),r=i("5200"),u=i("60df"),c={name:"shippingAraeCreate",components:{RegionSelect:u["a"],TopNav:r["a"]},data:function(){return{unit:["件","重"],unit_type:["件","克"],loading:!1,form:{template_name:"",type:0,is_enable_default:"",config:[{first_unit:0,first_money:0,continue_money:0,continue_unit:0,is_default:0,region:[],region_ids:[]}]},region:[]}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},created:function(){},methods:{setDefault:function(t){1==t?this.form.config.unshift({first_unit:0,first_money:0,continue_money:0,continue_unit:0,is_default:1,region:[],region_ids:[]}):this.form.config.splice(0,1)},callRegion:function(t){var e=[],i=[];t.select_region.forEach(function(t){e.push(t.region_id),i.push(t.label)}),this.form.config[t.index].region=i,this.form.config[t.index].region_ids=e},addConfig:function(){this.form.config.push({first_unit:0,first_money:0,continue_money:0,continue_unit:0,is_default:0,region:[],region_ids:[]})},delConfig:function(t){this.form.config.splice(t,1)},createArea:function(){var t=this;this.loading=!0,a["a"]("/shop/admin.freight/create",{appToken:this.$store.getters.appToken,template_name:this.form.template_name,type:this.form.type,is_enable_default:this.form.is_enable_default,config:l()(this.form.config)}).then(function(){t.$message({message:"恭喜你，操作成功",type:"success"}),t.loading=!1,t.$router.push("/shipping/area/index/")}).catch(function(){t.loading=!1})}}},f=c,d=i("2877"),p=Object(d["a"])(f,n,s,!1,null,null,null);e["default"]=p.exports},5200:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wyu-top"},[n("div",{staticClass:"wyu-header"},[t.title?t._e():n("div",{staticClass:"wyu-tab"},[n("ul",t._l(t.showMenu,function(e,i){return n("li",{key:i,class:i==t.select?"on":""},[n("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?n("div",{staticClass:"wyu-tab"},[n("ul",[n("li",[t._v(t._s(t.title))])])]):t._e(),n("div",{staticClass:"wyu-header-status"},[n("div",{staticClass:"login-info"},[n("img",{attrs:{src:i("741c")}}),n("el-dropdown",{staticStyle:{cursor:"pointer"}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                          "+t._s(t.$store.getters.appInfo.app_name)+"  "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("span",{on:{click:t.LogOut}},[t._v("退出登录")])])],1)],1)],1)])])])},s=[],o=(i("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{showMenu:[],menu:{sms:[{title:"发送短信",link:"/marketing/sms/send"},{title:"短信记录",link:"/marketing/sms/census"}],paymentSetting:[{title:"微信小程序支付设置",link:"/setting/payment/weixin"},{title:"支付宝小程序支付设置",link:"/setting/payment/ali"},{title:"百度小程序支付设置",link:"/setting/payment/baidu"}],employ:[{title:"员工管理",link:"/setting/employ"},{title:"角色管理",link:"/setting/employ/role"}],agent:[{title:"分销代理设置",link:"/agent/setting/index"},{title:"顾问申请设置",link:"/agent/setting/apply"}],coupon:[{title:"优惠券管理",link:"/marketing/coupon/index"},{title:"优惠券设置",link:"/marketing/coupon/setting"},{title:"赠送优惠券",link:"/marketing/coupon/send"}],sucai:[{title:"素材管理",link:"/resource/index"},{title:"素材分类 ",link:"/resource/category"}],wuliu:[{title:"运费模板",link:"/shipping/area/index/"},{title:"快递公司 ",link:"/shipping/index"}]}}},created:function(){this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]},methods:{LogOut:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}}}),l=o,a=i("2877"),r=Object(a["a"])(l,n,s,!1,null,"5665e029",null);e["a"]=r.exports},"60df":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.outerVisible=!0}}},[t._v("选择区域")]),i("el-dialog",{attrs:{title:"选择区域",visible:t.outerVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.outerVisible=e}}},[i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),i("div",{staticStyle:{height:"400px","overflow-y":"auto"}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:!t.region.length,expression:"!region.length"}],ref:"tree",attrs:{"filter-node-method":t.filterNode,data:t.region,"show-checkbox":"","node-key":"region_id","default-checked-keys":t.region_ids,"highlight-current":"",props:t.defaultProps},on:{check:t.getCheckedKeys}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.outerVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.selReg}},[t._v("确 定")])],1)],1)],1)},s=[],o=(i("ac6a"),i("d722")),l={name:"RegionSelect",props:["regions","index"],data:function(){return{defaultProps:{children:"children",label:"label"},outerVisible:!1,filterText:"",loading:!1,region:[],select_region:[],region_ids:[]}},created:function(){this.regions&&(this.region_ids=this.regions),this.getRegion()},watch:{filterText:function(t){this.$refs.tree.filter(t)}},methods:{selReg:function(){this.getCheckedKeys(),this.$emit("selReg",{index:this.index,select_region:this.select_region}),this.outerVisible=!1},getRegion:function(){var t=this;o["a"]("/shop/admin.region/index",{appToken:this.$store.getters.appToken}).then(function(e){t.region=e.list}).catch(function(){})},getCheckedKeys:function(){var t=this.$refs.tree.getCheckedNodes(),e=this.$refs.tree.getHalfCheckedKeys(),i=[];t.forEach(function(t){(1==t.level||e.indexOf(t.parent_id)>-1)&&i.push({label:t.label,region_id:t.region_id})}),this.select_region=i},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)}}},a=l,r=i("2877"),u=Object(r["a"])(a,n,s,!1,null,"f3197664",null);e["a"]=u.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},ac6a:function(t,e,i){for(var n=i("cadf"),s=i("0d58"),o=i("2aba"),l=i("7726"),a=i("32e9"),r=i("84f2"),u=i("2b4c"),c=u("iterator"),f=u("toStringTag"),d=r.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=s(p),g=0;g<m.length;g++){var h,_=m[g],k=p[_],v=l[_],y=v&&v.prototype;if(y&&(y[c]||a(y,c,d),y[f]||a(y,f,_),r[_]=d,k))for(h in n)y[h]||o(y,h,n[h],!0)}}}]);
//# sourceMappingURL=chunk-121ed961.2c772c7a.js.map