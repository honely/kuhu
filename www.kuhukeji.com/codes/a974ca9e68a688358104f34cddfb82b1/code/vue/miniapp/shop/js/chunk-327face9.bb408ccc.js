(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-327face9"],{"0651":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("top-nav",{attrs:{title:"商品属性"}}),t._m(0),i("div",{staticClass:"wyu-main"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[i("el-form",{staticClass:"search-form",attrs:{size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[i("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:t.typeLoading,expression:"typeLoading"}],attrs:{label:"所属模型","label-width":"100"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.type_id,callback:function(e){t.$set(t.searchForm,"type_id",e)},expression:"searchForm.type_id"}},t._l(t.types,function(t){return i("el-option",{key:t.type_id,attrs:{label:t.name,value:t.type_id}})}),1)],1),i("div",{staticStyle:{"padding-left":"80px"}},[i("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getList(1)}}},[t._v("搜索")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.creatEvent}},[t._v("新增商品属性")])],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas.list}},[i("el-table-column",{attrs:{prop:"attr_id",label:"ID",width:"80"}}),i("el-table-column",{attrs:{prop:"attr_name",label:"属性名称",width:"100"}}),i("el-table-column",{attrs:{prop:"attr_input_type_mean",label:"值的输入方式",width:"120"}}),i("el-table-column",{attrs:{prop:"name",label:"所属模型",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"ellipsis-01"},[t._v("\n                            "+t._s(t.idByTypeName(e.row.type_id))+"\n                        ")])]}}])}),i("el-table-column",{attrs:{prop:"name",label:"可选项"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"ellipsis-01"},[e.row.attr_values.length<=0?i("span",[t._v("——")]):t._e(),t._l(e.row.attr_values,function(e,a){return i("span",[t._v(t._s(0==a?"":"，")+t._s(e))])})],2)]}}])}),i("el-table-column",{attrs:{prop:"orderby",label:"排序",width:"200"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return t.editDataEvent(e.row)}}},[t._v("编辑")]),i("el-popover",{staticStyle:{margin:"0 20px"},attrs:{placement:"top",width:"160"},model:{value:e.row.is_delete,callback:function(i){t.$set(e.row,"is_delete",i)},expression:"scope.row.is_delete"}},[i("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(t){e.row.is_delete=!1}}},[t._v("取消\n                                ")]),i("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(i){return t.del(e.row)}}},[t._v("确定\n                                ")])],1),i("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),i("br"),i("div",{staticClass:"page"},[i("div",{staticClass:"page-mian"},[i("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getList}})],1)])],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.subLoading,expression:"subLoading"}],attrs:{title:"商品属性",visible:t.dialog,width:"600px","modal-append-to-body":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("el-form",{staticStyle:{padding:"0"},attrs:{model:t.form,size:"small","label-width":"90px"}},[i("el-form-item",{attrs:{label:"属性名称"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.attr_name,callback:function(e){t.$set(t.form,"attr_name",e)},expression:"form.attr_name"}})],1),i("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:t.typeLoading,expression:"typeLoading"}],attrs:{label:"所属模型"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type_id,callback:function(e){t.$set(t.form,"type_id",e)},expression:"form.type_id"}},t._l(t.types,function(t){return i("el-option",{key:t.type_id,attrs:{label:t.name,value:t.type_id}})}),1)],1),i("el-form-item",{attrs:{label:"录入方式"}},[i("el-radio-group",{model:{value:t.form.attr_input_type,callback:function(e){t.$set(t.form,"attr_input_type",e)},expression:"form.attr_input_type"}},[i("el-radio",{attrs:{label:0}},[t._v("手工录入")]),i("el-radio",{attrs:{label:1}},[t._v("从下面的列表中选择")]),i("el-radio",{attrs:{label:2}},[t._v("多行文本框")])],1)],1),1==t.form.attr_input_type?i("el-form-item",{staticStyle:{"max-height":"250px","overflow-y":"auto"},attrs:{label:"可选值列表"}},[t._l(t.form.attr_values,function(e,a){return i("div",{key:a},[i("el-input",{model:{value:t.form.attr_values[a],callback:function(e){t.$set(t.form.attr_values,a,e)},expression:"form.attr_values[key]"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(e){return t.form.attr_values.splice(a,1)}},slot:"append"})],1)],1)}),i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){return t.form.attr_values.push("")}}},[t._v("添加可选项")]),i("p",{staticClass:"wyu-tips"},[t._v(" 如：黑色 、白色")])],2):t._e(),i("el-form-item",{attrs:{label:"排序"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.orderby,callback:function(e){t.$set(t.form,"orderby",e)},expression:"form.orderby"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.creatData(!0)}}},[t._v("确 定")])],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-tips wyu-tips-warning"},[i("p",[t._v(" 1、 商品属性是给用户看的,不牵涉价钱等, 例如, 生产日期,生产地保质期等... ")]),i("p",[t._v(" 2、 添加商品时 可以不选择 不填写 商品属性 ")])])}],s=i("f499"),o=i.n(s),r=(i("7f7f"),i("5200")),l=i("d722"),p={name:"goodsAttrIndex",components:{TopNav:r["a"]},data:function(){return{typeLoading:!0,subLoading:!1,loading:!1,datas:[],form:this.initForm(),dialog:!1,isUpdate:!1,searchForm:{type_id:0},types:[]}},created:function(){this.$route.params.typeid&&(this.searchForm.type_id=+this.$route.params.typeid),this.getTypeList(),this.getList()},methods:{idByTypeName:function(t){var e="";return this.types.some(function(i,a){if(i.type_id==t)return e=i.name,!0}),e},initForm:function(){return{attr_name:"",type_id:0,orderby:0,attr_input_type:0,attr_values:[""]}},creatEvent:function(){this.isUpdate=!1,this.form=this.initForm(),this.form.type_id=this.searchForm.type_id,this.dialog=!0},editDataEvent:function(t){this.isUpdate=!0,this.form=t,this.dialog=!0},creatData:function(){var t=this;this.subLoading=!0;var e=this.isUpdate?"edit":"create";l["a"]("/shop/admin.attribute/"+e,{appToken:this.$store.getters.appToken,attr_name:this.form.attr_name,type_id:this.form.type_id,attr_id:this.form.attr_id,attr_input_type:this.form.attr_input_type,orderby:this.form.orderby,attr_values:o()(this.form.attr_values)}).then(function(e){t.subLoading=!1,t.form=t.initForm(),t.$message({message:"恭喜你，操作成功",type:"success"}),t.dialog=!1,t.getList()}).catch(function(e){t.subLoading=!1})},getTypeList:function(){var t=this;this.typeLoading=!0,l["a"]("/shop/admin.goodstype/index",{appToken:this.$store.getters.appToken,name:this.searchForm.title}).then(function(e){t.typeLoading=!1,t.types=e.list,t.types.unshift({type_id:0,name:"全部模型"})}).catch(function(e){t.typeLoading=!1})},getList:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,l["a"]("/shop/admin.attribute/index",{appToken:this.$store.getters.appToken,type_id:this.searchForm.type_id}).then(function(e){t.loading=!1,t.datas=e}).catch(function(e){t.loading=!1})},del:function(t){var e=this;this.loading=!0,l["a"]("/shop/admin.attribute/del",{appToken:this.$store.getters.appToken,type_id:t.type_id}).then(function(t){e.loading=!1,e.$message({message:"恭喜你，操作成功",type:"success"}),e.getList()}).catch(function(t){e.loading=!1})}}},d=p,u=(i("885e"),i("2877")),c=Object(u["a"])(d,a,n,!1,null,null,null);e["default"]=c.exports},5200:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-top"},[a("div",{staticClass:"wyu-header"},[t.title?t._e():a("div",{staticClass:"wyu-tab"},[a("ul",t._l(t.showMenu,function(e,i){return a("li",{key:i,class:i==t.select?"on":""},[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?a("div",{staticClass:"wyu-tab"},[a("ul",[a("li",[t._v(t._s(t.title))])])]):t._e(),a("div",{staticClass:"wyu-header-status"},[a("div",{staticClass:"login-info"},[a("img",{attrs:{src:i("741c")}}),a("el-dropdown",{staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                          "+t._s(t.$store.getters.appInfo.app_name)+"  "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:t.LogOut}},[t._v("退出登录")])])],1)],1)],1)])])])},n=[],s=(i("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{showMenu:[],menu:{sms:[{title:"发送短信",link:"/marketing/sms/send"},{title:"短信记录",link:"/marketing/sms/census"}],paymentSetting:[{title:"微信小程序支付设置",link:"/setting/payment/weixin"},{title:"支付宝小程序支付设置",link:"/setting/payment/ali"},{title:"百度小程序支付设置",link:"/setting/payment/baidu"}],employ:[{title:"员工管理",link:"/setting/employ"},{title:"角色管理",link:"/setting/employ/role"}],agent:[{title:"分销代理设置",link:"/agent/setting/index"},{title:"顾问申请设置",link:"/agent/setting/apply"}],coupon:[{title:"优惠券管理",link:"/marketing/coupon/index"},{title:"优惠券设置",link:"/marketing/coupon/setting"},{title:"赠送优惠券",link:"/marketing/coupon/send"}],sucai:[{title:"素材管理",link:"/resource/index"},{title:"素材分类 ",link:"/resource/category"}],wuliu:[{title:"运费模板",link:"/shipping/area/index/"},{title:"快递公司 ",link:"/shipping/index"}]}}},created:function(){this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]},methods:{LogOut:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}}}),o=s,r=i("2877"),l=Object(r["a"])(o,a,n,!1,null,"5665e029",null);e["a"]=l.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},"885e":function(t,e,i){"use strict";var a=i("8a72"),n=i.n(a);n.a},"8a72":function(t,e,i){}}]);
//# sourceMappingURL=chunk-327face9.bb408ccc.js.map