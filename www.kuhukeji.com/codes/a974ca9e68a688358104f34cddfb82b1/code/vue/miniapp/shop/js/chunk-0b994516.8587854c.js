(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b994516"],{"176a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("top-nav",{attrs:{title:"折扣活动列表"}}),t._m(0),n("div",{staticClass:"wyu-main"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[n("el-form",{staticClass:"search-form",attrs:{size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[n("el-form-item",{attrs:{label:"折扣ID"}},[n("el-input",{attrs:{placeholder:"折扣ID"},model:{value:t.searchForm.discount_id,callback:function(e){t.$set(t.searchForm,"discount_id",e)},expression:"searchForm.discount_id"}})],1),n("el-form-item",{attrs:{label:"是否上线中"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.is_online,callback:function(e){t.$set(t.searchForm,"is_online",e)},expression:"searchForm.is_online"}},[n("el-option",{attrs:{label:"请选择",value:-999}}),n("el-option",{attrs:{label:"已下线",value:0}}),n("el-option",{attrs:{label:"上线中",value:1}})],1)],1),n("el-form-item",{attrs:{label:"PLUS会员特价"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.is_vip,callback:function(e){t.$set(t.searchForm,"is_vip",e)},expression:"searchForm.is_vip"}},[n("el-option",{attrs:{label:"请选择",value:-999}}),n("el-option",{attrs:{label:"已下线",value:0}}),n("el-option",{attrs:{label:"上线中",value:1}})],1)],1),n("el-form-item",{attrs:{label:"添加日期"}},[n("date-between",{model:{value:t.searchForm.adddate,callback:function(e){t.$set(t.searchForm,"adddate",e)},expression:"searchForm.adddate"}})],1),n("el-form-item",{attrs:{label:"开始日期"}},[n("date-between",{model:{value:t.searchForm.startdate,callback:function(e){t.$set(t.searchForm,"startdate",e)},expression:"searchForm.startdate"}})],1),n("el-form-item",{attrs:{label:"结束日期"}},[n("date-between",{model:{value:t.searchForm.enddate,callback:function(e){t.$set(t.searchForm,"enddate",e)},expression:"searchForm.enddate"}})],1),n("div",{staticStyle:{"padding-left":"20px"}},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.getList(1)}}},[t._v("搜索")]),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.searchForm.discount_id="",t.searchForm.goods_id="",t.searchForm.keywords="",t.searchForm.is_online=-999,t.searchForm.adddate="",t.getList(1)}}},[t._v("取消搜索")]),n("router-link",{attrs:{to:"/marketing/discount/create"}},[n("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("添加折扣")])],1)],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas.list,size:"small"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"discount_id",label:"折扣ID",width:"60"}}),n("el-table-column",{attrs:{label:"活动名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"ellipsis-02"},[t._v("\n                            "+t._s(e.row.name)+"\n                        ")])]}}])}),n("el-table-column",{attrs:{label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"ellipsis-02"},[t._v("\n                            "+t._s(e.row.goods_name)+" "),n("span",{staticStyle:{color:"red"}},[t._v("等 "+t._s(e.row.goods_ids.length-0)+" 件商品")])])]}}])}),n("el-table-column",{attrs:{label:"封面图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{attrs:{src:t.row.prom_img,width:"100px;"}})]}}])}),n("el-table-column",{attrs:{label:"已售数量",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.buy_num)+"件\n                    ")]}}])}),n("el-table-column",{attrs:{label:"折扣有效期",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v("开始时间: "+t._s(e.row.start_time))]),n("p",[t._v("结束时间: "+t._s(e.row.end_time))])]}}])}),n("el-table-column",{attrs:{label:"折扣",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v("注册会员："),n("b",{staticStyle:{color:"#D94854"}},[t._v(t._s(e.row.discount))]),t._v("  折")]),n("p",[t._v("PLUS会员："),n("b",{staticStyle:{color:"#D94854"}},[t._v(t._s(e.row.vip_discount))]),t._v("  折")])]}}])}),n("el-table-column",{attrs:{prop:"orderby",label:"排序",width:"100"}}),n("el-table-column",{attrs:{label:"操作日期/IP",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v("日期："+t._s(e.row.add_time))]),n("p",[t._v("IP："+t._s(e.row.add_ip))])]}}])}),n("el-table-column",{attrs:{prop:"goods_sn",label:"活动开启",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{value:e.row.is_online,"inactive-value":0,"active-value":1},on:{change:function(n){return t.setOnline(e)}}})]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"/marketing/discount/edit/"+e.row.discount_id}},[n("el-button",{attrs:{size:"mini",type:"text"}},[t._v("编辑")])],1),t._v(" \n                            "),n("el-popover",{attrs:{placement:"top"},model:{value:e.row.is_delete,callback:function(n){t.$set(e.row,"is_delete",n)},expression:"scope.row.is_delete"}},[n("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),n("div",{staticStyle:{margin:"0"}},[n("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(t){e.row.is_delete=!1}}},[t._v("取消")]),n("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(n){return t.del(e)}}},[t._v("确定")])],1),n("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("删除（释放产品）")])],1)]}}])})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-mian"},[n("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getList}})],1)])],1)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wyu-tips wyu-tips-warning"},[n("p",[t._v(" 1、 这里是为商品添加折扣活动")])])}],s=n("5200"),o=n("d722"),l=n("1b85"),r={name:"goodsAttrIndex",components:{TopNav:s["a"],DateBetween:l["a"]},data:function(){return{loading:!1,datas:[],searchForm:{bargain_id:"",goods_id:"",keywords:"",adddate:[],startdate:[],enddate:[],is_online:-999}}},created:function(){this.getList()},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,o["a"]("/shop/admin.marketing.discount/index",{appToken:this.$store.getters.appToken,discount_id:this.searchForm.discount_id,keywords:this.searchForm.keywords,goods_id:this.searchForm.goods_id,bg_add_time:this.searchForm.adddate[0],end_add_time:this.searchForm.adddate[1],bg_start_time:this.searchForm.startdate[0],end_start_time:this.searchForm.startdate[1],bg_end_time:this.searchForm.enddate[0],end_end_time:this.searchForm.enddate[1],is_online:this.searchForm.is_online,page:e}).then(function(e){t.datas=e,t.loading=!1}).catch(function(e){t.loading=!1})},handleSelectionChange:function(t){var e=[];for(var n in t)e.push(n);this.discountIds=e},setOnline:function(t){var e=this;this.loading=!0;var n=0;0==t.row.is_online&&(n=1),o["a"]("/shop/admin.marketing.discount/online",{appToken:this.$store.getters.appToken,discount_id:t.row.discount_id,is_online:n}).then(function(t){e.getList(),e.loading=!1}).catch(function(t){e.loading=!1})},del:function(t){var e=this;this.loading=!0,o["a"]("/shop/admin.marketing.discount/del",{appToken:this.$store.getters.appToken,discount_id:t.row.discount_id}).then(function(t){e.$message({message:"编辑成功",type:"success"}),e.getList(),e.loading=!1}).catch(function(t){e.loading=!1})}}},c=r,d=n("2877"),u=Object(d["a"])(c,a,i,!1,null,null,null);e["default"]=u.exports},"1b85":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-date-picker",{attrs:{type:"daterange","picker-options":t.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:t.selectDate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},i=[],s={name:"DateBetween",props:["date"],data:function(){return{pickerOptions2:{shortcuts:[{text:"最近七天",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近半个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-1296e6),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}}]},value:""}},methods:{selectDate:function(t){var e=0,n=0;t&&(e=t[0].getFullYear()+"-"+(t[0].getMonth()+1)+"-"+t[0].getDate(),n=t[1].getFullYear()+"-"+(t[1].getMonth()+1)+"-"+t[1].getDate()),this.$emit("input",[e,n])}}},o=s,l=n("2877"),r=Object(l["a"])(o,a,i,!1,null,"082e0500",null);e["a"]=r.exports},5200:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-top"},[a("div",{staticClass:"wyu-header"},[t.title?t._e():a("div",{staticClass:"wyu-tab"},[a("ul",t._l(t.showMenu,function(e,n){return a("li",{key:n,class:n==t.select?"on":""},[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?a("div",{staticClass:"wyu-tab"},[a("ul",[a("li",[t._v(t._s(t.title))])])]):t._e(),a("div",{staticClass:"wyu-header-status"},[a("div",{staticClass:"login-info"},[a("img",{attrs:{src:n("741c")}}),a("el-dropdown",{staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                          "+t._s(t.$store.getters.appInfo.app_name)+"  "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:t.LogOut}},[t._v("退出登录")])])],1)],1)],1)])])])},i=[],s=(n("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{showMenu:[],menu:{sms:[{title:"发送短信",link:"/marketing/sms/send"},{title:"短信记录",link:"/marketing/sms/census"}],paymentSetting:[{title:"微信小程序支付设置",link:"/setting/payment/weixin"},{title:"支付宝小程序支付设置",link:"/setting/payment/ali"},{title:"百度小程序支付设置",link:"/setting/payment/baidu"}],employ:[{title:"员工管理",link:"/setting/employ"},{title:"角色管理",link:"/setting/employ/role"}],agent:[{title:"分销代理设置",link:"/agent/setting/index"},{title:"顾问申请设置",link:"/agent/setting/apply"}],coupon:[{title:"优惠券管理",link:"/marketing/coupon/index"},{title:"优惠券设置",link:"/marketing/coupon/setting"},{title:"赠送优惠券",link:"/marketing/coupon/send"}],sucai:[{title:"素材管理",link:"/resource/index"},{title:"素材分类 ",link:"/resource/category"}],wuliu:[{title:"运费模板",link:"/shipping/area/index/"},{title:"快递公司 ",link:"/shipping/index"}]}}},created:function(){this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]},methods:{LogOut:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}}}),o=s,l=n("2877"),r=Object(l["a"])(o,a,i,!1,null,"5665e029",null);e["a"]=r.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-0b994516.8587854c.js.map