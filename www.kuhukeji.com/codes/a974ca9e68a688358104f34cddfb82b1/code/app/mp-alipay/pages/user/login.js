(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/login"],{"2a5e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{pid:0,loadInit:!1,theme:{mainColor:"red"},iv:"",encrypted_data:""}},onLoad:function(e){var n=this,a=t.getStorageSync("pid");void 0!=a&&""!=a&&(n.$data.pid=a),n.wxb.addPage(this),n.wxb.Init(e,function(t){n.$data.theme=t.skin.theme,n.$data.loadInit=!0})},onUnload:function(){this.wxb.removePage()},methods:{userLogin:function(){var e=this;t.checkSession({success:function(n){e.toLogin("",t.getStorageSync("open_id"))},fail:function(){t.login({success:function(t){console.log(t),e.toLogin(t.code,"")}})}})},getPhoneNumber:function(t){console.log(t),this.$data.iv=t.detail.iv,this.$data.encrypted_data=t.detail.encryptedData,this.userLogin()},toLogin:function(e,n){console.log(this.$data.pid);var a=this;a.wxb.Post("/shop/api.passport/authMobile",{iv:this.$data.iv,encrypted_data:this.$data.encrypted_data,open_id:n,code:e,pid:this.$data.pid},function(e){e&&e.user_token&&(t.setStorageSync("user_token",e.user_token),t.setStorageSync("user_id",e.user_id)),a.$redirectTo("/pages/mine/index")})}}};e.default=n}).call(this,n("c11b")["default"])},"7efa":function(t,e,n){},9823:function(t,e,n){"use strict";n.r(e);var a=n("98c4"),o=n("fc3c");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("b6b3");var r=n("2877"),c=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"98c4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"app",attrs:{_hid:0}},[t._ri(!!t.loadInit,1)?n("navigator",{staticClass:"login-view",style:"border: 1px"+t.theme.mainColor+" solid;background: #fff;margin: 0 4%;color:"+t.theme.mainColor,attrs:{url:"phoneLogin","open-type":"redirect",_hid:1}},[n("button",{staticClass:"btn-login",style:"color:"+t.theme.mainColor,attrs:{_hid:2}},[])],1):t._e()],1)},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})},a7d3:function(t,e,n){"use strict";n("2346");var a=i(n("9823")),o=i(n("3a53"));function i(t){return t&&t.__esModule?t:{default:t}}a.default.mpType="page";var r=new o.default(a.default);r.$mount()},b6b3:function(t,e,n){"use strict";var a=n("7efa"),o=n.n(a);o.a},fc3c:function(t,e,n){"use strict";n.r(e);var a=n("2a5e"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=o.a}},[["a7d3","common/runtime","common/vendor"]]]);