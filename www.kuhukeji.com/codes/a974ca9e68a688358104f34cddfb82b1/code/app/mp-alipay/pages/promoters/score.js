(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/promoters/score"],{"020e":function(t,a,e){"use strict";e.r(a);var s=e("8c23"),i=e("4fae");for(var r in i)"default"!==r&&function(t){e.d(a,t,function(){return i[t]})}(r);e("a258");var n=e("2877"),d=Object(n["a"])(i["default"],s["a"],s["b"],!1,null,null,null);a["default"]=d.exports},1860:function(t,a,e){"use strict";e("2346");var s=r(e("020e")),i=r(e("3a53"));function r(t){return t&&t.__esModule?t:{default:t}}s.default.mpType="page";var n=new i.default(s.default);n.$mount()},3086:function(t,a,e){"use strict";function s(t,a){return n(t)||r(t,a)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,a){var e=[],s=!0,i=!1,r=void 0;try{for(var n,d=t[Symbol.iterator]();!(s=(n=d.next()).done);s=!0)if(e.push(n.value),a&&e.length===a)break}catch(o){i=!0,r=o}finally{try{s||null==d["return"]||d["return"]()}finally{if(i)throw r}}return e}function n(t){if(Array.isArray(t))return t}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d={data:function(){for(var t=new Date,a=[],e=[],s=[],i=2016;i<=t.getFullYear();i++)a.push(i);for(var r=1;r<=12;r++)e.push(r);for(var n=1;n<=31;n++)s.push(n);return{years:a,months:e,days:s,tabBars:[{name:"昨日",id:"0"},{name:"近7日",id:"1"},{name:"全部",id:"3"}],dateType:"0",msgType:0,msg:"",startDate:"",endDate:"",type:0,data:{},screenDateFlag:!1,dateValue:[9999,t.getMonth(),t.getDate()-2],imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(t){var a=this;a.wxb.addPage(this),a.wxb.Init(t,function(t){a.getUserScoreInfo()})},onUnload:function(){this.wxb.removePage()},methods:{tapTabListener:function(t){this.$data.type=t,t<3&&(this.$data.startDate="",this.$data.endDate=""),this.getUserScoreInfo()},onSureDateListener:function(){var t=this.$data.startDate,a=this.$data.endDate;return this.$data.type=3,console.log(new Date(a).getTime()-new Date(t).getTime()),new Date(a)<=new Date(t)?(this.$data.msgType=1,void(this.$data.msg="开始日期必须小于结束日期")):new Date(a).getTime()-new Date(t).getTime()>31536e6?(this.$data.msgType=1,void(this.$data.msg="仅支持查找12个月跨度以内的数据")):(this.$data.selectMsg=t+"至"+a,this.hideScreenDateDialog(),void this.getUserScoreInfo())},bindChangeListener:function(t){console.log(t);var a=new Date,e=this.$data.years,i=this.$data.months,r=this.$data.days,n=s(t.detail.value,3),d=n[0],o=n[1],c=n[2],l=e[d],h=i[o];if(a.getFullYear()==l){i=[];for(var _=1;_<=a.getMonth()+1;_++)i.push(_);if(r=[],a.getFullYear()==l&&a.getMonth()+1==h)for(var u=1;u<=a.getDate();u++)r.push(u);else for(var v=new Date(l,h,0).getDate(),w=1;w<=v;w++)r.push(w)}else{i=[];for(var g=1;g<=12;g++)i.push(g);r=[];v=new Date(l,h,0).getDate();for(var f=1;f<=v;f++)r.push(f)}this.$data.years=e,this.$data.months=i,this.$data.days=r,this.$data.msgType=0;var m=this.$data.dateType,D=e[d]+"-"+(i[o]>9?i[o]:"0"+i[o])+"-"+(r[c]>9?r[c]:"0"+r[c]);console.log("选择的日期："+D),0==m?this.$data.startDate=D:1==m&&(this.$data.endDate=D)},showScreenDateDialog:function(t){var a=this;""!=a.$data.startDate&&""!=a.$data.endDate||(a.$data.startDate=a.getDateFormat(-1),a.$data.endDate=a.getDateFormat(0),console.log("startDate=>"+a.$data.startDate),console.log("endDate=>"+a.$data.endDate)),a.$data.screenDateFlag=!0},hideScreenDateDialog:function(t){this.$data.screenDateFlag=!1},getDateFormat:function(t){var a=new Date;a.setDate(a.getDate()+t);var e=a.getFullYear(),s=a.getMonth()+1;t=a.getDate();return s>=1&&s<=9&&(s="0"+s),t>=0&&t<=9&&(t="0"+t),e+"-"+s+"-"+t},onClickStartListener:function(t){var a=new Date(this.$data.startDate),e=a.getFullYear(),s=a.getMonth()+1,i=a.getDate();this.$data.dateType=0,this.$data.dateValue=this.getDateIndex(e,s,i),console.log("选择开始日期=>"+this.$data.dateValue)},getDateIndex:function(t,a,e){console.log(t),console.log(a),console.log(e);var s=this.$data.years,i=this.$data.months,r=this.$data.days,n=this.$data.dateValue;for(var d in s)if(s[d]==t&&n){n[0]=d-0;break}for(var d in i)if(i[d]==a&&n){n[1]=d-0;break}for(var d in r)if(r[d]==e&&n){n[2]=d-0;break}return console.log(n),n},onClickEndListener:function(t){console.log(this.$data.endDate);var a=new Date(this.$data.endDate),e=a.getFullYear(),s=a.getMonth()+1,i=a.getDate(),r=this.getDateIndex(e,s,i);this.$data.dateType=1,this.$data.dateValue=r},getUserScoreInfo:function(t){var a=this;a.wxb.Post("/shop/api.Agent/getMyScore",{date_type:a.$data.type,date_area_start:a.$data.startDate,date_area_end:a.$data.endDate},function(t){a.$data.data=t.data})}}};a.default=d},"4fae":function(t,a,e){"use strict";e.r(a);var s=e("3086"),i=e.n(s);for(var r in s)"default"!==r&&function(t){e.d(a,t,function(){return s[t]})}(r);a["default"]=i.a},"8c23":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"score-box",attrs:{_hid:0}},[e("view",{staticClass:"base-info",attrs:{_hid:1}},[e("view",{staticClass:"b-hint",attrs:{_hid:2}},[]),e("view",{staticClass:"b-num",attrs:{_hid:4}},[t._v(t._s(t.data.agent_money?t.data.agent_money:"0"),5)]),e("navigator",{staticClass:"btn-withdraw",attrs:{url:"withdraw",_hid:6}},[])],1),e("view",{staticClass:"type-box",attrs:{_hid:8}},[e("view",{staticClass:"tab-box",attrs:{_hid:9}},[e("tab-view",{attrs:{type:2,tabBars:t.tabBars,_hid:10,_batrs:"type,tabBars",_cid:0},on:{tapTab:t.tapTabListener}})],1),e("view",{staticClass:"time-box",attrs:{_hid:1012},on:{click:t.showScreenDateDialog}},[e("text",{staticClass:"iconfont icon-btn_filter",attrs:{_hid:1013}}),e("text",{staticStyle:{"margin-left":"7px"},attrs:{_hid:1014}},[])])]),e("view",{staticClass:"score-cont",attrs:{_hid:1016}},[e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"},attrs:{_hid:1017}},[e("view",{staticClass:"cont",attrs:{_hid:1018}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1019}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1021}},[t._v(t._s(t.data.new_agent?t.data.new_agent:"0"),1022)])])]),e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"},attrs:{_hid:1023}},[e("view",{staticClass:"cont",attrs:{_hid:1024}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1025}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1027}},[t._v(t._s(t.data.vip_num?t.data.vip_num:"0"),1028)])])]),e("view",{staticClass:"item-score",staticStyle:{width:"33.3333%"},attrs:{_hid:1029}},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"},attrs:{_hid:1030}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1031}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1033}},[t._v(t._s(t.data.vip_money?t.data.vip_money:"0"),1034)])])]),e("view",{staticClass:"item-score",attrs:{_hid:1035}},[e("view",{staticClass:"cont",attrs:{_hid:1036}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1037}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1039}},[t._v(t._s(t.data.new_reg?t.data.new_reg:"0"),1040)])])]),e("view",{staticClass:"item-score",attrs:{_hid:1041}},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"},attrs:{_hid:1042}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1043}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1045}},[t._v(t._s(t.data.order_money?t.data.order_money:"0"),1046)])])]),e("view",{staticClass:"item-score",staticStyle:{"border-bottom-width":"0"},attrs:{_hid:1047}},[e("view",{staticClass:"cont",attrs:{_hid:1048}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1049}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1051}},[t._v(t._s(t.data.order_num?t.data.order_num:"0"),1052)])])]),e("view",{staticClass:"item-score",staticStyle:{"border-bottom-width":"0"},attrs:{_hid:1053}},[e("view",{staticClass:"cont",staticStyle:{"border-right-width":"0"},attrs:{_hid:1054}},[e("view",{staticClass:"sc-hint",attrs:{_hid:1055}},[]),e("view",{staticClass:"sc-num",attrs:{_hid:1057}},[t._v(t._s(t.data.amount_res?t.data.amount_res:"0"),1058)])])])]),t._m(0),t._ri(!!t.screenDateFlag,1064)?e("view",{staticClass:"mask",attrs:{_hid:1064}},[e("view",{staticClass:"time-listBox",attrs:{_hid:1065}},[e("view",{staticClass:"item-time",attrs:{_hid:1066}},[e("view",{staticClass:"date-cancel",attrs:{_hid:1067},on:{click:t.hideScreenDateDialog}},[]),e("view",{staticClass:"date-title",style:"color:"+(0==t.msgType?"#2D3133":"#FF3200"),attrs:{_hid:1069}},[t._v(t._s(0==t.msgType?"选择起始日期":t.msg),1070)]),e("view",{staticClass:"date-sure",attrs:{_hid:1071},on:{click:t.onSureDateListener}},[])]),e("view",{staticClass:"date-cont",attrs:{_hid:1073}},[e("view",{staticClass:"item",attrs:{_hid:1074},on:{click:t.onClickStartListener}},[e("text",{class:0==t.dateType?"blue":"gray",attrs:{_hid:1075}},[t._v(t._s(t.startDate),1076)])]),e("view",{staticClass:"item",attrs:{_hid:1077}},[]),e("view",{staticClass:"item",attrs:{_hid:1079},on:{click:t.onClickEndListener}},[e("text",{class:1==t.dateType?"blue":"gray",attrs:{_hid:1080}},[t._v(t._s(t.endDate),1081)])])]),e("picker-view",{staticStyle:{width:"100%",height:"150px"},attrs:{"indicator-style":"height: 50px;",value:t.dateValue,_hid:1082,_batrs:"value"},on:{change:t.bindChangeListener}},[e("picker-view-column",{attrs:{_hid:1083,_cid:1}},t._l(t.years,function(a,s,i){var r=void 0!==i?i:s;return e("view",{key:s,staticClass:"picker-date",attrs:{_hid:2085,_fid:r,_fk:"index"}},[t._v(t._s(a)+"年",2086,r)])},2085,t._self)),e("picker-view-column",{attrs:{_hid:2087,_cid:2}},t._l(t.months,function(a,s,i){var r=void 0!==i?i:s;return e("view",{key:s,staticClass:"picker-date",attrs:{_hid:3089,_fid:r,_fk:"index"}},[t._v(t._s(a)+"月",3090,r)])},3089,t._self)),e("picker-view-column",{attrs:{_hid:3091,_cid:3}},t._l(t.days,function(a,s,i){var r=void 0!==i?i:s;return e("view",{key:s,staticClass:"picker-date",attrs:{_hid:4093,_fid:r,_fk:"index"}},[t._v(t._s(a)+"日",4094,r)])},4093,t._self))],1)],1)]):t._e(),e("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",_hid:4095,_batrs:"img",_cid:4}}),e("ToastView",{attrs:{_hid:5097,_cid:5}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"alert-box",attrs:{_hid:1059}},[e("text",{attrs:{_hid:1060}},[]),e("text",{staticClass:"ques",attrs:{_hid:1062}},[])])}];e.d(a,"a",function(){return s}),e.d(a,"b",function(){return i})},a258:function(t,a,e){"use strict";var s=e("b7e4"),i=e.n(s);i.a},b7e4:function(t,a,e){}},[["1860","common/runtime","common/vendor"]]]);