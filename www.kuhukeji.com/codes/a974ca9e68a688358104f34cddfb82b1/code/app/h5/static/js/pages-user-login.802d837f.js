(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{2246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{pid:0,loadInit:!1,theme:{mainColor:"red"},iv:"",encrypted_data:""}},onLoad:function(e){var t=this,n=uni.getStorageSync("pid");void 0!=n&&""!=n&&(t.$data.pid=n),t.wxb.addPage(this),t.wxb.Init(e,function(e){t.$data.theme=e.skin.theme,t.$data.loadInit=!0})},onUnload:function(){this.wxb.removePage()},methods:{userLogin:function(){var e=this;uni.checkSession({success:function(t){e.toLogin("",uni.getStorageSync("open_id"))},fail:function(){uni.login({success:function(t){console.log(t),e.toLogin(t.code,"")}})}})},getPhoneNumber:function(e){console.log(e),this.$data.iv=e.detail.iv,this.$data.encrypted_data=e.detail.encryptedData,this.userLogin()},toLogin:function(e,t){console.log(this.$data.pid);var n=this;n.wxb.Post("/shop/api.passport/authMobile",{iv:this.$data.iv,encrypted_data:this.$data.encrypted_data,open_id:t,code:e,pid:this.$data.pid},function(e){e&&e.user_token&&(uni.setStorageSync("user_token",e.user_token),uni.setStorageSync("user_id",e.user_id)),n.$redirectTo("/pages/mine/index")})}}};t.default=i},"477a":function(e,t,n){var i=n("f34b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("4eb4d65c",i,!0,{sourceMap:!1,shadowMode:!1})},6567:function(e,t,n){"use strict";var i=n("477a"),a=n.n(i);a.a},9823:function(e,t,n){"use strict";n.r(t);var i=n("e71f"),a=n("fc3c");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("6567");var r=n("2877"),s=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"512a5c9a",null);t["default"]=s.exports},e71f:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"app"},[e.loadInit?n("v-uni-navigator",{staticClass:"login-view",style:"border: 1px"+e.theme.mainColor+" solid;background: #fff;margin: 0 4%;color:"+e.theme.mainColor,attrs:{url:"phoneLogin","open-type":"redirect"}},[n("v-uni-button",{staticClass:"btn-login",style:"color:"+e.theme.mainColor},[e._v("手机号码登录")])],1):e._e()],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},f34b:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".login-view[data-v-512a5c9a]{width:92%;height:50px;margin:84px 4% 16px 4%;background:#ed3005;position:relative;border-radius:4px}.login-view .btn-login[data-v-512a5c9a]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,0);border:none;color:#fff;font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.login-view .btn-login[data-v-512a5c9a]:after{border:none}.app .register-view[data-v-512a5c9a]{width:100%;height:64px;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#000;font-size:16px}",""])},fc3c:function(e,t,n){"use strict";n.r(t);var i=n("2246"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a}}]);