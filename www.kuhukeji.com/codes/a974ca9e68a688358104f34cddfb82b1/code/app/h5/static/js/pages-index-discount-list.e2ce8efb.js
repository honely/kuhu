(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-discount-list"],{"216c":function(t,i,e){"use strict";e.r(i);var a=e("d3fa"),n=e("24b0");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("4cf9");var s=e("2877"),d=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"b8b767d6",null);i["default"]=d.exports},"24b0":function(t,i,e){"use strict";e.r(i);var a=e("6cb9"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"4cf9":function(t,i,e){"use strict";var a=e("d8e0"),n=e.n(a);n.a},"6cb9":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("9219"));function n(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{userid:0,data:"",list:[],page:1,more:0,hour:0,minute:0,second:0,discount_id:"",expire_time:0,imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},components:{uniCountdown:a.default},onLoad:function(t){var i=this,e=uni.getStorageSync("user_id");void 0!=e&&""!=e&&(i.$data.userid=e),void 0!=t.pid&&""!=t.pid&&uni.setStorageSync("pid",t.pid),i.wxb.printLog("=============onLoad================"),i.wxb.addPage(this),i.wxb.Init(t,function(t){i.getDiscountList()})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:"折扣",path:"/pages/index/discount/list?pid="+t.$data.userid+"&discount_id="+t.$data.discount_id}},methods:{tabClickListener:function(t){var i=t.currentTarget.dataset.index;this.$data.tab_index=i,this.$data.page=1,this.$data.list=[],this.getDiscountList()},getDiscountList:function(t){var i=this,e=i.$data.list,a=i.$data.page;1==a&&(e=[]),i.wxb.Post("/shop/api.discount/getlist",{discount_id:i.$data.discount_id,page:i.$data.page},function(t){for(var a in"baidu"==i.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:t.seo.title?"":t.seo.title,keywords:t.seo.keywords?"":t.seo.keywords,description:t.seo.description?"":t.seo.description,releaseDate:t.seo.releaseDate?"":t.seo.releaseDate,image:t.seo.image?"":t.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),t.list)e.push(t.list[a]);i.$data.more=t.isMore,i.$data.list=e,i.$data.page+=1,i.$data.data=t.data,i.$data.expire_time=t.data.expire_time,console.log("倒计时->"+t.data.expire_time);var n=i.$data.expire_time,o=n/3600|0,s=(Math.round(n)-3600*o)/60|0;n=n%60|0;console.log("hour->"+o),console.log("minute->"+s),console.log("second->"+n),i.$data.hour=o,i.$data.minute=s,i.$data.second=n})}}};i.default=o},d3fa:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"discount-box"},[t.data?e("v-uni-view",{staticClass:"discount-cont"},[e("v-uni-view",{staticClass:"zg-img"},[e("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.data.prom_img}})],1),e("v-uni-view",{staticClass:"zg-header"},[e("v-uni-view",{staticClass:"mh-lf"},[t._v("共"+t._s(t.data.count)+"条折扣")]),e("v-uni-view",{staticClass:"mh-rf"},[e("v-uni-text",{staticStyle:{color:"#fff","font-size":"16px","margin-right":"8px"}},[t._v("距结束")]),e("uni-countdown",{attrs:{color:"#ffffff",splitorColor:"#ffffff","background-color":"#ED3005","border-color":"rgba(0,0,0,0)",hour:t.hour,minute:t.minute,second:t.second,"show-day":!1}})],1)],1),e("v-uni-view",{staticClass:"zg-list"},[t._l(t.list,function(i,a){return e("v-uni-view",{key:a,staticClass:"item-discount",on:{click:function(e){e=t.$handleEvent(e),t.$linkListener("../goods/detail?goods_id="+i.goods_id)}}},[e("v-uni-view",{staticClass:"zg-img"},[e("v-uni-text",{staticClass:"tag"},[t._v(t._s(i.discount)+"折")]),e("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i.photo}}),i.is_vip?e("v-uni-view",{staticClass:"zhuanxiang"},[t._v("PLUS专享")]):t._e()],1),e("v-uni-view",{staticClass:"zg-cont"},[e("v-uni-view",{staticClass:"mname ellipsis-02"},[t._v(t._s(i.goods_name))]),e("v-uni-view",{staticClass:"mnum"},[e("v-uni-text",[t._v("422")]),e("v-uni-text",[t._v("人已买")])],1),e("v-uni-view",{staticClass:"mprice"},[e("v-uni-view",{staticClass:"mp-lt"},[e("v-uni-view",{staticClass:"xprice"},[e("v-uni-text",[t._v("¥")]),e("v-uni-text",{staticStyle:{"font-size":"18px","margin-left":"3px"}},[t._v(t._s(i.shop_price))])],1),e("v-uni-view",{staticClass:"yprice"},[e("v-uni-text",[t._v("原价")]),e("v-uni-text",{staticStyle:{"text-decoration":"line-through","margin-left":"3px"}},[t._v("￥"+t._s(i.market_price))])],1)],1),e("v-uni-text",{staticClass:"iconfont icon-btn_cart mp-rt"})],1)],1)],1)}),1==t.more?e("v-uni-view",{staticClass:"more",on:{click:function(i){i=t.$handleEvent(i),t.getManJianList(i)}}},[t._v("点击查看更多")]):t._e(),0==t.more?e("v-uni-view",{staticClass:"nodata"},[t._v("已经全部为你呈现了")]):t._e()],2)],1):t._e(),e("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif"}}),e("ToastView")],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},d75c:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".discount-box[data-v-b8b767d6]{width:100%;display:block}.discount-box .discount-cont[data-v-b8b767d6]{width:100%;display:block}.discount-cont .zg-img[data-v-b8b767d6]{width:100%;height:188px;position:relative}.zg-img .tag[data-v-b8b767d6]{height:22px;line-height:22px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:#ff8c00;position:absolute;left:0;top:0;border-bottom-right-radius:10px;padding:0 8px;color:#fff;font-size:12px}.zg-img .zhuanxiang[data-v-b8b767d6]{width:100%;height:30px;line-height:30px;text-align:center;background:-webkit-gradient(linear,left top,right top,from(#ffa44b),to(#fb4a86));background:-o-linear-gradient(left,#ffa44b 0,#fb4a86 100%);background:linear-gradient(90deg,#ffa44b,#fb4a86);position:absolute;bottom:0;color:#fff;font-size:14px}.discount-cont .zg-header[data-v-b8b767d6]{width:100%;height:44px;background:-webkit-gradient(linear,left top,right top,from(#ff1f85),to(#ff5722));background:-o-linear-gradient(left,#ff1f85 0,#ff5722 100%);background:linear-gradient(90deg,#ff1f85,#ff5722);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 15px}.zg-header .mh-lf[data-v-b8b767d6]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#fff;font-size:14px}.zg-header .mh-rf[data-v-b8b767d6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.discount-cont .zg-tabar[data-v-b8b767d6]{width:100%;height:50px;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.05);box-shadow:0 2px 6px 0 rgba(0,0,0,.05);background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.discount-cont .zg-tabar .item-tab[data-v-b8b767d6]{height:46px;line-height:46px;margin:0 30px;border-bottom:4px solid #fff;font-size:20px;color:#333}.discount-cont .zg-tabar .tab-sel[data-v-b8b767d6]{color:#ed3005;border-bottom-color:#ed3005}.discount-cont .zg-list[data-v-b8b767d6]{width:100%;display:block;margin-top:3px}.zg-list .item-discount[data-v-b8b767d6]{width:100%;height:150px;border-bottom:2px solid #f2f4f7;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:15px;background:#fff}.item-discount .zg-img[data-v-b8b767d6]{width:120px;height:120px;background:#fcfcfc;position:relative}.item-discount .zg-cont[data-v-b8b767d6]{width:100%;height:120px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block;padding-left:10px}.zg-cont .mname[data-v-b8b767d6]{width:100%;font-size:16px;color:#2d3133}.zg-cont .mnum[data-v-b8b767d6]{width:100%;margin:8px 0;color:#666;font-size:14px}.zg-cont .mprice[data-v-b8b767d6]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.zg-cont .mprice .mp-lt[data-v-b8b767d6]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block}.mp-lt .xprice[data-v-b8b767d6]{color:#ed3005;font-size:14px}.mp-lt .yprice[data-v-b8b767d6]{margin-top:2px;color:#999;font-size:14px}.zg-cont .mprice .mp-rt[data-v-b8b767d6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:24px;color:#ed3005}",""])},d8e0:function(t,i,e){var a=e("d75c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("2e6d4870",a,!0,{sourceMap:!1,shadowMode:!1})}}]);