(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-phoneLogin"],{"09f9":function(t,e,i){"use strict";i.r(e);var n=i("ea11"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},"3bc9":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".tab-cont[data-v-1881d08c]{width:100%;height:50px;background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.tab-cont .item-tab[data-v-1881d08c]{width:100%;height:50px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.tab-cont .item-tab .it-tit-normal[data-v-1881d08c]{height:46px;line-height:46px;color:#333;font-size:16px;border-bottom:4px solid #fff}.tab-cont .item-tab .it-tit-select[data-v-1881d08c]{height:46px;line-height:46px;color:#ed3005;font-size:20px;border-bottom:4px solid #ed3005}.app .login-cont[data-v-1881d08c]{width:100%;display:block;padding:0 15px;margin-top:16px;background:#fff}.app .login-cont .item-input[data-v-1881d08c]{width:100%;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:1px solid #ccc;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.item-input .ii-tit[data-v-1881d08c]{width:78px;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#666;font-size:16px}.item-input .ii-input[data-v-1881d08c]{width:100%;height:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:16px;color:#000}.item-input .get-code[data-v-1881d08c]{height:30px;margin:15px 0;padding-left:15px;border-left:1px solid #ccc;color:#ed3005;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:16px}.btn-login[data-v-1881d08c]{width:92%;height:48px;margin:24px 4%;background:#ccc;color:#fff;font-size:18px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}",""])},7410:function(t,e,i){"use strict";i.r(e);var n=i("992e"),a=i("09f9");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("8172");var s=i("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"1881d08c",null);e["default"]=c.exports},8172:function(t,e,i){"use strict";var n=i("994d"),a=i.n(n);a.a},"992e":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app"},[i("v-uni-form",{on:{submit:function(e){e=t.$handleEvent(e),t.smsLogin(e)}}},[1==t.tabIndex?i("v-uni-view",[i("v-uni-view",{staticClass:"login-cont"},[i("v-uni-view",{staticClass:"item-input"},[i("v-uni-view",{staticClass:"ii-tit"},[t._v("手机号")]),i("v-uni-input",{staticClass:"ii-input",attrs:{name:"phone","data-type":"1",placeholder:"请输入手机号码","placeholder-style":"color:#CCCCCC;"},on:{input:function(e){e=t.$handleEvent(e),t.inputChangeListener(e)}}})],1),i("v-uni-view",{staticClass:"item-input",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"ii-tit"},[t._v("验证码")]),i("v-uni-input",{staticClass:"ii-input",attrs:{name:"code","data-type":"2",placeholder:"请输入短信验证码","placeholder-style":"color:#CCCCCC;"},on:{input:function(e){e=t.$handleEvent(e),t.inputChangeListener(e)}}}),i("v-uni-view",{staticClass:"get-code",on:{click:function(e){e=t.$handleEvent(e),t.getSmsCode(e)}}},[t.showTime?t._e():i("v-uni-text",[t._v("获取验证码")]),t.showTime?i("v-uni-view",[i("uni-countdown",{attrs:{color:"#ffffff",splitorColor:"#ffffff","background-color":"#ED3005","border-color":"rgba(0,0,0,0)",second:t.second,"show-day":!1,styleNum:3},on:{timeup:function(e){e=t.$handleEvent(e),t.timeupListener(e)}}})],1):t._e()],1)],1)],1),i("v-uni-button",{staticClass:"btn-login",style:"background: "+(t.is_phone?t.theme.mainColor:"#CCCCCC"),attrs:{"form-type":"submit"}},[t._v("登录")])],1):t._e()],1),i("v-uni-form",{on:{submit:function(e){e=t.$handleEvent(e),t.phoneLogin(e)}}},[2==t.tabIndex?i("v-uni-view",[i("v-uni-view",{staticClass:"login-cont"},[i("v-uni-view",{staticClass:"item-input"},[i("v-uni-view",{staticClass:"ii-tit"},[t._v("手机号")]),i("v-uni-input",{staticClass:"ii-input",attrs:{name:"account","data-type":"3",placeholder:"请输入手机号码","placeholder-style":"color:#CCCCCC;"},on:{input:function(e){e=t.$handleEvent(e),t.inputChangeListener(e)}}})],1),i("v-uni-view",{staticClass:"item-input",staticStyle:{"border-bottom-width":"0"}},[i("v-uni-view",{staticClass:"ii-tit"},[t._v("密   码")]),i("v-uni-input",{staticClass:"ii-input",attrs:{name:"password","data-type":"4",placeholder:"请输入登录密码","placeholder-style":"color:#CCCCCC;"},on:{input:function(e){e=t.$handleEvent(e),t.inputChangeListener(e)}}})],1)],1),i("v-uni-button",{staticClass:"btn-login",style:"background:"+(t.is_account?"#ED3005":"#CCCCCC"),attrs:{"form-type":"submit"}},[t._v("登录")])],1):t._e()],1),i("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif"}}),i("ToastView")],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"994d":function(t,e,i){var n=i("3bc9");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5ba68894",n,!0,{sourceMap:!1,shadowMode:!1})},ea11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9219"));function a(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{theme:{mianColor:"red"},tabIndex:1,phone:"",code:"",is_phone:!1,account:"",password:"",is_account:!1,second:0,showTime:!1,imgBaseUrl:""}},components:{uniCountdown:n.default},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(t){var e=this,i=uni.getStorageSync("pid");void 0!=i&&""!=i&&(e.$data.pid=i),e.wxb.printLog("=============onLoad================"),e.wxb.addPage(this),e.wxb.Init(t,function(t){e.$data.theme=t.skin.theme})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},methods:{timeupListener:function(t){this.$data.second=0,this.$data.showTime=!1},onTabListener:function(t){this.$data.tabIndex=t},getSmsCode:function(t){var e=this,i=e.$data.second;i>0||(uni.showLoading({title:"加载中..."}),e.wxb.Post("/shop/api.passport/getSmsCode",{mobile:e.$data.phone},function(t){uni.hideLoading(),e.$data.second=60,e.$data.showTime=!0}))},smsLogin:function(t){var e=this,i=t.detail.value;""!=i.phone&&""!=i.code&&e.wxb.Post("/shop/api.passport/mobile",{sms_code:i.code,mobile:i.phone,open_id:""==e.wxb.open_id?uni.getStorageSync("open_id"):e.wxb.open_id,pid:e.$data.pid},function(t){console.log(t),t&&t.user_token&&(uni.setStorageSync("user_token",t.user_token),uni.setStorageSync("user_id",t.user_id)),e.$redirectTo("/pages/mine/index")})},phoneLogin:function(t){var e=this,i=t.detail.value;""!=i.phone&&""!=i.code&&e.wxb.Post("/shop/api.passport/login",{mobile:i.account,password:i.password,open_id:e.wxb.open_id,pid:e.$data.pid},function(t){t&&t.user_token&&(uni.setStorageSync("user_token",t.user_token),uni.setStorageSync("user_id",t.user_id)),e.$redirectTo("/pages/mine/index")})},inputChangeListener:function(t){console.log(t);var e=t.currentTarget.dataset.type,i=t.detail.value,n=this;switch(e-0){case 1:n.$data.phone=i;break;case 2:n.$data.code=i;break;case 3:n.$data.account=i;break;case 4:n.$data.password=i;break}""!=n.$data.phone&&""!=n.$data.code?n.$data.is_phone=!0:n.$data.is_phone=!1,""!=n.$data.account&&""!=n.$data.password?n.$data.is_account=!0:n.$data.is_account=!1}}};e.default=o}}]);