(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mall/detail"],{"2a7a":function(t,e,a){"use strict";a.r(e);var i=a("868e"),s=a("47d9f");for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);a("b1e8");var n=a("2877"),d=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=d.exports},"47d9f":function(t,e,a){"use strict";a.r(e);var i=a("d06f"),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=s.a},"868e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"goods-detail-box"},[0==t.index?a("block",[a("view",{staticClass:"goods-video-box"},[a("swiper",{staticStyle:{height:"100%"},attrs:{circular:"true",interval:"3000",duration:"500",autoplay:"true",eventid:"116aa858-0"},on:{change:t.bannerChangeListener}},t._l(t.detail.photos,function(t,e){return a("swiper-item",{key:e,attrs:{mpcomid:"116aa858-0-"+e}},[a("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t}})])})),a("view",{staticClass:"share-box",attrs:{eventid:"116aa858-1"},on:{click:t.shareListener}},[a("text",{staticClass:"iconfont icon-btn_share",staticStyle:{color:"#fff"}})]),a("button",{staticClass:"share-box",staticStyle:{background:"rgba(0,0,0,0)"},attrs:{"open-type":"share"}}),t.detail&&t.detail.photos&&t.detail.photos.length>0?a("view",{staticClass:"dot-bg"},[t._v(t._s(t.currIndex)+"/"+t._s(t.detail.photos?t.detail.photos.length:0))]):t._e()],1),a("view",{staticClass:"goods-info"},[a("view",{staticClass:"goods-name"},[t._v(t._s(t.detail.goods_name))]),a("view",{staticClass:"goods-price"},[a("text",{staticStyle:{color:"#ED3005","font-size":"16px"}},[t._v("¥")]),a("text",{staticStyle:{color:"#ED3005","font-size":"32px"}},[t._v(t._s(t.detail.shop_price))]),a("text",{staticClass:"added-price"},[t._v("+"+t._s(t.detail.integral))])]),a("view",{staticClass:"goods-desc"},[a("view",{staticClass:"item-desc"},[a("text",{staticStyle:{color:"#666666"}},[t._v("快递：")]),a("text",[t._v(t._s(t.detail&&0==t.detail.is_free_shipping?t.detail.shipping_price+"元":"包邮"))])]),a("view",{staticClass:"item-desc"},[a("text",{staticStyle:{color:"#666666"}},[t._v("还剩：")]),a("text",[t._v(t._s(t.detail&&t.detail.goods_num>=0?t.detail.goods_num:0))])]),a("view",{staticClass:"item-desc"},[a("text",{staticStyle:{color:"#666666"}},[t._v("已购买：")]),a("text",[t._v(t._s(t.detail.sales_sum))])])])]),a("view",{staticClass:"rule-box"},[a("view",{staticClass:"rule-tit"},[t._v("兑换规则")]),a("view",{staticClass:"rule-cont"},[a("rich-view",{attrs:{iDatas:t.detail.rule,mpcomid:"116aa858-1"}})],1)]),t._e(),t._e(),a("goodsDescribe",{attrs:{attr:t.detail.goods_attr,content:t.detail.goods_content,mpcomid:"116aa858-2"}}),a("view",{staticStyle:{width:"100%",height:"60px"}}),a("view",{staticClass:"bottom-info"},[a("view",{staticClass:"item-bottom-menu"},[a("view",{staticClass:"ib-menu",attrs:{eventid:"116aa858-2"},on:{click:t.toHomeListener}},[a("text",{staticClass:"iconfont icon-tabbar",staticStyle:{"font-size":"22px"}}),a("view",{staticStyle:{"font-size":"12px","margin-top":"5px"}},[t._v("首页")])]),a("view",{staticClass:"ib-menu",attrs:{eventid:"116aa858-3"},on:{click:t.toCallPhone}},[a("text",{staticClass:"iconfont icon-btn_call",staticStyle:{"font-size":"22px"}}),a("view",{staticStyle:{"font-size":"12px","margin-top":"5px"}},[t._v("客服")])])]),t.detail.goods_num>0?a("navigator",{staticClass:"item-bottom-menu",staticStyle:{color:"#fff","font-size":"18px",background:"#ED3005",flex:"1.5"},attrs:{url:"buy?goods_id="+t.goods_id}},[t._v("立即兑换")]):t._e(),0==t.detail.goods_num?a("view",{staticClass:"item-bottom-menu",staticStyle:{color:"#fff","font-size":"18px",background:"#999999",flex:"1.5"}},[t._v("库存不足")]):t._e()],1)],1):t._e(),a("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"116aa858-3"}}),a("ToastView",{attrs:{mpcomid:"116aa858-4"}})],1)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"8cd7":function(t,e,a){},b1e8:function(t,e,a){"use strict";var i=a("8cd7"),s=a.n(i);s.a},d06f:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("8972"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{userid:0,index:0,tabBars:[{name:"商品",id:"0"},{name:"评价",id:"1"},{name:"推荐",id:"2"}],tData:{type:1,pbottom:0,ptop:22,mtop:0,data:{icon:"icon_quan",title:"领取优惠券"}},goods_id:"",detail:{},currIndex:1,imgBaseUrl:"",customerNum:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},components:{goodsDescribe:i.default},onLoad:function(e){var a=this,i=t.getStorageSync("user_id");void 0!=i&&""!=i&&(a.$data.userid=i),void 0!=e.pid&&""!=e.pid&&t.setStorageSync("pid",e.pid),a.wxb.printLog("=============onLoad================"),a.wxb.addPage(this),a.wxb.Init(e,function(t){a.$data.customerNum=t.info.tel,void 0!=e.id&&(a.$data.goods_id=e.id,a.getGoodsDetail())})},onUnload:function(){this.wxb.printLog("=============onUnload================"),this.wxb.removePage()},onShareAppMessage:function(){var t=this;return{title:""==t.$data.companyName?"积分商城":t.$data.companyName,path:"/pages/mine/mall/detail?pid="+t.$data.userid+"&id="+t.$data.id}},methods:{toCallPhone:function(e){var a=this,i=a.$data.customerNum;""!=i?t.makePhoneCall({phoneNumber:i}):t.showToast({title:"请先配置"})},toHomeListener:function(e){t.reLaunch({url:"/pages/index/index"})},bannerChangeListener:function(t){this.$data.currIndex=t.detail.current+1},tapTab:function(t){this.$data.index=t,console.log("==========")},catchTouchMove:function(t){},getGoodsDetail:function(t){var e=this;e.wxb.Post("/shop/api.integral/detail",{goods_id:e.$data.goods_id},function(t){"baidu"==e.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:t.seo.title?"":t.seo.title,keywords:t.seo.keywords?"":t.seo.keywords,description:t.seo.description?"":t.seo.description,releaseDate:t.seo.releaseDate?"":t.seo.releaseDate,image:t.seo.image?"":t.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),e.$data.detail=t.detail})}}};e.default=o}).call(this,a("543d")["default"])},f3e1:function(t,e,a){"use strict";a("2346");var i=o(a("b0ce")),s=o(a("2a7a"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))}},[["f3e1","common/runtime","common/vendor"]]]);