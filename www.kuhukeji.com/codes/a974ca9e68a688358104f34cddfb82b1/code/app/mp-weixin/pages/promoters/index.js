(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/promoters/index"],{"1c11":function(t,a,s){"use strict";s.r(a);var e=s("4622"),i=s("5c87");for(var n in i)"default"!==n&&function(t){s.d(a,t,function(){return i[t]})}(n);s("6c58");var r=s("2877"),c=Object(r["a"])(i["default"],e["a"],e["b"],!1,null,null,null);a["default"]=c.exports},3048:function(t,a,s){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s={data:function(){return{userid:0,ratio:1,rate:0,data:{},imgBaseUrl:"",company_name:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(a){var s=this,e=t.getStorageSync("user_id");void 0!=e&&""!=e&&(s.$data.userid=e),void 0!=a.pid&&""!=a.pid&&t.setStorageSync("pid",a.pid),s.wxb.addPage(this),s.wxb.Init(a,function(t){s.$data.company_name=t.info.company_name,s.getPromotersInfo()})},onShareAppMessage:function(){return{title:"推广中心",path:"/pages/promoters/index?pid="+that.$data.userid}},onUnload:function(){this.wxb.removePage()},onReady:function(){var a=this;t.getSystemInfo({success:function(t){console.log(t),a.$data.ratio=750/t.windowWidth,a.initRateInfo()}})},methods:{getPromotersInfo:function(t){var a=this;a.wxb.Post("/shop/api.Agent/index",{},function(t){a.$data.data=t,a.$data.rate=10*(t.agent_rate-0),a.initRateInfo()})},initRateInfo:function(){var a=42,s="#FFAE19",e=t.createCanvasContext("rateCanvas");e.setLineWidth(6),e.setStrokeStyle("#d2d2d2"),e.setLineCap("round"),e.beginPath(),e.arc(a,a,a-4,0,2*Math.PI,!1),e.stroke(),e.setLineWidth(6),e.setStrokeStyle(s),e.setLineCap("round"),e.beginPath();var i=0==this.$data.rate?.7:.7+1.6*this.$data.rate/1e3;console.log(i),console.log(i.toFixed(1)*Math.PI),e.arc(a,a,a-4,.7*Math.PI,i.toFixed(1)*Math.PI,!1),e.stroke(),e.draw()}}};a.default=s}).call(this,s("543d")["default"])},4622:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("view",{staticClass:"promoters-box"},[s("view",{staticClass:"base-promoters"},[s("view",{staticClass:"p-info"},[s("image",{staticClass:"u-lt",attrs:{src:t.data.face?t.data.face:t.imgBaseUrl+"/mine/img_my_head@3x.png"}}),s("view",{staticClass:"u-mid"},[s("view",{staticClass:"name"},[t._v(t._s(t.data.nickname?t.data.nickname:"用户昵称"))]),s("navigator",{staticClass:"grade"},[s("image",{staticClass:"g-icon",attrs:{mode:"aspectFill",src:t.imgBaseUrl+"/mine/icon_promoters01@2x.png"}}),s("text",{staticClass:"g-name"},[t._v(t._s(t.data.agent_group_mean?t.data.agent_group_mean:"普通顾问"))]),s("text",{staticClass:"iconfont icon-btn_arrowr",staticStyle:{"margin-left":"8px",color:"#FFAE19","font-size":"12px"}})]),s("view",{staticStyle:{color:"#fff",opacity:"0.6","font-size":"14px","margin-top":"2px"}},[t._v(t._s(t.company_name))])],1),s("view",{staticClass:"u-rt"},[s("canvas",{staticClass:"cir",staticStyle:{width:"84px",height:"64px"},attrs:{"canvas-id":"rateCanvas"}}),s("navigator",{staticClass:"extract-cont",attrs:{url:"extract"}},[s("view",{staticClass:"e-num",staticStyle:{color:"#FFAE19"}},[t._v(t._s(t.data.agent_rate)+"%")]),s("view",{staticClass:"e-hint"},[t._v("提成率")])])],1)]),s("view",{staticClass:"rank-info"},[s("navigator",{staticClass:"r-lt",attrs:{url:"rank"}},[s("image",{staticClass:"r-icon",attrs:{src:t.imgBaseUrl+"/mine/icon_paiming@2x.png"}}),s("text",{staticClass:"r-num"},[t._v("第"+t._s(t.data.rank?t.data.rank:"1")+"名")]),s("text",{staticClass:"r-arrow iconfont icon-btn_arrowr",staticStyle:{color:"#888888"}})]),s("view",{staticClass:"r-rt"},[s("navigator",{attrs:{url:"promoCode"}},[s("text",[t._v("分享码")])])],1)],1)]),s("view",{staticClass:"score-info"},[s("view",{staticClass:"s-header"},[s("view",{staticClass:"h-tit"},[s("image",{staticClass:"icon-award",attrs:{src:t.imgBaseUrl+"/mine/icon_award@2x.png"}}),s("text",[t._v("我的战绩")])]),s("navigator",{attrs:{url:"score"}},[s("view",{staticClass:"h-detail"},[s("text",[t._v("查看明细")]),s("image",{staticClass:"arrow",attrs:{src:t.imgBaseUrl+"/mine/btn_arrowr_gray@2x.png"}})])])],1),s("view",{staticClass:"s-cont"},[s("view",{staticClass:"item-score"},[s("view",{staticClass:"s-num"},[t._v(t._s(t.data.allAgentMoney?t.data.allAgentMoney:"0"))]),s("view",{staticClass:"s-hint"},[t._v("累计收益(元)")])]),s("view",{staticClass:"item-score"},[s("view",{staticClass:"s-num"},[t._v(t._s(t.data.yesterday_register?t.data.yesterday_register:"0"))]),s("view",{staticClass:"s-hint"},[t._v("昨日拉新(人)")])]),s("view",{staticClass:"item-score"},[s("view",{staticClass:"s-num"},[t._v(t._s(t.data.history_agent_money?t.data.history_agent_money:"0"))]),s("view",{staticClass:"s-hint"},[t._v("昨日成交(单)")])])]),s("view",{staticClass:"s-money"},[s("view",{staticClass:"wd-num"},[s("text",[t._v("可提现金额：")]),s("text",{staticStyle:{color:"#000","font-size":"24px"}},[t._v("¥"+t._s(t.data.agent_money?t.data.agent_money:"0.00"))])]),s("navigator",{staticClass:"btn-wd",attrs:{url:"withdraw"}},[t._v("提现")])],1)]),s("view",{staticClass:"count-cont"},[s("view",{staticClass:"item-count"},[s("view",{staticClass:"cc-num"},[t._v(t._s(t.data.agent_num?t.data.agent_num:"0"))]),s("view",{staticClass:"cc-hint"},[t._v("累计客户")])]),s("view",{staticClass:"item-count"},[s("view",{staticClass:"cc-num"},[t._v(t._s(t.data.agent_register?t.data.agent_register:"0"))]),s("view",{staticClass:"cc-hint"},[t._v("累计拉新")])]),s("view",{staticClass:"item-count",staticStyle:{"border-right-width":"0"}},[s("view",{staticClass:"cc-num"},[t._v(t._s(t.data.agent_order?t.data.agent_order:"0"))]),s("view",{staticClass:"cc-hint"},[t._v("累计成交")])])]),s("LoadingView",{attrs:{img:t.imgBaseUrl+"/loading.gif",mpcomid:"5d0a4fe0-0"}}),s("ToastView",{attrs:{mpcomid:"5d0a4fe0-1"}})],1)},i=[];s.d(a,"a",function(){return e}),s.d(a,"b",function(){return i})},"4d74":function(t,a,s){"use strict";s("2346");var e=n(s("b0ce")),i=n(s("1c11"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(i.default))},"5c87":function(t,a,s){"use strict";s.r(a);var e=s("3048"),i=s.n(e);for(var n in e)"default"!==n&&function(t){s.d(a,t,function(){return e[t]})}(n);a["default"]=i.a},"6c58":function(t,a,s){"use strict";var e=s("ac5e"),i=s.n(e);i.a},ac5e:function(t,a,s){}},[["4d74","common/runtime","common/vendor"]]]);