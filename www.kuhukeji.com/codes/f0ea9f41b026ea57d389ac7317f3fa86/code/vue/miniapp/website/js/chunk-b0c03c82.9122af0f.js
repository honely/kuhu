(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0c03c82"],{"50eb":function(t,e,i){"use strict";var n=i("7060"),l=i.n(n);l.a},7060:function(t,e,i){},b6a2:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("top-nav",{attrs:{title:"万能表单",select:0}}),i("div",{staticClass:"wyu-main"},[i("el-container",[i("el-container",[i("el-main",[i("div",{staticClass:"wyu-block",staticStyle:{display:"inline-block",width:"100%"}},[i("div",{staticClass:"wyu-title",staticStyle:{"margin-bottom":"0"}},[i("h2",[t._v("表单组件")])]),i("el-form",{staticStyle:{padding:"0",width:"500px"},attrs:{"label-width":"120px",size:"mini"}},[i("el-form-item",{attrs:{label:"表单"}},[i("el-input",{model:{value:t.setting.title,callback:function(e){t.$set(t.setting,"title",e)},expression:"setting.title"}})],1),i("el-form-item",{attrs:{label:"表单背景颜色"}},[i("el-color-picker",{model:{value:t.setting.bgColor,callback:function(e){t.$set(t.setting,"bgColor",e)},expression:"setting.bgColor"}})],1),i("el-form-item",{attrs:{label:"表单图片"}},[i("img-uploads",{attrs:{img:t.setting.bgImg},model:{value:t.setting.bgImg,callback:function(e){t.$set(t.setting,"bgImg",e)},expression:"setting.bgImg"}})],1),i("el-form-item",{attrs:{label:"提交按钮颜色"}},[i("el-color-picker",{model:{value:t.setting.btn.bgColor,callback:function(e){t.$set(t.setting.btn,"bgColor",e)},expression:"setting.btn.bgColor"}})],1),i("el-form-item",{attrs:{label:"提交按钮文字"}},[i("el-input",{model:{value:t.setting.btn.text,callback:function(e){t.$set(t.setting.btn,"text",e)},expression:"setting.btn.text"}})],1),i("el-form-item",{attrs:{label:"提交按钮文字颜色"}},[i("el-color-picker",{model:{value:t.setting.btn.color,callback:function(e){t.$set(t.setting.btn,"color",e)},expression:"setting.btn.color"}})],1)],1),i("ul",{staticClass:"booking-plugin"},[i("li",{on:{click:function(e){return t.addForm("input","单行文本")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("单行文本")])]),i("li",{on:{click:function(e){return t.addForm("text","多行文本")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("多行文本")])]),i("li",{on:{click:function(e){return t.addForm("select","下拉菜单")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("下拉菜单")])]),i("li",{on:{click:function(e){return t.addForm("checkbox","多选按钮")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("多选按钮")])]),i("li",{on:{click:function(e){return t.addForm("radio","单选按钮")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("单选按钮")])]),i("li",{on:{click:function(e){return t.addForm("date","选择日期")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("选择日期")])]),i("li",{on:{click:function(e){return t.addForm("time","时间范围")}}},[i("img",{attrs:{src:"https://console.100cms.com/images/plugin/input1_2.png"}}),i("p",[t._v("时间范围")])])])],1),i("div",{staticClass:"wyu-block",staticStyle:{height:"560px","margin-top":"20px"}},[i("div",{staticClass:"wyu-title"},[i("h2",[t._v("表单编辑")])]),i("el-table-draggable",[i("el-table",{staticStyle:{width:"100%"},attrs:{element:"el-table",data:t.setting.formContent,border:"","row-key":"index",height:"450"}},[i("el-table-column",{attrs:{prop:"name",label:"类型",width:"100",draggable:!0}}),i("el-table-column",{attrs:{label:"必填",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.row.must,callback:function(i){t.$set(e.row,"must",i)},expression:"scope.row.must"}})]}}])}),i("el-table-column",{attrs:{label:"提示语",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{attrs:{size:"small"},model:{value:e.row.placeholder,callback:function(i){t.$set(e.row,"placeholder",i)},expression:"scope.row.placeholder"}})]}}])}),i("el-table-column",{attrs:{label:"选项",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.checkOpt(e.row.type)?i("div",[t._l(e.row.opt,function(n){return i("el-tag",{key:n,attrs:{size:"small",closable:"","disable-transitions":!1},on:{close:function(i){return t.handleClose(e,n)}}},[t._v("\n                                                "+t._s(n)+"\n                                            ")])}),i("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.row.isOpt,callback:function(i){t.$set(e.row,"isOpt",i)},expression:"scope.row.isOpt"}},[i("p",[i("el-input",{model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),i("br"),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.isOpt=!1}}},[t._v("\n                                                        取消\n                                                    ")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.addOpt(e)}}},[t._v("确定\n                                                    ")])],1),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("添加\n                                                ")])],1)],2):i("el-tag",{attrs:{type:"info"}},[t._v("无选项可设置")])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-rank booking-plugin-tool "}),i("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.row.isDelete,callback:function(i){t.$set(e.row,"isDelete",i)},expression:"scope.row.isDelete"}},[i("p",[t._v("确定删除吗？")]),i("br"),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.isDelete=!1}}},[t._v("\n                                                    取消\n                                                ")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.delTool(e)}}},[t._v("确定\n                                                ")])],1),i("i",{staticClass:"el-icon-delete booking-plugin-tool",attrs:{slot:"reference"},slot:"reference"})])]}}])})],1)],1)],1)])],1),i("el-aside",{attrs:{width:"395px"}},[i("div",{staticClass:"wyu-block",staticStyle:{height:"100%"}},[i("div",{staticClass:"wyu-title"},[i("h2",[t._v("表单预览"),i("span",{staticStyle:{display:"inline-block",float:"right",color:"#8a8a8a"}},[i("i",{staticClass:"el-icon-warning"}),t._v("具体请以手机端详情为主")])])]),i("div",{style:"width: 375px; border: 1px solid #E4E7ED; padding: 15px; max-height: 670px;overflow-y: auto;background:"+t.setting.bgColor},[i("booking-form",{attrs:{value:t.setting}})],1)])])],1)],1),i("div",{staticClass:"wyu-btn-div"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.create}},[t._v("立即创建")]),i("router-link",{staticStyle:{color:"#ffffff","margin-left":"20px"},attrs:{to:"/booking/index"}},[i("el-button",{attrs:{size:"small"}},[t._v("取消")])],1)],1)],1)},l=[],o=(i("a481"),i("f499")),s=i.n(o),a=i("5200"),r=i("d722"),c=i("d044"),u=i("5fed"),p=i("f0e7"),g=i("1980"),d=i.n(g),m=i("8914"),b={name:"bookingCreate",components:{draggable:d.a,BookingForm:p["a"],ImgUploads:u["a"],ElTableDraggable:m["a"],ElColorPickerDropdown:c["a"],TopNav:a["a"]},data:function(){return{editOpt:["radio","select","checkbox"],dialogFormVisible:!0,setting:{btn:{color:"",text:"提交表单",bgColor:""},bgColor:"",bgImg:"",titleImg:"",title:"",formContent:[]},dynamicTags:["标签一","标签二","标签三"],inputVisible:!1,inputValue:""}},created:function(){},methods:{drag:function(){var t=document.querySelector(".el-table__body-wrapper tbody"),e=this;Sortable.create(t,{onEnd:function(t){var i=t.newIndex,n=t.oldIndex,l=e.setting.formContent.splice(n,1)[0];e.setting.formContent.splice(i,0,l)}})},addForm:function(t,e){this.setting.formContent.push({type:t,placeholder:e,must:1,opt:[],subvalue:"",name:e})},delTool:function(t){this.setting.formContent.splice(t.$index,1)},addOpt:function(t){var e=this.inputValue;e&&t.row.opt.push(this.inputValue),t.row.isOpt=!1,this.inputValue=""},checkOpt:function(t){return this.editOpt.indexOf(t)>=0},handleClose:function(t,e){var i=t.row.opt;i.splice(i.indexOf(e),1)},create:function(){var t=this;this.loading=!0,r["a"]("/website/admin.bookingform/create",{appToken:this.$store.getters.appToken,title:this.setting.title,details:s()(this.setting)}).then(function(e){t.loading=!1,t.$message({message:"恭喜你，操作成功",type:"success"}),t.$router.replace("/booking/index")}).catch(function(e){t.loading=!1})}}},f=b,h=(i("50eb"),i("2877")),v=Object(h["a"])(f,n,l,!1,null,"25647c70",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-b0c03c82.9122af0f.js.map