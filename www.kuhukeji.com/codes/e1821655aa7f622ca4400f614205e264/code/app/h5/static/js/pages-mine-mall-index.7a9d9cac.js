(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-mall-index"],{"6d93":function(i,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{userid:0,selectColor:"#ED3005",cat:[],list:[],userInfo:"",cat_id:"-1",page:1,more:0,imgBaseUrl:""}},created:function(){this.$data.imgBaseUrl=this.wxb.imgBaseUrl},onLoad:function(i){var t=this,a=uni.getStorageSync("user_id");void 0!=a&&""!=a&&(t.$data.userid=a),void 0!=i.pid&&""!=i.pid&&uni.setStorageSync("pid",i.pid),t.wxb.printLog("=============onLoad================"),t.wxb.addPage(this),t.wxb.Init(i,function(i){t.getMallInfo()})},onUnload:function(){this.wxb.removePage()},onShareAppMessage:function(){var i=this;return{title:""==i.$data.companyName?"积分商城":i.$data.companyName,path:"/pages/mine/mall/index?pid="+i.$data.userid}},methods:{getMallInfo:function(i){var t=this,a=t.$data.page,e=t.$data.list;1==a&&(e=[]),t.wxb.Post("/shop/api.integral/index",{cat_id:t.$data.cat_id,page:t.$data.page},function(i){for(var a in"baidu"==t.wxb.device&&swan.setPageInfo&&swan.setPageInfo({title:i.seo.title?"":i.seo.title,keywords:i.seo.keywords?"":i.seo.keywords,description:i.seo.description?"":i.seo.description,releaseDate:i.seo.releaseDate?"":i.seo.releaseDate,image:i.seo.image?"":i.seo.image,success:function(){console.log("百度SEO信息设置完成")}}),i.list)e.push(i.list[a]);t.$data.list=e,t.$data.userInfo=i.user,t.$data.more=i.isMore;var s=[];for(var n in s.push({cat_id:"-1",name:"全部",is_hot:0}),s.push({cat_id:"0",name:"推荐",is_hot:0}),i.cat)s.push(i.cat[n]);console.log(s),t.$data.cat=s,console.log(t.$data.cat)})},tabClickListener:function(i){var t=this.$data.cat;this.$data.cat_id=t[i].cat_id,this.$data.page=1,this.getMallInfo()}}};t.default=e},"757c":function(i,t,a){"use strict";var e=a("e018"),s=a.n(e);s.a},"8fdc":function(i,t,a){"use strict";a.r(t);var e=a("6d93"),s=a.n(e);for(var n in e)"default"!==n&&function(i){a.d(t,i,function(){return e[i]})}(n);t["default"]=s.a},9125:function(i,t,a){"use strict";var e=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("v-uni-view",{staticClass:"mall-box"},[i.userInfo?a("v-uni-view",[a("v-uni-view",{staticClass:"base-info"},[a("v-uni-image",{staticClass:"b-face",attrs:{src:i.userInfo.face}}),a("v-uni-view",{staticClass:"b-mid"},[a("v-uni-view",{staticClass:"bm-tit"},[i._v(i._s(i.userInfo.nickname))]),a("v-uni-view",{staticClass:"bm-num"},[a("v-uni-text",{staticClass:"iconfont icon-"}),a("v-uni-text",{staticClass:"num"},[i._v(i._s(i.userInfo.integral))])],1)],1),a("v-uni-navigator",{staticClass:"b-record",staticStyle:{height:"40px"},attrs:{url:"./order/index"}},[i._v("兑换记录")])],1),a("v-uni-view",{staticStyle:{background:"#fff","margin-top":"12px"}},[a("tab-view",{attrs:{tabBars:i.cat,color:i.selectColor,type:1},on:{tapTab:function(t){t=i.$handleEvent(t),i.tabClickListener(t)}}})],1),a("v-uni-view",{staticClass:"goods-list"},i._l(i.list,function(t,e){return a("v-uni-view",{key:e,staticClass:"item-goods",style:"padding-right:"+(e%2==0?"2px":"0px")+";padding-left:"+(e%2==1?"2px":"0px")+";"},[a("v-uni-navigator",{attrs:{url:"detail?id="+t.goods_id}},[a("v-uni-view",{staticClass:"g-cont"},[a("v-uni-view",{staticClass:"thumb-img"},[a("v-uni-image",{staticClass:"img",attrs:{src:t.photo}}),a("v-uni-text",{staticClass:"g-num"},[i._v("剩余"+i._s(t.goods_num))])],1),a("v-uni-view",{staticClass:"desc-info"},[a("v-uni-view",{staticClass:"g-name ellipsis-02"},[i._v(i._s(t.goods_name))]),a("v-uni-view",{staticClass:"g-price"},[a("v-uni-view",{staticClass:"gp-detail"},[a("v-uni-view",{staticClass:"coin-num"},[a("v-uni-image",{staticStyle:{width:"16px",height:"16px"},attrs:{src:i.imgBaseUrl+"/mine/icon_integral@3x.png"}}),a("v-uni-text",[i._v(i._s(t.integral))])],1),a("v-uni-text",{staticClass:"money-num"},[i._v("+"+i._s(t.shop_price))])],1),a("v-uni-view",{staticClass:"gp-exchange"},[i._v("兑换")])],1)],1)],1)],1)],1)}),1),1==i.more?a("v-uni-view",{staticClass:"more",staticStyle:{"border-bottom-width":"0"},on:{click:function(t){t=i.$handleEvent(t),i.getPinTuanList(t)}}},[i._v("点击查看更多")]):i._e(),0==i.more?a("v-uni-view",{staticClass:"nodata",staticStyle:{"border-bottom-width":"0"}},[i._v("已经全部为你呈现了")]):i._e()],1):i._e(),a("LoadingView",{attrs:{img:i.imgBaseUrl+"/loading.gif"}}),a("ToastView")],1)},s=[];a.d(t,"a",function(){return e}),a.d(t,"b",function(){return s})},a681:function(i,t,a){"use strict";a.r(t);var e=a("9125"),s=a("8fdc");for(var n in s)"default"!==n&&function(i){a.d(t,i,function(){return s[i]})}(n);a("757c");var o=a("2877"),d=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"2fa8421a",null);t["default"]=d.exports},a7b0:function(i,t,a){t=i.exports=a("2350")(!1),t.push([i.i,".mall-box[data-v-2fa8421a]{position:absolute;top:0;bottom:0;left:0;right:0;background:#f2f2f2;overflow-y:scroll}.mall-box .base-info[data-v-2fa8421a]{width:100%;height:80px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 15px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background:#fff}.mall-box .base-info .b-face[data-v-2fa8421a]{width:50px;height:50px;border-radius:25px}.mall-box .base-info .b-mid[data-v-2fa8421a]{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:0 15px;display:block}.b-mid .bm-tit[data-v-2fa8421a]{color:#43494d;font-size:16px}.b-mid .bm-num[data-v-2fa8421a]{margin-top:6px}.b-mid .bm-num .num[data-v-2fa8421a]{color:#ed3005;font-size:16px;margin-left:4px}.mall-box .base-info .b-record[data-v-2fa8421a]{height:40px;line-height:40px;border-radius:20px;padding:0 18px;border:1px solid #ed3005;color:#ed3005;font-size:16px}.goods-list[data-v-2fa8421a]{width:100%;display:table;padding:2px 0}.goods-list .item-goods[data-v-2fa8421a]{width:50%;display:block;float:left;padding:2px 0}.goods-list .item-goods .g-cont[data-v-2fa8421a]{width:100%;display:block;background:#fff}.item-goods .g-cont .thumb-img[data-v-2fa8421a]{width:100%;height:186px;position:relative}.item-goods .g-cont .thumb-img .g-num[data-v-2fa8421a]{height:24px;line-height:24px;position:absolute;top:0;right:0;color:#fff;font-size:12px;border-bottom-left-radius:8px;background:#000;opacity:.5;padding:0 10px}.item-goods .g-cont .thumb-img .img[data-v-2fa8421a]{width:100%;height:100%}.item-goods .g-cont .desc-info[data-v-2fa8421a]{width:100%;padding:12px 15px 16px 15px;display:block}.desc-info .g-name[data-v-2fa8421a]{width:100%;height:40px;line-height:20px;font-size:16px;color:#333;line-height:18px}.desc-info .g-price[data-v-2fa8421a]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:10px}.desc-info .g-price .gp-detail[data-v-2fa8421a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block}.desc-info .g-price .gp-detail .money-num[data-v-2fa8421a]{border:1px solid #ed3005;padding:0 4px;margin-top:3px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:#ed3005;font-size:14px}.desc-info .g-price .gp-detail .coin-num[data-v-2fa8421a]{color:#ed3005;font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.desc-info .g-price .gp-exchange[data-v-2fa8421a]{height:40px;line-height:40px;color:#fff;font-size:16px;background:#ed3005;padding:0 12px;border-radius:4px}",""])},e018:function(i,t,a){var e=a("a7b0");"string"===typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);var s=a("4f06").default;s("52cbf6fd",e,!0,{sourceMap:!1,shadowMode:!1})}}]);