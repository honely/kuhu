(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e6780d0"],{"2f21":function(e,t,o){"use strict";var s=o("79e5");e.exports=function(e,t){return!!e&&s(function(){t?e.call(null,function(){},1):e.call(null)})}},"48c4":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("TopNav",{attrs:{title:"添加产品"}}),o("div",{staticClass:"wyu-main"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wyu-block"},[1==e.active?o("el-form",{ref:"goodsInfo",attrs:{rules:e.rules,model:e.goodsDetail,size:"mini","label-width":"100px"}},[o("div",{staticClass:"wyu-title"},[o("h2",[e._v("基本信息")])]),o("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.goods_name,callback:function(t){e.$set(e.goodsDetail,"goods_name",t)},expression:"goodsDetail.goods_name"}})],1),o("el-form-item",{attrs:{label:"商品编号",prop:"goods_sn"}},[o("el-input",{staticStyle:{width:"500px"},attrs:{disabled:""},model:{value:e.goodsDetail.goods_sn,callback:function(t){e.$set(e.goodsDetail,"goods_sn",t)},expression:"goodsDetail.goods_sn"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("不填写自动生成")])],1),o("el-form-item",{attrs:{label:"商品分类",prop:"cat_id"}},[o("product-category",{attrs:{"cat-id":e.goodsDetail.cat_id,"p-cat-id":e.goodsDetail.p_cat_id},on:{selCat:e.getCatId}})],1),o("el-form-item",{attrs:{label:"商品缩略图",prop:"photo"}},[o("img-uploads",{attrs:{img:e.goodsDetail.photo,w:100,h:"100"},model:{value:e.goodsDetail.photo,callback:function(t){e.$set(e.goodsDetail,"photo",t)},expression:"goodsDetail.photo"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("建议尺寸 120 X 120")])],1),o("el-form-item",{attrs:{label:"商品关键词"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.keywords,callback:function(t){e.$set(e.goodsDetail,"keywords",t)},expression:"goodsDetail.keywords"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("搜索的重要 组成部分 最好以 “,” 隔开")])],1),o("div",{staticClass:"wyu-title"},[o("h2",[e._v("扩展信息")])]),o("el-form-item",{attrs:{label:"上/下架"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.goodsDetail.is_online,callback:function(t){e.$set(e.goodsDetail,"is_online",t)},expression:"goodsDetail.is_online"}})],1),o("el-form-item",{attrs:{label:"商品已售"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.sales_sum,callback:function(t){e.$set(e.goodsDetail,"sales_sum",t)},expression:"goodsDetail.sales_sum"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("用于 已售展示数量")])],1),o("el-form-item",{attrs:{label:"商品排序"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.orderby,callback:function(t){e.$set(e.goodsDetail,"orderby",t)},expression:"goodsDetail.orderby"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("数字越大越靠前")])],1),o("el-form-item",{attrs:{label:"商品浏览"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.views,callback:function(t){e.$set(e.goodsDetail,"views",t)},expression:"goodsDetail.views"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("数字越大越靠前")])],1),o("el-form-item",{attrs:{label:"商品推荐"}},[o("el-checkbox-button",{attrs:{label:"是否推荐","true-label":1,"false-label":0},model:{value:e.goodsDetail.is_recommend,callback:function(t){e.$set(e.goodsDetail,"is_recommend",t)},expression:"goodsDetail.is_recommend"}}),o("el-checkbox-button",{attrs:{label:"是否新品","true-label":1,"false-label":0},model:{value:e.goodsDetail.is_new,callback:function(t){e.$set(e.goodsDetail,"is_new",t)},expression:"goodsDetail.is_new"}}),o("el-checkbox-button",{attrs:{label:"是否热卖","true-label":1,"false-label":0},model:{value:e.goodsDetail.is_hot,callback:function(t){e.$set(e.goodsDetail,"is_hot",t)},expression:"goodsDetail.is_hot"}})],1),o("div",{staticClass:"wyu-title"},[o("h2",[e._v("SEO信息")])]),o("el-form-item",{attrs:{label:"百度SEO标题","label-width":"120px"}},[o("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off"},model:{value:e.goodsDetail.seo.title,callback:function(t){e.$set(e.goodsDetail.seo,"title",t)},expression:"goodsDetail.seo.title"}})],1),o("el-form-item",{attrs:{label:"百度SEO描述","label-width":"120px"}},[o("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.keywords,callback:function(t){e.$set(e.goodsDetail.seo,"keywords",t)},expression:"goodsDetail.seo.keywords"}})],1),o("el-form-item",{attrs:{label:"百度SEO关键词","label-width":"120px"}},[o("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.description,callback:function(t){e.$set(e.goodsDetail.seo,"description",t)},expression:"goodsDetail.seo.description"}})],1),o("el-form-item",{attrs:{label:"百度SEO原始发布时间","label-width":"120px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.goodsDetail.seo.releaseDate,callback:function(t){e.$set(e.goodsDetail.seo,"releaseDate",t)},expression:"goodsDetail.seo.releaseDate"}})],1),o("el-form-item",{attrs:{label:"百度封面图片","label-width":"120px"}},[o("img-uploads",{attrs:{multi:!0,img:e.goodsDetail.seo.image},model:{value:e.goodsDetail.seo.image,callback:function(t){e.$set(e.goodsDetail.seo,"image",t)},expression:"goodsDetail.seo.image"}}),o("p",{staticClass:"tit"},[e._v(" 用于信息流投放后的封面显示，最多3张，单图片最大2M；封面图建议尺寸：高>=210px 宽>=375px;最小尺寸: 高>=146px 宽>=218px")])],1),o("div",{staticClass:"wyu-title"},[o("h2",[e._v("商品物流")])]),o("el-form-item",{attrs:{label:"是否包邮"}},[o("el-radio-group",{attrs:{size:"mini"},model:{value:e.goodsDetail.is_free_shipping,callback:function(t){e.$set(e.goodsDetail,"is_free_shipping",t)},expression:"goodsDetail.is_free_shipping"}},[o("el-radio",{attrs:{label:1}},[e._v("包邮")]),o("el-radio",{attrs:{label:0}},[e._v("不包邮")])],1)],1),0==e.goodsDetail.is_free_shipping?o("el-form-item",{attrs:{label:"运费模板",prop:"freight_template_id"}},[o("select-freight",{attrs:{"template-id":e.goodsDetail.freight_template_id},model:{value:e.goodsDetail.freight_template_id,callback:function(t){e.$set(e.goodsDetail,"freight_template_id",t)},expression:"goodsDetail.freight_template_id"}})],1):e._e(),0==e.goodsDetail.is_free_shipping?o("el-form-item",{attrs:{label:"重量",prop:"weight"}},[o("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.weight,callback:function(t){e.$set(e.goodsDetail,"weight",t)},expression:"goodsDetail.weight"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("商品重量：单位 克")])],1):e._e(),o("div",{staticClass:"wyu-title"},[o("h2",[e._v("商品详情")])]),o("el-form-item",{attrs:{label:"商品相册",prop:"photos"}},[o("img-uploads",{attrs:{multi:!0,img:e.goodsDetail.photos,w:100,h:100},model:{value:e.goodsDetail.photos,callback:function(t){e.$set(e.goodsDetail,"photos",t)},expression:"goodsDetail.photos"}}),o("p",{staticClass:"wyu-form-tips"},[e._v("建议尺寸 375 X 375")])],1),o("el-form-item",{attrs:{label:"商品详情",prop:"goods_content"}},[o("html-editor",{attrs:{html:e.goodsDetail.goods_content,title:"商品详情"},model:{value:e.goodsDetail.goods_content,callback:function(t){e.$set(e.goodsDetail,"goods_content",t)},expression:"goodsDetail.goods_content"}})],1)],1):e._e()],1)]),o("div",{staticClass:"wyu-btn-div"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.createGoods()}}},[e._v("提交修改")]),o("router-link",{staticStyle:{"margin-left":"10px"},attrs:{to:"/product/product/index"}},[o("el-button",{attrs:{size:"small"}},[e._v("取消")])],1)],1)],1)},i=[],a=(o("55dd"),o("f499")),l=o.n(a),d=o("5200"),r=o("d722"),n=o("5fed"),g=o("9556"),c=o("0c7a"),p=o("12d9"),m={name:"GoodsEdit",components:{SelectFreight:p["a"],ProductCategory:c["a"],HtmlEditor:g["a"],ImgUploads:n["a"],TopNav:d["a"]},data:function(){var e=this,t=function(e,t,o){t<=0&&o(new Error("请选择二级分类")),o()},o=function(t,o,s){0==e.goodsDetail.is_free_shipping&&o<=0&&s(new Error("请选择物流")),s()},s=function(t,o,s){0==e.goodsDetail.is_free_shipping&&o<=0&&s(new Error("请输入商品重量单位克")),s()};return{loading:!1,active:1,typeId:0,goodsDetail:{cat_id:0,p_cat_id:0,goods_sn:"",goods_name:"",brand_id:0,goods_num:0,comment_count:0,weight:0,market_price:0,shop_price:0,keywords:"",goods_content:[],photo:"",photos:[],is_online:1,is_free_shipping:1,sort:0,is_recommend:0,is_new:0,is_hot:0,sales_sum:0,views:0,orderby:0,freight_template_id:0,seo:{title:"",keywords:"",description:"",releaseDate:"",image:[]}},rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"}],freight_template_id:[{validator:o,trigger:"change"}],weight:[{validator:s,trigger:"change"}],cat_id:[{validator:t,trigger:"change"}],photo:[{required:!0,message:"请上传缩略图",trigger:"blur"}],photos:[{type:"array",required:!0,message:"至少上传一张相册",trigger:"blur"}],goods_content:[{type:"array",required:!0,message:"请编辑详情",trigger:"blur"}]}}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.loading=!0,r["a"]("/shop/admin.goods.goods/detail",{appToken:this.$store.getters.appToken,goods_id:this.$route.params.id}).then(function(t){e.loading=!1,e.goodsDetail=t.detail}).catch(function(){e.loading=!1})},getCatId:function(e){this.goodsDetail.p_cat_id=+e.p_cat_id,this.goodsDetail.cat_id=+e.cat_id},createGoods:function(){var e=this;this.loading=!0,r["a"]("/shop/admin.goods.goods/edit",{appToken:this.$store.getters.appToken,goods_id:this.$route.params.id,cat_id:this.goodsDetail.cat_id,p_cat_id:this.goodsDetail.p_cat_id,goods_sn:this.goodsDetail.goods_sn,goods_name:this.goodsDetail.goods_name,comment_count:this.goodsDetail.comment_count,keywords:this.goodsDetail.keywords,goods_content:l()(this.goodsDetail.goods_content),photo:this.goodsDetail.photo,photos:l()(this.goodsDetail.photos),is_online:this.goodsDetail.is_online,is_free_shipping:this.goodsDetail.is_free_shipping,sort:this.goodsDetail.sort,is_recommend:this.goodsDetail.is_recommend,is_new:this.goodsDetail.is_new,is_hot:this.goodsDetail.is_hot,orderby:this.goodsDetail.orderby,views:this.goodsDetail.views,sales_sum:this.goodsDetail.sales_sum,freight_template_id:this.goodsDetail.freight_template_id,seo:l()(this.goodsDetail.seo)}).then(function(){e.loading=!1,e.$message({message:"编辑成功",type:"success"})}).catch(function(){e.loading=!1})}}},u=m,_=o("2877"),h=Object(_["a"])(u,s,i,!1,null,null,null);t["default"]=h.exports},"55dd":function(e,t,o){"use strict";var s=o("5ca1"),i=o("d8e8"),a=o("4bf8"),l=o("79e5"),d=[].sort,r=[1,2,3];s(s.P+s.F*(l(function(){r.sort(void 0)})||!l(function(){r.sort(null)})||!o("2f21")(d)),"Array",{sort:function(e){return void 0===e?d.call(a(this)):d.call(a(this),i(e))}})}}]);
//# sourceMappingURL=chunk-5e6780d0.ba898384.js.map