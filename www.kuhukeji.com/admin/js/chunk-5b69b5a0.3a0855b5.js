(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b69b5a0"],{5200:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wyu-top"},[o("div",{staticClass:"wyu-header"},[t.title?t._e():o("div",{staticClass:"wyu-tab"},[o("ul",t._l(t.showMenu,function(e,a){return o("li",{key:a,class:a==t.select?"on":""},[o("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?o("div",{staticClass:"wyu-tab"},[o("ul",[o("li",[t._v(t._s(t.title))])])]):t._e(),o("div",{staticClass:"wyu-header-status"},[o("div",{staticClass:"message"},[o("a",{attrs:{target:"_blank",href:t.url}},[o("i",{staticClass:"iconfont icon-gongdan"}),t._v("  售后工单")])]),o("div",{staticClass:"login-info"},[o("img",{attrs:{src:a("741c")}}),o("el-dropdown",{staticStyle:{cursor:"pointer"}},[o("span",{staticClass:"el-dropdown-link"},[t._v("\n                        欢迎您   "+t._s(t.$store.getters.adminInfo.info.username)+"  "),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1)],1)])])])},i=[],n=(a("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{url:"",showMenu:[],menu:{sms:[{title:"短信设置",link:"/setting/sms/index"},{title:"模版管理",link:"/setting/sms/template"}]}}},methods:{logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}},created:function(){var t="https://www.woyaou.com/home/passport/worklogin.html?account_id="+this.$store.getters.adminInfo.account.account_id+"&account_t="+this.$store.getters.adminInfo.account.account_t+"&sign="+this.$store.getters.adminInfo.account.account_sign;this.url=t,this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]}}),s=n,l=a("2877"),r=Object(l["a"])(s,o,i,!1,null,"70844250",null);e["a"]=r.exports},"6ff8":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-nav",{attrs:{title:"角色管理"}}),t._m(0),a("div",{staticClass:"wyu-main"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[a("el-form",{staticClass:"search-form",attrs:{"label-width":"80px",size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{model:{value:t.searchForm.role_name,callback:function(e){t.$set(t.searchForm,"role_name",e)},expression:"searchForm.role_name"}})],1),a("div",{staticStyle:{"padding-left":"80px"}},[a("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getRoleList(1)}}},[t._v("搜索")]),a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.searchForm.role_name=""}}},[t._v("取消搜索")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.createRole(!1)}}},[t._v("新增角色")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas.list}},[a("el-table-column",{attrs:{prop:"role_id",label:"角色ID"}}),a("el-table-column",{attrs:{prop:"role_name",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.editRole(e.row)}}},[t._v("编辑")]),a("el-popover",{staticStyle:{margin:"0 10px"},attrs:{placement:"top",width:"160"},model:{value:e.row.is_delete,callback:function(a){t.$set(e.row,"is_delete",a)},expression:"scope.row.is_delete"}},[a("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(t){e.row.is_delete=!1}}},[t._v("取消\n                                ")]),a("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(a){return t.deleteRole(e.row)}}},[t._v("确定\n                                ")])],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),a("div",{staticClass:"page"},[a("div",{staticClass:"page-mian"},[a("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getRoleList}})],1)])],1)]),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.subLoading,expression:"subLoading"}],attrs:{title:"角色",visible:t.dialog,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(e){t.dialog=e}}},[a("el-form",{staticStyle:{padding:"0"},attrs:{model:t.form,size:"small"}},[a("el-form-item",{attrs:{label:"角色名称","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.role_name,callback:function(e){t.$set(t.form,"role_name",e)},expression:"form.role_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.createRole(!0)}}},[t._v("确 定")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-tips wyu-tips-warning"},[a("p",[t._v("系统中用户的操作权限是通过角色来控制，角色可以理解为具备一定操作权限的用户组。")])])}],n=a("5200"),s=a("d722"),l={name:"adminRole",components:{TopNav:n["a"]},data:function(){return{subLoading:!1,loading:!1,datas:[],dialog:!1,form:{role_name:""},searchForm:{role_name:""},roleId:0}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,s["a"]("/admin/admin.role/index",{token:this.$store.getters.adminToken,page:e,role_name:this.searchForm.role_name}).then(function(e){t.datas=e,t.loading=!1}).catch(function(e){t.loading=!1})},createRole:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0==e)this.dialog=!0,this.form.role_name="",this.roleId=0;else{this.subLoading=!0;var a="/admin/admin.role/create";this.roleId>0&&(a="/admin/admin.role/edit"),s["a"](a,{token:this.$store.getters.adminToken,role_name:this.form.role_name,role_id:this.roleId}).then(function(e){t.form.role_name="",t.subLoading=!1,t.dialog=!1,t.$message({message:"恭喜你，操作成功",type:"success"}),t.getRoleList()}).catch(function(e){t.subLoading=!1,t.dialog=!1})}},deleteRole:function(t){var e=this;this.loading=!0,s["a"]("/admin/admin.role/delete",{token:this.$store.getters.adminToken,role_id:t.role_id}).then(function(t){e.loading=!1,e.$message({message:"恭喜你，操作成功",type:"success"}),e.getRoleList()}).catch(function(t){e.loading=!1})},editRole:function(t){this.dialog=!0,this.form.role_name=t.role_name,this.roleId=t.role_id}}},r=l,c=a("2877"),d=Object(c["a"])(r,o,i,!1,null,null,null);e["default"]=d.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-5b69b5a0.3a0855b5.js.map