(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-485f3ea5"],{5200:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wyu-top"},[a("div",{staticClass:"wyu-header"},[t.title?t._e():a("div",{staticClass:"wyu-tab"},[a("ul",t._l(t.showMenu,function(e,i){return a("li",{key:i,class:i==t.select?"on":""},[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?a("div",{staticClass:"wyu-tab"},[a("ul",[a("li",[t._v(t._s(t.title))])])]):t._e(),a("div",{staticClass:"wyu-header-status"},[a("div",{staticClass:"message"},[a("a",{attrs:{target:"_blank",href:t.url}},[a("i",{staticClass:"iconfont icon-gongdan"}),t._v("  售后工单")])]),a("div",{staticClass:"login-info"},[a("img",{attrs:{src:i("741c")}}),a("el-dropdown",{staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                        欢迎您   "+t._s(t.$store.getters.adminInfo.info.username)+"  "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1)],1)])])])},n=[],s=(i("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{url:"",showMenu:[],menu:{sms:[{title:"短信设置",link:"/setting/sms/index"},{title:"模版管理",link:"/setting/sms/template"}]}}},methods:{logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}},created:function(){var t="https://www.woyaou.com/home/passport/worklogin.html?account_id="+this.$store.getters.adminInfo.account.account_id+"&account_t="+this.$store.getters.adminInfo.account.account_t+"&sign="+this.$store.getters.adminInfo.account.account_sign;this.url=t,this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]}}),o=s,l=i("2877"),r=Object(l["a"])(o,a,n,!1,null,"70844250",null);e["a"]=r.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},ac6a:function(t,e,i){for(var a=i("cadf"),n=i("0d58"),s=i("2aba"),o=i("7726"),l=i("32e9"),r=i("84f2"),d=i("2b4c"),c=d("iterator"),m=d("toStringTag"),u=r.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(p),f=0;f<h.length;f++){var g,b=h[f],v=p[b],_=o[b],k=_&&_.prototype;if(k&&(k[c]||l(k,c,u),k[m]||l(k,m,b),r[b]=u,v))for(g in a)k[g]||s(k,g,a[g],!0)}},d902:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("top-nav",{attrs:{title:"管理员管理"}}),t._m(0),i("div",{staticClass:"wyu-main"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[i("el-form",{staticClass:"search-form",attrs:{"label-width":"80px",size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{model:{value:t.searchForm.username,callback:function(e){t.$set(t.searchForm,"username",e)},expression:"searchForm.username"}})],1),i("el-form-item",{attrs:{label:"姓名"}},[i("el-input",{model:{value:t.searchForm.real_name,callback:function(e){t.$set(t.searchForm,"real_name",e)},expression:"searchForm.real_name"}})],1),i("el-form-item",{attrs:{label:"联系方式"}},[i("el-input",{model:{value:t.searchForm.mobile,callback:function(e){t.$set(t.searchForm,"mobile",e)},expression:"searchForm.mobile"}})],1),i("el-form-item",{attrs:{label:"是否锁定"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.is_lock,callback:function(e){t.$set(t.searchForm,"is_lock",e)},expression:"searchForm.is_lock"}},[i("el-option",{key:-100,attrs:{label:"请选择",value:-100}}),i("el-option",{key:1,attrs:{label:"已锁定",value:1}}),i("el-option",{key:0,attrs:{label:"未锁定",value:0}})],1)],1),i("div",{staticStyle:{"padding-left":"80px"}},[i("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getAdminList(1)}}},[t._v("搜索")]),i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.searchForm.username="",t.earchForm.real_name="",t.searchForm.mobile="",t.searchForm.is_lock=-100,t.getAdminList(1)}}},[t._v("取消搜索")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.createAdmin(!1)}}},[t._v("新增管理员")])],1)],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.datas.list},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"admin_id",label:"ID"}}),i("el-table-column",{attrs:{prop:"username",label:"用户名"}}),i("el-table-column",{attrs:{prop:"real_name",label:"姓名"}}),i("el-table-column",{attrs:{prop:"mobile",label:"联系方式"}}),i("el-table-column",{attrs:{label:"是否锁定"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.is_lock?"已锁定":"未锁定")+"\n            ")]}}])}),i("el-table-column",{attrs:{label:"注册信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("注册时间："+t._s(e.row.add_time))]),i("p",[t._v("注册IP："+t._s(e.row.add_ip))])]}}])}),i("el-table-column",{attrs:{label:"上次登录"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("注册时间："+t._s(e.row.last_time))]),i("p",[t._v("注册IP："+t._s(e.row.last_ip))])]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return t.lock(e)}}},[t._v(t._s(1==e.row.is_lock?"解锁":"锁定"))]),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return t.editAdmin(e.row)}}},[t._v("编辑")]),i("el-popover",{staticStyle:{margin:"0 10px"},attrs:{placement:"top",width:"160"},model:{value:e.row.is_delete,callback:function(i){t.$set(e.row,"is_delete",i)},expression:"scope.row.is_delete"}},[i("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(t){e.row.is_delete=!1}}},[t._v("取消\n                  ")]),i("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(i){return t.deleteAdmin(e.row)}}},[t._v("确定\n                  ")])],1),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),i("div",{staticClass:"page"},[i("div",{staticClass:"page-tool"},[i("el-popover",{staticStyle:{margin:"0 10px"},attrs:{placement:"top",width:"160"},model:{value:t.is_delete,callback:function(e){t.is_delete=e},expression:"is_delete"}},[i("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(e){t.is_delete=!1}}},[t._v("取消\n                ")]),i("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(e){return t.deleteByIds()}}},[t._v("确定\n                ")])],1),i("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",size:"mini",type:"danger"},slot:"reference"},[t._v("批量删除")])],1)],1),i("div",{staticClass:"page-mian"},[i("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getAdminList}})],1)])],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.subLoading,expression:"subLoading"}],attrs:{title:"管理员",visible:t.dialog,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("div",{staticClass:"wyu-tips wyu-tips-warning"},[i("p",[t._v("注意：如果是编辑管理员且不需要修改密码则密码栏留空")])]),i("br"),i("el-form",{staticStyle:{padding:"0"},attrs:{model:t.editForm,size:"small"}},[i("el-form-item",{attrs:{label:"用户名","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.username,callback:function(e){t.$set(t.editForm,"username",e)},expression:"editForm.username"}})],1),i("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.password,callback:function(e){t.$set(t.editForm,"password",e)},expression:"editForm.password"}})],1),i("el-form-item",{attrs:{label:"姓名","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.real_name,callback:function(e){t.$set(t.editForm,"real_name",e)},expression:"editForm.real_name"}})],1),i("el-form-item",{attrs:{label:"联系方式","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.mobile,callback:function(e){t.$set(t.editForm,"mobile",e)},expression:"editForm.mobile"}})],1),i("el-form-item",{attrs:{label:"是否锁定"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,value:t.editForm.is_lock},model:{value:t.editForm.is_lock,callback:function(e){t.$set(t.editForm,"is_lock",e)},expression:"editForm.is_lock"}})]}}])})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.createAdmin(!0)}}},[t._v("确 定")])],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-tips wyu-tips-warning"},[i("p",[t._v("系统中用户的操作权限是通过管理员来控制，管理员可以理解为具备一定操作权限的用户组。")])])}],s=(i("ac6a"),i("5200")),o=i("d722"),l={name:"adminRole",components:{TopNav:s["a"]},data:function(){return{subLoading:!1,loading:!1,datas:[],dialog:!1,is_delete:!1,form:{role_id:-100},editForm:{username:"",password:"",role_id:0,real_name:"",mobile:"",is_lock:0},searchForm:{role_name:""},roleId:0,roles:[],adminId:0,adminIds:[]}},created:function(){this.getAdminList()},methods:{handleSelectionChange:function(t){var e=this;this.adminIds=[],t.forEach(function(t,i){e.adminIds.push(t.admin_id)})},lock:function(t){var e=this;this.loading=!0,o["a"]("/admin/admin.admin/lock",{token:this.$store.getters.adminToken,admin_id:t.row.admin_id}).then(function(i){t.row.is_lock=!t.row.is_lock,e.loading=!1}).catch(function(t){e.loading=!1})},getAdminList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,o["a"]("/admin/admin.admin/index",{token:this.$store.getters.adminToken,page:e,username:this.searchForm.username,real_name:this.searchForm.real_name,mobile:this.searchForm.mobile,is_lock:this.searchForm.is_lock}).then(function(e){t.datas=e,t.loading=!1}).catch(function(e){t.loading=!1})},createAdmin:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0==e)this.dialog=!0,this.adminId=0,this.form.role_id=-100;else{this.subLoading=!0;var i="/admin/admin.admin/create";this.adminId>0&&(i="/admin/admin.admin/edit"),o["a"](i,{token:this.$store.getters.adminToken,admin_id:this.adminId,real_name:this.editForm.real_name,username:this.editForm.username,password:this.editForm.password,mobile:this.editForm.mobile,is_lock:this.editForm.is_lock}).then(function(e){t.subLoading=!1,t.dialog=!1,t.$message({message:"恭喜你，操作成功",type:"success"}),t.getAdminList()}).catch(function(e){t.subLoading=!1,t.dialog=!1})}},deleteAdmin:function(t){var e=this;this.loading=!0,o["a"]("/admin/admin.admin/del",{token:this.$store.getters.adminToken,admin_id:t.admin_id}).then(function(t){e.loading=!1,e.$message({message:"恭喜你，操作成功",type:"success"}),e.getAdminList()}).catch(function(t){e.loading=!1})},editAdmin:function(t){this.dialog=!0,this.adminId=t.admin_id,this.editForm.username=t.username,this.editForm.password=t.password,this.editForm.real_name=t.real_name,this.editForm.mobile=t.mobile,this.editForm.is_lock=t.is_lock,this.editForm.admin_id=t.admin_id},deleteByIds:function(){}}},r=l,d=i("2877"),c=Object(d["a"])(r,a,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-485f3ea5.0579dc5d.js.map