(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0859410d"],{"0572":function(t,s,a){"use strict";var i=a("2971"),e=a.n(i);e.a},2971:function(t,s,a){},5200:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"wyu-top"},[i("div",{staticClass:"wyu-header"},[t.title?t._e():i("div",{staticClass:"wyu-tab"},[i("ul",t._l(t.showMenu,function(s,a){return i("li",{key:a,class:a==t.select?"on":""},[i("router-link",{attrs:{to:s.link}},[t._v(t._s(s.title))])],1)}),0)]),t.title?i("div",{staticClass:"wyu-tab"},[i("ul",[i("li",[t._v(t._s(t.title))])])]):t._e(),i("div",{staticClass:"wyu-header-status"},[i("div",{staticClass:"message"},[i("a",{attrs:{target:"_blank",href:t.url}},[i("i",{staticClass:"iconfont icon-gongdan"}),t._v("  售后工单")])]),i("div",{staticClass:"login-info"},[i("img",{attrs:{src:a("741c")}}),i("el-dropdown",{staticStyle:{cursor:"pointer"}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                        欢迎您   "+t._s(t.$store.getters.adminInfo.info.username)+"  "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1)],1)])])])},e=[],n=(a("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{url:"",showMenu:[],menu:{sms:[{title:"短信设置",link:"/setting/sms/index"},{title:"模版管理",link:"/setting/sms/template"}]}}},methods:{logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}},created:function(){var t="https://www.woyaou.com/home/passport/worklogin.html?account_id="+this.$store.getters.adminInfo.account.account_id+"&account_t="+this.$store.getters.adminInfo.account.account_t+"&sign="+this.$store.getters.adminInfo.account.account_sign;this.url=t,this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]}}),l=n,o=a("2877"),c=Object(o["a"])(l,i,e,!1,null,"70844250",null);s["a"]=c.exports},"741c":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},efe7:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("top-nav",{attrs:{title:t.detail.app_name?t.detail.app_name:""}}),a("div",{staticClass:"wyu-main"},[a("div",{staticClass:"wyu-tabbar"},[a("ul",[a("li",{staticClass:"on"},[a("router-link",{attrs:{to:"/miniapp/detail/"+t.apptype}},[t._v("程序首页")])],1),a("li",[a("router-link",{attrs:{to:"/miniapp/index/"+t.apptype}},[t._v("客户管理")])],1),a("li",[a("router-link",{attrs:{to:"/miniapp/template/"+t.apptype}},[t._v("模版管理")])],1),a("li",[a("router-link",{attrs:{to:"/miniapp/sms/"+t.apptype}},[t._v("短信模板")])],1)])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"wyu-block",staticStyle:{"min-height":"600px"}},[a("div",{staticClass:"wyu-title",staticStyle:{"margin-bottom":"0px"}},[a("h2",[t._v("程序管理")])]),a("div",{staticClass:"miniapp-box"},[1==t.is_update?a("div",{staticClass:"upgrade"},[t._v("\n                              发现"+t._s(t.detail.app_name)+"最新版本"+t._s(t.update_v)+" "),a("el-badge",{attrs:{"is-dot":""}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini"},on:{click:function(s){return t.installIng()}}},[t._v("升级")])],1)],1):t._e(),a("div",{staticClass:"miniapp-logo"},[a("img",{attrs:{src:t.detail.icon?t.detail.icon:"/img/icon_app01.png"}})]),a("div",{staticClass:"miniapp-title"},[t._v("\n                              "+t._s(t.detail.app_name)+"  "),a("span",{staticClass:"v"},[t._v("版本："+t._s(t.detail.app_v))])]),a("div",{staticClass:"miniapp-des"},[t._v("\n                             "+t._s(t.detail.app_desc)+"\n                          ")])]),a("el-dialog",{attrs:{title:"程序升级中",visible:t.dialogVisibleInstall,"modal-append-to-body":!1,"close-on-click-modal":!1,"show-close":!1,width:"600px"},on:{"update:visible":function(s){t.dialogVisibleInstall=s}}},[a("div",{staticClass:"wyu-install"},[a("ul",[a("li",[t._v("\n                                      1 )、 云端通讯检测中 \n                                      "),1==t.installStatus.step1?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step1?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step1?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()]),a("li",[t._v("\n                                      2 )、 下载应用安装包 \n                                      "),1==t.installStatus.step2?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step2?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step2?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()]),a("li",[t._v("\n                                      3 )、 解压应用安装包 \n                                      "),1==t.installStatus.step3?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step3?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step3?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()]),a("li",[t._v("\n                                     4 )、  应用数据库安装中\n                                     "),1==t.installStatus.step4?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step4?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step4?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()]),a("li",[t._v("\n                                      5 )、 应用文件安装中 \n                                      "),1==t.installStatus.step5?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step5?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step5?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()]),a("li",[t._v("\n                                      6 )、 升级完成正在初始化\n                                      "),1==t.installStatus.step6?a("i",{staticClass:"el-icon-loading"}):t._e(),8==t.installStatus.step6?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):t._e(),4==t.installStatus.step6?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"red"}}):t._e()])])])])],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"wyu-block"},[a("div",{staticClass:"wyu-title",staticStyle:{"margin-bottom":"20px"}},[a("h2",[t._v("升级动态")])]),a("el-timeline",t._l(t.vs,function(s,i){return a("el-timeline-item",{key:i,attrs:{timestamp:s.t,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(s.title))]),a("p",[t._v(t._s(s.desc))])])],1)}),1)],1)])],1)],1)],1)},e=[],n=(a("a481"),a("5200")),l=a("d722"),o="https://www.woyaou.com/api/",c={name:"adminDetail",components:{TopNav:n["a"]},data:function(){return{apptype:0,detail:[],is_update:0,update_v:"",vs:[],updateId:0,dialogVisibleInstall:!1,installStatus:{step1:0,step2:0,step3:0,step4:0,step5:0,step6:0}}},created:function(){this.apptype=this.$route.params.apptype,this.apptype?this.initWyu():this.$router.replace("/404")},methods:{downLoading:function(){var t=this;this.installStatus.step2=1,l["a"]("admin/setting.apps/download",{token:this.$store.getters.adminToken,app_id:this.apptype,updateId:this.updateId,update_v:this.update_v}).then(function(s){t.installStatus.step2=8,t.unzip()}).catch(function(s){t.installStatus.step2=4})},installYes:function(){var t=this;this.installStatus.step6=1,l["a"]("admin/setting.apps/updateYes",{token:this.$store.getters.adminToken,app_id:this.apptype,updateId:this.updateId,update_v:this.update_v}).then(function(s){t.installStatus.step6=8,t.dialogVisibleInstall=!1,t.initWyu(),t.$message({type:"success",message:"升级成功！"})}).catch(function(s){t.installStatus.step6=4})},installFile:function(){var t=this;this.installStatus.step5=1,l["a"]("admin/setting.apps/installFile",{token:this.$store.getters.adminToken,app_id:this.apptype,updateId:this.updateId,update_v:this.update_v}).then(function(s){t.installStatus.step5=8,t.installYes()}).catch(function(s){t.installStatus.step5=4})},installSql:function(){var t=this;this.installStatus.step4=1,l["a"]("admin/setting.apps/installSql",{token:this.$store.getters.adminToken,app_id:this.apptype,updateId:this.updateId,update_v:this.update_v}).then(function(s){t.installStatus.step4=8,t.installFile()}).catch(function(s){t.installStatus.step4=4})},unzip:function(){var t=this;this.installStatus.step3=1,l["a"]("admin/setting.apps/unzip",{token:this.$store.getters.adminToken,app_id:this.apptype,updateId:this.updateId,update_v:this.update_v}).then(function(s){t.installStatus.step3=8,t.installSql()}).catch(function(s){t.installStatus.step3=4})},installIng:function(){var t=this;this.$confirm("您确定要升级程序么？升级前请做好备份","升级提醒",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",center:!0}).then(function(){t.apptype&&(t.dialogVisibleInstall=!0,t.installStatus.step1=1,l["a"](o+"account/upgradeInit",{app_id:t.apptype,account_id:t.$store.getters.adminInfo.account.account_id,account_t:t.$store.getters.adminInfo.account.account_t,account_sign:t.$store.getters.adminInfo.account.account_sign}).then(function(s){s.updateId?(t.updateId=s.updateId,t.update_v=s.update_v,t.installStatus.step1=8,t.downLoading()):t.installStatus.step1=4}).catch(function(s){t.installStatus.step1=4}))}).catch(function(){})},initWyu:function(){var t=this;l["a"](o+"account/getAppDetail",{account_id:this.$store.getters.adminInfo.account.account_id,account_t:this.$store.getters.adminInfo.account.account_t,account_sign:this.$store.getters.adminInfo.account.account_sign,app_id:this.apptype}).then(function(s){t.detail=s.detail,t.is_update=s.is_update,t.update_v=s.update_v,t.vs=s.versions}).catch(function(s){t.$router.replace("/buyauth")})}}},p=c,u=(a("0572"),a("2877")),r=Object(u["a"])(p,i,e,!1,null,"3f439cac",null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-0859410d.64d7284d.js.map