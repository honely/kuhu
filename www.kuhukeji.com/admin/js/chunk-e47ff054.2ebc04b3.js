(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e47ff054"],{5200:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-top"},[i("div",{staticClass:"wyu-header"},[t.title?t._e():i("div",{staticClass:"wyu-tab"},[i("ul",t._l(t.showMenu,function(e,a){return i("li",{key:a,class:a==t.select?"on":""},[i("router-link",{attrs:{to:e.link}},[t._v(t._s(e.title))])],1)}),0)]),t.title?i("div",{staticClass:"wyu-tab"},[i("ul",[i("li",[t._v(t._s(t.title))])])]):t._e(),i("div",{staticClass:"wyu-header-status"},[i("div",{staticClass:"message"},[i("a",{attrs:{target:"_blank",href:t.url}},[i("i",{staticClass:"iconfont icon-gongdan"}),t._v("  售后工单")])]),i("div",{staticClass:"login-info"},[i("img",{attrs:{src:a("741c")}}),i("el-dropdown",{staticStyle:{cursor:"pointer"}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                        欢迎您   "+t._s(t.$store.getters.adminInfo.info.username)+"  "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[t._v("退出登录")])])],1)],1)],1)])])])},s=[],n=(a("a481"),{props:["mdl","select","title"],name:"TopNav",data:function(){return{url:"",showMenu:[],menu:{sms:[{title:"短信设置",link:"/setting/sms/index"},{title:"模版管理",link:"/setting/sms/template"}]}}},methods:{logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.replace("/")})}},created:function(){var t="https://www.woyaou.com/home/passport/worklogin.html?account_id="+this.$store.getters.adminInfo.account.account_id+"&account_t="+this.$store.getters.adminInfo.account.account_t+"&sign="+this.$store.getters.adminInfo.account.account_sign;this.url=t,this.menu[this.mdl]?this.showMenu=this.menu[this.mdl]:this.showMenu=[]}}),o=n,r=a("2877"),l=Object(r["a"])(o,i,s,!1,null,"70844250",null);e["a"]=l.exports},"741c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA9VJREFUWAnNmctKJDEUQFNt2T5oH/gAH+BOFy3MR8xC8D9mM5tZzIfMTtz4H4ILP2LABnUn+ABBFBvftnNPpm9NOlaqOo12z4WQVHJv7umbR6XSifHk+Ph4/e3t7ZukDUkr0lzzVD76sZkkyYmkPUk7q6urB66DRB8Epnp0dPRLnr9LuaL1/cwFsCX+ttfW1n5K+QnfFrANtyv5134ChXwJ3L5AbgJpI0Xk/hc4oGFpj6ZJmHOtVuu3VA5kWAui2KpUKl9SAWNB9AxXrVbN1NSUGR8fN8PDw9bf8/Ozubu7Mzc3N+bpyU6lEEewHibYksPDwwMp1IOaBQ3z8/MWrkDFQl5eXhapBNtkDjaIIFtJtCwtLZmxsTHmS6Ht5OSkjezZ2VmhXl4jbAxt9D43OztrRkZGjMzdrhK62PQgtei5xzybmJiwkSN63SZsdI7GgEYD1mo1C0X0FE7Lbq7RRUfrsY2VNNZAhxY7nKtoWfO8emxjJRpQ9iYbEdeRrLYOWP8ZXeqwjZVoQD9COPTr/GfVyasvA44GZBPuZbIDgm2sRAM+Pj6aoaGhWD9WH9tYiQbkFcYG3YtgGyvRgK+vr/Y9Ozo6GuXr4eHBYBsr0YA4aDabdkV2OxeZe9j0IqWAoZXHSYUTTFkkiVzR0LL9FEkuYAjK7wjHALABE03d53hzEDUWBeUicX3lwXYAuspFnbptANzf39vk1vdSVv8uaAaojWUdd6sX6sd1HtLBh+pZwDKnofZQve9YnVHv2rj1vg16tHNg9duyZ7+t7DkzLCkomPanz74Z7dkQ5zVqnXbEmY7ERp2mabYoVC+UM09fXl7sPL29vTUkRMHoX8t+H7mACqQ528nCwsK7d3DZCnWd8YP0B7LCLy4usu0HuBDkO0CF0nx6etrwcYTEALlwfpl3+fLysuFj6vr6OoPLg+wAVChyEr+Yb4mPAvNB6Zuhd4fch8wAXTg6Yp7Nzc19GpzC4gNINnyF0xydDFANyFGYmZmxuYK77R9dxtfp6WnuQrGACkFO4tXFPPmsofV/IL7wqedFd9EAyDGjppAYs2r7BYc/BJ8KCEt722myUZ9Iu736oIHEfQt5P8X1qXsibKmcQPYkWtndDCcSUr8jqH7dwMCWyvjvCMwPaeA2yZ7v+g2nI8U85GSESBRbsFXad8LbqsSOD+AgEr4d2YYtuwJuNBq7AvWVJU+4ByEE5erqCv/79Xr93xWwhJNbxk0J6RahHUT08Nke1i1Y2kx/L9HdaJ2fn6/L1xe3rhuitCJ5/I2P22FJWXw0xYf9G4I5t7i42PE3xB9oWTpXj6b+tQAAAABJRU5ErkJggg=="},ac6a:function(t,e,a){for(var i=a("cadf"),s=a("0d58"),n=a("2aba"),o=a("7726"),r=a("32e9"),l=a("84f2"),p=a("2b4c"),m=p("iterator"),c=p("toStringTag"),d=l.Array,u={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=s(u),f=0;f<h.length;f++){var _,g=h[f],b=u[g],v=o[g],y=v&&v.prototype;if(y&&(y[m]||r(y,m,d),y[c]||r(y,c,g),l[g]=d,b))for(_ in i)y[_]||n(y,_,i[_],!0)}},e470:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-nav",{attrs:{title:t.appTypeInfo.app_name?t.appTypeInfo.app_name+"客户管理":""}}),a("div",{staticClass:"wyu-main"},[a("div",{staticClass:"wyu-tabbar"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/miniapp/detail/"+t.apptype}},[t._v("程序首页")])],1),a("li",{staticClass:"on"},[a("router-link",{attrs:{to:"/miniapp/index/"+t.apptype}},[t._v("客户管理")])],1),a("li",[a("router-link",{attrs:{to:"/miniapp/template/"+t.apptype}},[t._v("模版管理")])],1),a("li",[a("router-link",{attrs:{to:"/miniapp/sms/"+t.apptype}},[t._v("短信模板")])],1)])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[a("el-form",{staticClass:"search-form",attrs:{"label-width":"80px",size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-form-item",{attrs:{label:"APP名称"}},[a("el-input",{model:{value:t.searchForm.app_name,callback:function(e){t.$set(t.searchForm,"app_name",e)},expression:"searchForm.app_name"}})],1),a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{model:{value:t.searchForm.member_id,callback:function(e){t.$set(t.searchForm,"member_id",e)},expression:"searchForm.member_id"}})],1),a("el-form-item",{attrs:{label:"添加时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.searchForm.bg_add_time,callback:function(e){t.$set(t.searchForm,"bg_add_time",e)},expression:"searchForm.bg_add_time"}}),t._v("至\n          "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.searchForm.end_add_time,callback:function(e){t.$set(t.searchForm,"end_add_time",e)},expression:"searchForm.end_add_time"}})],1),a("div",{staticStyle:{"padding-left":"80px"}},[a("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getAppList(1)}}},[t._v("搜索")]),a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.searchForm.member_id="",t.searchForm.app_type=-100,t.searchForm.bg_add_time="",t.searchForm.end_add_time="",t.searchForm.app_name=""}}},[t._v("取消搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas.list},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"app_id",label:"APPID",width:"80"}}),a("el-table-column",{attrs:{prop:"app_name",label:"APP名称"}}),a("el-table-column",{attrs:{prop:"sms_num",label:"短信数"}}),a("el-table-column",{attrs:{prop:"expire_time",label:"过期时间"}}),a("el-table-column",{attrs:{label:"创建信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("创建时间："+t._s(e.row.add_time))]),a("p",[t._v("创建IP："+t._s(e.row.add_ip))])]}}])}),a("el-table-column",{attrs:{label:"所属用户"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("用户ID："+t._s(e.row.member_id))]),a("p",[t._v("手机："+t._s(e.row.mobile))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticStyle:{"margin-right":"10px","font-size":"12px",color:"#409EFF"},attrs:{target:"_blank",href:e.row.url}},[t._v("管理")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.editApp(e.row)}}},[t._v("编辑")]),a("el-popover",{staticStyle:{margin:"0 10px"},attrs:{placement:"top",width:"160"},model:{value:e.row.is_delete,callback:function(a){t.$set(e.row,"is_delete",a)},expression:"scope.row.is_delete"}},[a("p",{staticStyle:{"margin-bottom":"4px"}},[t._v("确定删除吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{loading:t.loading,size:"mini",type:"text"},on:{click:function(t){e.row.is_delete=!1}}},[t._v("取消\n                ")]),a("el-button",{attrs:{loading:t.loading,type:"primary",size:"mini"},on:{click:function(a){return t.deleteApp(e.row)}}},[t._v("确定\n                ")])],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),a("div",{staticClass:"page"},[a("div",{staticClass:"page-tool"},[a("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:t.deleteAppByIds}},[t._v("批量删除")])],1),a("div",{staticClass:"page-mian"},[a("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getAppList}})],1)])],1)]),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.subLoading,expression:"subLoading"}],attrs:{title:"APP",visible:t.dialog,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(e){t.dialog=e}}},[a("el-form",{staticStyle:{padding:"0"},attrs:{model:t.form,size:"small"}},[a("el-form-item",{attrs:{label:"APP名称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.app_name,callback:function(e){t.$set(t.form,"app_name",e)},expression:"form.app_name"}})],1),a("el-form-item",{attrs:{label:"短信数","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"编辑用户时留空代表不修改密码"},model:{value:t.form.sms_num,callback:function(e){t.$set(t.form,"sms_num",e)},expression:"form.sms_num"}})],1),a("el-form-item",{attrs:{label:"过期时间","label-width":"100px"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:t.form.expire_time,callback:function(e){t.$set(t.form,"expire_time",e)},expression:"form.expire_time"}})],1),a("el-form-item",{attrs:{label:"用户ID","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:t.form.member_id,callback:function(e){t.$set(t.form,"member_id",e)},expression:"form.member_id"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog=!1,t.editApp=!0}}},[t._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.saveApp(!0)}}},[t._v("确 定")])],1)],1)],1)},s=[],n=a("f499"),o=a.n(n),r=(a("ac6a"),a("a481"),a("5200")),l=a("d722"),p="https://www.woyaou.com/api/",m={name:"adminRole",components:{TopNav:r["a"]},data:function(){return{apptype:0,appTypeInfo:[],subLoading:!1,loading:!1,datas:[],dialog:!1,form:{app_name:"",money:0,sms_num:0,member_id:0,expire_time:""},searchForm:{app_name:"",member_id:0,app_id:0,bg_add_time:"",end_add_time:""},app_id:0,appIds:[]}},created:function(){this.apptype=this.$route.params.apptype,this.apptype?this.initWyu():this.$router.replace("/404")},methods:{initWyu:function(){var t=this;l["a"](p+"account/checkApp",{account_id:this.$store.getters.adminInfo.account.account_id,account_t:this.$store.getters.adminInfo.account.account_t,account_sign:this.$store.getters.adminInfo.account.account_sign,app_id:this.apptype}).then(function(e){t.getAppList()}).catch(function(e){t.$router.replace("/buyauth")})},handleSelectionChange:function(t){var e=this;this.appIds=[],t.forEach(function(t,a){e.appIds.push(t.app_id)})},getAppList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,l["a"]("/admin/app.app/index",{token:this.$store.getters.adminToken,page:e,member_id:this.searchForm.member_id,app_name:this.searchForm.app_name,app_type:this.apptype,end_add_time:this.searchForm.end_add_time,bg_add_time:this.searchForm.bg_add_time}).then(function(e){t.datas=e,t.appTypeInfo=e.appTypeInfo,console.log(t.appTypeInfo),t.loading=!1}).catch(function(e){t.loading=!1})},saveApp:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0==e)this.dialog=!0,this.form.app_id=0,this.form.app_name=0,this.form.sms_num=0,this.form.member_id=0,this.form.expire_time=0;else{this.subLoading=!0;var a="/admin/app.app/edit";l["a"](a,{token:this.$store.getters.adminToken,app_id:this.app_id,app_name:this.form.app_name,sms_num:this.form.sms_num,member_id:this.form.member_id,expire_time:this.form.expire_time}).then(function(e){t.form.role_name="",t.subLoading=!1,t.dialog=!1,t.$message({message:"恭喜你，操作成功",type:"success"}),t.getAppList()}).catch(function(e){t.subLoading=!1,t.dialog=!1})}},deleteApp:function(t){var e=this;this.loading=!0,l["a"]("/admin/app.app/del",{token:this.$store.getters.adminToken,app_id:t.app_id}).then(function(t){e.loading=!1,e.$message({message:"恭喜你，操作成功",type:"success"}),e.getAppList()}).catch(function(t){e.loading=!1})},deleteAppByIds:function(){var t=this;this.loading=!0,l["a"]("/admin/app.app/delAppByIds",{token:this.$store.getters.adminToken,appIds:o()(this.appIds)}).then(function(e){t.loading=!1,t.$message({message:"恭喜你，操作成功",type:"success"}),t.getAppList()}).catch(function(e){t.loading=!1})},editApp:function(t){this.dialog=!0,this.app_id=t.app_id,this.form.app_name=t.app_name,this.form.money=t.money,this.form.sms_num=t.sms_num,this.form.member_id=t.member_id,this.form.expire_time=t.expire_time}}},c=m,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-e47ff054.2ebc04b3.js.map