(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba93a7a0"],{"1b85":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-date-picker",{attrs:{type:"daterange","picker-options":t.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:t.selectDate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},a=[],o={name:"DateBetween",props:["date"],data:function(){return{pickerOptions2:{shortcuts:[{text:"最近七天",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近半个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-1296e6),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}}]},value:""}},methods:{selectDate:function(t){var e=0,i=0;t&&(e=t[0].getFullYear()+"-"+(t[0].getMonth()+1)+"-"+t[0].getDate(),i=t[1].getFullYear()+"-"+(t[1].getMonth()+1)+"-"+t[1].getDate()),this.$emit("input",[e,i])}}},l=o,n=i("2877"),r=Object(n["a"])(l,s,a,!1,null,"082e0500",null);e["a"]=r.exports},"51e6":function(t,e,i){"use strict";var s=i("85d8"),a=i.n(s);a.a},"85d8":function(t,e,i){},"981d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.typeLoading,expression:"typeLoading"}],staticStyle:{width:"100%"},attrs:{disabled:!0===t.disabled,size:t.size,value:t.typeId,placeholder:"请选择"},on:{input:t.setTypeId}},t._l(t.types,function(t){return i("el-option",{key:t.type_id,attrs:{label:t.name,value:t.type_id}})}),1)],1)},a=[],o=i("d722"),l={name:"SelectType",props:["size","typeId","disabled"],data:function(){return{typeLoading:!0,types:[]}},created:function(){this.getTypeList()},methods:{setTypeId:function(t){this.$emit("input",t)},getTypeList:function(){var t=this;this.typeLoading=!0,o["a"]("/shop/admin.goodstype/index",{appToken:this.$store.getters.appToken}).then(function(e){t.typeLoading=!1,t.types=e.list,t.types.unshift({type_id:0,name:"全部模型"})}).catch(function(e){t.typeLoading=!1})}}},n=l,r=i("2877"),c=Object(r["a"])(n,s,a,!1,null,"bfc729f4",null);e["a"]=c.exports},"9f3a":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wyu-img-uploads"},[t.multi?t._e():i("div",{staticClass:"wyu-img-one"},[i("div",{staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;"},[""==t.showImg?i("div",{staticClass:"image-box",on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-plus"})]):t._e(),""!=t.showImg?i("div",{staticClass:"image-box",style:"background-image: url("+t.showImg+");",on:{click:t.uploadFile}}):t._e(),""!=t.showImg?i("i",{staticClass:"el-icon-error",on:{click:t.deleteImg}}):t._e()])]),t.multi?i("div",{staticClass:"wyu-img-list"},[t._l(t.showImgs,function(e,s){return i("div",{key:s,staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;"},[i("div",{staticClass:"image-box",style:"background-image: url("+e+");"}),i("i",{staticClass:"el-icon-error",on:{click:function(e){return t.deleteImg(s)}}})])}),i("div",{staticClass:"wyu-upload-div",style:"width:"+t.myW+"px;line-height:"+t.myL+"px; height:"+t.myH+"px;",on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-plus"})])],2):t._e(),i("el-dialog",{attrs:{title:"图片相册",visible:t.dialogVisible,"modal-append-to-body":!1,width:"800px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[0==t.showTab?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"photo-upload-tab"},[i("div",{staticClass:"photo-upload-btn"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showTab=1}}},[t._v("上传图片")])],1),i("div",{staticClass:"photo-main"},[i("div",{staticClass:"photo-group"},[i("ul",t._l(t.groups,function(e,s){return i("li",{key:s,class:e.id==t.cid?"on":"",on:{click:function(i){return t.clickCategory(e.id)}}},[t._v(t._s(e.name))])}),0)]),t.multi?i("div",{staticClass:"photo-list"},t._l(t.photos,function(e,s){return i("div",{key:s,class:!1!==t.isInArray(e.photo)?"item on":"item",on:{click:function(i){return t.setSelectImgs(e.photo)}}},[i("div",{staticClass:"image-box",style:"background-image: url("+e.photo+");"}),i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})])])}),0):t._e(),t.multi?t._e():i("div",{staticClass:"photo-list"},t._l(t.photos,function(e,s){return i("div",{key:s,class:t.selectImg==e.photo?"item on":"item",on:{click:function(i){t.selectImg=e.photo}}},[i("div",{staticClass:"image-box",style:"background-image: url("+e.photo+");"}),t.selectImg==e.photo?i("label",[i("i",{staticClass:"el-icon-upload-success el-icon-check"})]):t._e()])}),0)]),i("div",{staticStyle:{height:"40px"}},[i("div",{staticClass:"pagegroup"},[i("el-pagination",{attrs:{"page-size":t.limit,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)]),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.selectPhoto()}}},[t._v("确定选取")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.clearSelect()}}},[t._v("取消选择")])],1)]):t._e(),1==t.showTab?i("div",{staticClass:"photo-upload-tab"},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"选择分组"}},[i("el-select",{staticStyle:{float:"left"},attrs:{size:"small",placeholder:"请选择分组"},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},t._l(t.groups,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t.groups.length<16?i("create-resource-category",{on:{addYes:t.getCategoryByAdd}}):t._e()],1),i("el-form-item",{attrs:{label:"上传图片"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadImgUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("p",[t._v("只能上传JPG或者PNG的图片")])],1)],1),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",disabled:!t.imageUrl},on:{click:function(e){return t.selectPhotoByAdd()}}},[t._v("确定选取")]),i("el-button",{attrs:{size:"small"},on:{click:function(e){t.showTab=0}}},[t._v("返回列表")])],1)],1):t._e()])],1)},a=[],o=i("f499"),l=i.n(o),n=i("e338"),r=i("d722"),c={name:"imgUploads",props:["multi","img","w","h"],components:{createResourceCategory:n["a"]},data:function(){return{myW:this.w?this.w:120,myH:this.h?this.h:120,myL:this.h?this.h-4:116,uploadImgUrl:"",showImg:"",showImgs:[],imageUrl:"",dialogVisible:!1,selectImg:"",selectImgs:[],showTab:0,groupId:0,cid:0,groups:[],page:1,loading:!1,total:0,limit:12,photos:[]}},watch:{img:function(t){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img},showImg:function(t){t!=this.img&&this.$emit("input",t)},showImgs:function(t){t!=this.img&&this.$emit("input",t)},groupId:function(t){var e="";e="/",this.uploadImgUrl=e+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)+"&groupId="+t}},created:function(){1==this.multi?""!=this.img&&this.img!=this.showImgs&&(this.showImgs=this.img):this.showImg=this.img;var t="";t="/",this.uploadImgUrl=t+"shop/admin.upload/imageUpload?appToken="+encodeURIComponent(this.$store.getters.appToken)},methods:{setSelectImgs:function(t){var e=this.isInArray(t);!1!==e?this.selectImgs.splice(e,1):this.selectImgs.push(t)},isInArray:function(t){for(var e=0;e<this.selectImgs.length;e++)if(t==this.selectImgs[e])return e;return!1},selectPhotoByAdd:function(){1==this.multi?this.showImgs.push(this.imageUrl):this.showImg=this.imageUrl,this.imageUrl="",this.dialogVisible=!1},selectPhoto:function(){if(1==this.multi){var t=JSON.parse(l()(this.showImgs));for(var e in this.selectImgs)t.push(this.selectImgs[e]);this.showImgs=t,this.selectImgs=[]}else this.showImg=this.selectImg,this.selectImg="";this.dialogVisible=!1},clearSelect:function(){this.selectImg="",this.selectImgs=[]},clickCategory:function(t){this.cid=t,this.page=1,this.count=0,this.getPhotos()},handleCurrentChange:function(t){this.page=t,this.getPhotos()},getPhotos:function(){var t=this;this.loading=!0,r["a"]("shop/admin.resource.resource/index",{appToken:this.$store.getters.appToken,category_id:this.cid,limit:this.limit,page:this.page}).then(function(e){t.photos=e.list,t.total=e.count,t.loading=!1}).catch(function(e){t.loading=!1})},getCategoryByAdd:function(t){this.apiGetCategory(t)},getCategory:function(){this.apiGetCategory()},apiGetCategory:function(t){var e=this,i=[{name:"全部图片",id:0}];r["a"]("shop/admin.resource.category/index",{appToken:this.$store.getters.appToken}).then(function(s){for(var a in s.list)i.push({name:s.list[a].title,id:s.list[a].category_id});e.groups=i,t&&(e.groupId=t)}).catch(function(t){})},uploadFile:function(){this.getCategory(),this.getPhotos(),this.dialogVisible=!0},deleteImg:function(t){1==this.multi?this.showImgs.splice(t,1):this.showImg=""},handleAvatarSuccess:function(t,e){this.imageUrl=t.data.img_url,this.page=1,this.cid=0,this.getPhotos()},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e}}},d=c,h=(i("51e6"),i("2877")),p=Object(h["a"])(d,s,a,!1,null,null,null);e["a"]=p.exports},ac6a:function(t,e,i){for(var s=i("cadf"),a=i("0d58"),o=i("2aba"),l=i("7726"),n=i("32e9"),r=i("84f2"),c=i("2b4c"),d=c("iterator"),h=c("toStringTag"),p=r.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=a(m),g=0;g<u.length;g++){var _,f=u[g],v=m[f],y=l[f],b=y&&y.prototype;if(b&&(b[d]||n(b,d,p),b[h]||n(b,h,f),r[f]=p,v))for(_ in s)b[_]||o(b,_,s[_],!0)}},ec72:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("选择商品")]),i("el-dialog",{attrs:{top:"10px",visible:t.dialogVisible,width:"80%",title:"选择商品","modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wyu-block"},[i("el-form",{staticClass:"search-form",attrs:{size:"mini",inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[i("el-form-item",{attrs:{label:"商品名称","label-width":"100"}},[i("el-input",{model:{value:t.searchForm.goods_name,callback:function(e){t.$set(t.searchForm,"goods_name",e)},expression:"searchForm.goods_name"}})],1),i("el-form-item",{attrs:{label:"商品编号","label-width":"100"},model:{value:t.searchForm.goods_sn,callback:function(e){t.$set(t.searchForm,"goods_sn",e)},expression:"searchForm.goods_sn"}},[i("el-input")],1),i("el-form-item",{attrs:{label:"商品分类","label-width":"100"}},[i("product-category",{attrs:{"no-add":!0,"p-cat-id":t.searchForm.p_cat_id,"cat-id":t.searchForm.cat_id},on:{selCat:t.selCat}})],1),i("el-form-item",{attrs:{label:"商品模型","label-width":"100"}},[i("select-type",{attrs:{"type-id":t.searchForm.type_id},model:{value:t.searchForm.type_id,callback:function(e){t.$set(t.searchForm,"type_id",e)},expression:"searchForm.type_id"}})],1),i("el-form-item",{attrs:{label:"扩展参数"}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_free_shipping,callback:function(e){t.$set(t.searchForm,"is_free_shipping",e)},expression:"searchForm.is_free_shipping"}},[t._v("包邮")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_plus_vip,callback:function(e){t.$set(t.searchForm,"is_plus_vip",e)},expression:"searchForm.is_plus_vip"}},[t._v("会员")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_commission,callback:function(e){t.$set(t.searchForm,"is_commission",e)},expression:"searchForm.is_commission"}},[t._v("分佣")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_hot,callback:function(e){t.$set(t.searchForm,"is_hot",e)},expression:"searchForm.is_hot"}},[t._v("热销")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_new,callback:function(e){t.$set(t.searchForm,"is_new",e)},expression:"searchForm.is_new"}},[t._v("新品")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.searchForm.is_recommend,callback:function(e){t.$set(t.searchForm,"is_recommend",e)},expression:"searchForm.is_recommend"}},[t._v("推荐 | ")])],1),i("el-form-item",{attrs:{label:"添加日期"}},[i("date-between",{model:{value:t.searchForm.date,callback:function(e){t.$set(t.searchForm,"date",e)},expression:"searchForm.date"}})],1),i("el-form-item",[i("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:function(e){return t.getList(1)}}},[t._v("搜索")])],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas.list,height:"600","row-key":"goods_id",size:"small"},on:{"selection-change":t.selectIds}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"goods_id",label:"编码/ID",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("系统ID："),i("span",[t._v(t._s(e.row.goods_id))])]),i("p",[t._v("商品编码："),i("span",[t._v(t._s(e.row.goods_sn))])])]}}])}),i("el-table-column",{attrs:{label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"ellipsis-02"},[t._v("\n                                "+t._s(e.row.goods_name)+"\n                            ")])]}}])}),i("el-table-column",{attrs:{label:"缩略图",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{width:"60",src:t.row.photo}})]}}])}),i("el-table-column",{attrs:{label:"商品价格",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("市场价："),i("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.row.market_price))])]),i("p",[t._v("本店价："),i("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.row.shop_price))])])]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"模型/分类",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("商品模型："),i("span",[t._v(t._s(e.row.type_id))])]),i("p",[t._v("商品分类："),i("span",{staticClass:"ellipsis-01"},[t._v(t._s(e.row.p_cat_id)+"--\x3e"+t._s(e.row.cat_id))])])]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"扩展信息",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-row",[i("el-col",{attrs:{span:8}},[1==e.row.is_free_shipping?i("el-tag",{attrs:{size:"mini"}},[t._v("包邮")]):t._e(),0==e.row.is_free_shipping?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("包邮")]):t._e()],1),i("el-col",{attrs:{span:8}},[1==e.row.is_plus_vip?i("el-tag",{attrs:{size:"mini"}},[t._v("会员")]):t._e(),0==e.row.is_plus_vip?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("会员")]):t._e()],1),i("el-col",{attrs:{span:8}},[1==e.row.is_commission?i("el-tag",{attrs:{size:"mini"}},[t._v("分佣")]):t._e(),0==e.row.is_commission?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("分佣")]):t._e()],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[1==e.row.is_hot?i("el-tag",{attrs:{size:"mini"}},[t._v("热销")]):t._e(),0==e.row.is_hot?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("热销")]):t._e()],1),i("el-col",{attrs:{span:8}},[1==e.row.is_new?i("el-tag",{attrs:{size:"mini"}},[t._v("新品")]):t._e(),0==e.row.is_new?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("新品")]):t._e()],1),i("el-col",{attrs:{span:8}},[1==e.row.is_recommend?i("el-tag",{attrs:{size:"mini"}},[t._v("推荐")]):t._e(),0==e.row.is_recommend?i("el-tag",{attrs:{type:"info",size:"mini"}},[t._v("推荐")]):t._e()],1)],1)]}}])}),i("el-table-column",{attrs:{prop:"goods_sn",label:"上/下架",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{value:e.row.is_online,"inactive-value":0,"active-value":1},on:{change:function(i){return t.setOnline(e.row)}}})]}}])})],1),i("div",{staticClass:"page"},[i("div",{staticClass:"page-tool"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.SelectGoodsAct}},[t._v("确认选择")])],1),i("div",{staticClass:"page-mian"},[i("el-pagination",{attrs:{"page-size":t.datas.limit,layout:"total, prev, pager, next",total:t.datas.count},on:{"current-change":t.getList}})],1)])],1)])],1)},a=[],o=(i("ac6a"),i("d722")),l=i("1b85"),n=i("0c7a"),r=i("981d"),c={name:"ProductSelect",components:{SelectType:r["a"],ProductCategory:n["a"],DateBetween:l["a"]},props:[],data:function(){return{dialogVisible:!1,loading:!1,datas:[],searchForm:this.initSearch(),selectGoods:[]}},watch:{},created:function(){this.getList()},methods:{initSearch:function(){return{date:[],is_plus_vip:0,is_commission:0,is_free_shipping:0,is_recommend:0,is_new:0,is_hot:0,cat_id:0,p_cat_id:0,type_id:0,is_online:0,goods_name:"",goods_sn:""}},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,o["a"]("/shop/admin.goods.goods/specIndex",{appToken:this.$store.getters.appToken,page:e,is_plus_vip:this.searchForm.is_plus_vip,is_commission:this.searchForm.is_commission,is_free_shipping:this.searchForm.is_free_shipping,is_recommend:this.searchForm.is_recommend,is_new:this.searchForm.is_new,is_hot:this.searchForm.is_hot,cat_id:this.searchForm.cat_id,p_cat_id:this.searchForm.p_cat_id,type_id:this.searchForm.type_id,is_online:2,end_add_time:this.searchForm.date[1]?this.searchForm.date[1]:0,bg_add_time:this.searchForm.date[0]?this.searchForm.date[0]:0,goods_name:"",goods_sn:""}).then(function(e){t.datas=e,t.loading=!1}).catch(function(){t.loading=!1})},selCat:function(t){this.searchForm.cat_id=t.cat_id,this.searchForm.p_cat_id=t.p_cat_id},setOnline:function(t){var e=this;this.loading=!0,o["a"]("/shop/admin.goods.goods/online",{appToken:this.$store.getters.appToken,goods_id:t.goods_id}).then(function(){e.loading=!1,e.getList()}).catch(function(){e.loading=!1})},selectIds:function(t){var e=[];t.forEach(function(t){e.push(t)}),this.selectGoods=e},SelectGoodsAct:function(){var t=this.selectGoods;this.dialogVisible=!1,this.$emit("selGoods",t)}}},d=c,h=i("2877"),p=Object(h["a"])(d,s,a,!1,null,null,null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-ba93a7a0.4e5d48f5.js.map