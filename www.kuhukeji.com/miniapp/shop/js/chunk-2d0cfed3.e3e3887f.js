(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfed3"],{6696:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("TopNav",{attrs:{title:"添加满减"}}),i("div",{staticClass:"wyu-main"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wyu-block"},[e._m(0),i("el-form",{ref:"goodsInfo",attrs:{model:e.goodsDetail,size:"mini","label-width":"120px"}},[i("div",{staticClass:"wyu-title"},[i("h2",[e._v("选择产品")])]),i("el-form-item",{attrs:{label:"选择产品"}},[i("product-select",{attrs:{prom_type:0},on:{selGoods:e.getGoods}})],1),i("el-form-item",[i("el-table",{staticStyle:{width:"800px"},attrs:{size:"mini",data:e.selGoods,"row-key":"key",height:"250",border:""}},[i("el-table-column",{attrs:{label:"商品ID",prop:"goods_id",width:"100"}}),i("el-table-column",{attrs:{label:"商品编号",prop:"goods_sn",width:"100"}}),i("el-table-column",{attrs:{label:"缩略图",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{attrs:{width:"40",height:"40",src:e.row.photo}})]}}])}),i("el-table-column",{attrs:{label:"商品名称",prop:"goods_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"ellipsis-02"},[e._v("\n                                    "+e._s(t.row.goods_name)+"\n                                ")])]}}])}),i("el-table-column",{attrs:{label:"价格",prop:"shop_price",width:"100"}}),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.remove(t)}}},[e._v("移除")])]}}])})],1)],1),i("div",{staticClass:"wyu-title"},[i("h2",[e._v("基本信息")])]),i("el-form-item",{attrs:{label:"满减活动名称"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.name,callback:function(t){e.$set(e.goodsDetail,"name",t)},expression:"goodsDetail.name"}})],1),i("el-form-item",{attrs:{label:"活动封面图片"}},[i("wyu-upload",{attrs:{img:e.goodsDetail.prom_img},model:{value:e.goodsDetail.prom_img,callback:function(t){e.$set(e.goodsDetail,"prom_img",t)},expression:"goodsDetail.prom_img"}}),i("p",{staticClass:"tit"},[e._v(" 建议尺寸750px*396px或等比缩放")])],1),i("el-form-item",{attrs:{label:"满"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.man,callback:function(t){e.$set(e.goodsDetail,"man",t)},expression:"goodsDetail.man"}})],1),i("el-form-item",{attrs:{label:"减"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.jian,callback:function(t){e.$set(e.goodsDetail,"jian",t)},expression:"goodsDetail.jian"}})],1),i("el-form-item",{attrs:{label:"PLUS会员满减"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.goodsDetail.is_vip,callback:function(t){e.$set(e.goodsDetail,"is_vip",t)},expression:"goodsDetail.is_vip"}})],1),1==e.goodsDetail.is_vip?i("el-form-item",{attrs:{label:"PLUS会员满"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.vip_man,callback:function(t){e.$set(e.goodsDetail,"vip_man",t)},expression:"goodsDetail.vip_man"}})],1):e._e(),1==e.goodsDetail.is_vip?i("el-form-item",{attrs:{label:"PLUS会员减"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.vip_jian,callback:function(t){e.$set(e.goodsDetail,"vip_jian",t)},expression:"goodsDetail.vip_jian"}})],1):e._e(),i("el-form-item",{attrs:{label:"满减开始时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:e.goodsDetail.start_time,callback:function(t){e.$set(e.goodsDetail,"start_time",t)},expression:"goodsDetail.start_time"}})],1),i("el-form-item",{attrs:{label:"满减结束时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:e.goodsDetail.end_time,callback:function(t){e.$set(e.goodsDetail,"end_time",t)},expression:"goodsDetail.end_time"}})],1),i("el-form-item",{attrs:{label:"排序"}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.goodsDetail.orderby,callback:function(t){e.$set(e.goodsDetail,"orderby",t)},expression:"goodsDetail.orderby"}})],1),i("el-form-item",{attrs:{label:"是否开启"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.goodsDetail.is_online,callback:function(t){e.$set(e.goodsDetail,"is_online",t)},expression:"goodsDetail.is_online"}})],1),i("div",{staticClass:"wyu-title"},[i("h2",[e._v("SEO设置")])]),i("el-form-item",{attrs:{label:"百度SEO标题","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off"},model:{value:e.goodsDetail.seo.title,callback:function(t){e.$set(e.goodsDetail.seo,"title",t)},expression:"goodsDetail.seo.title"}})],1),i("el-form-item",{attrs:{label:"百度SEO描述","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.keywords,callback:function(t){e.$set(e.goodsDetail.seo,"keywords",t)},expression:"goodsDetail.seo.keywords"}})],1),i("el-form-item",{attrs:{label:"百度SEO关键词","label-width":"120px"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},autocomplete:"off",placeholder:"请输入内容"},model:{value:e.goodsDetail.seo.description,callback:function(t){e.$set(e.goodsDetail.seo,"description",t)},expression:"goodsDetail.seo.description"}})],1),i("el-form-item",{attrs:{label:"百度SEO原始发布时间","label-width":"120px"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.goodsDetail.seo.releaseDate,callback:function(t){e.$set(e.goodsDetail.seo,"releaseDate",t)},expression:"goodsDetail.seo.releaseDate"}})],1),i("el-form-item",{attrs:{label:"百度封面图片","label-width":"120px"}},[i("img-uploads",{attrs:{multi:!0,img:e.goodsDetail.seo.image},model:{value:e.goodsDetail.seo.image,callback:function(t){e.$set(e.goodsDetail.seo,"image",t)},expression:"goodsDetail.seo.image"}}),i("p",{staticClass:"tit"},[e._v(" 用于信息流投放后的封面显示，最多3张，单图片最大2M；封面图建议尺寸：高>=210px 宽>=375px;最小尺寸: 高>=146px 宽>=218px")])],1)],1)],1)]),i("div",{staticClass:"wyu-btn-div"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.createGoods()}}},[e._v("确认提交")]),i("router-link",{staticStyle:{"margin-left":"10px"},attrs:{to:"/marketing/manjian/index"}},[i("el-button",{attrs:{size:"small"}},[e._v("取消")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wyu-tips wyu-tips-info",staticStyle:{"margin-bottom":"10px"}},[i("p",{staticClass:"tit"},[e._v("1)满减产品包邮以 关联产品为准")])])}],s=(i("7f7f"),i("f499")),l=i.n(s),n=(i("ac6a"),i("5200")),d=i("d722"),r=i("5fed"),m=i("ec72"),c=i("9f3a"),p={name:"manjianEdit",components:{ImgUploads:c["a"],ProductSelect:m["a"],TopNav:n["a"],WyuUpload:r["a"]},data:function(){return{selGoods:[],loading:!1,typeId:0,data:{},goods:{},goodsDetail:{manjian_id:0,num:0,man:0,jian:0,is_vip:1,vip_man:0,vip_jian:0,name:"",prom_img:"",start_time:"",end_time:"",is_online:1,orderby:0,seo:{title:"",keywords:"",description:"",releaseDate:"",image:[]}}}},created:function(){this.getDetail()},methods:{getGoods:function(e){var t=this;e.forEach(function(e){t.selGoods.unshift(e)});var i=[];this.selGoods=this.selGoods.reduce(function(e,t){return!i[t.goods_id]&&(i[t.goods_id]=e.push(t)),e},[])},getSelectIds:function(){var e=[];return this.selGoods.forEach(function(t){e.push(t.goods_id)}),e},remove:function(e){this.selGoods.splice(e.$index,1)},getDetail:function(){var e=this;this.loading=!0,d["a"]("/shop/admin.marketing.manjian/detail",{appToken:this.$store.getters.appToken,manjian_id:this.$route.params.id}).then(function(t){e.loading=!1,e.goodsDetail=t.detail,e.selGoods=t.goods}).catch(function(){e.loading=!1})},createGoods:function(){var e=this;this.loading=!0,d["a"]("/shop/admin.marketing.manjian/edit",{appToken:this.$store.getters.appToken,manjian_id:this.$route.params.id,goods_ids:l()(this.getSelectIds()),num:this.goodsDetail.num,name:this.goodsDetail.name,prom_img:this.goodsDetail.prom_img,man:this.goodsDetail.man,jian:this.goodsDetail.jian,vip_man:this.goodsDetail.vip_man,vip_jian:this.goodsDetail.vip_jian,start_time:this.goodsDetail.start_time,end_time:this.goodsDetail.end_time,is_online:this.goodsDetail.is_online,orderby:this.goodsDetail.orderby,is_vip:this.goodsDetail.is_vip,seo:l()(this.goodsDetail.seo)}).then(function(){e.loading=!1,e.$message({message:"提交成功",type:"success"})}).catch(function(){e.loading=!1})}}},u=p,g=i("2877"),f=Object(g["a"])(u,o,a,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0cfed3.e3e3887f.js.map